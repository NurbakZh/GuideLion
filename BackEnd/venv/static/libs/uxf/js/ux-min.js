(function($){jQuery.fn.uxapply=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var _body=jQuery("body");var source=jQuery(".source",matchedObject).not(".template .source");var dataWidth=jQuery("[data-width]",matchedObject).not(".template [data-width]");var dataDisabled=jQuery("[data-disabled]",matchedObject).not(".template [data-disabled]");var overlay=jQuery(".overlay",matchedObject).not(".template .overlay");var form=jQuery(".form",matchedObject).not(".template .form");var button=jQuery(".button",matchedObject).not(".template .button");var buttonGroup=jQuery(".button-group",matchedObject).not(".template .button-group");var textField=jQuery(".text-field",matchedObject).not(".template .text-field");var textArea=jQuery(".text-area",matchedObject).not(".template .text-area");var dropField=jQuery(".drop-field",matchedObject).not(".template .drop-field");var selectField=jQuery(".select-field",matchedObject).not(".template .select-field");var checkField=jQuery(".check-field",matchedObject).not(".template .check-field");var radioField=jQuery(".radio-field",matchedObject).not(".template .radio-field");var tagField=jQuery(".tag-field",matchedObject).not(".template .tag-field");var incrementalField=jQuery(".incremental-field",matchedObject).not(".template .incremental-field");var toggleField=jQuery(".toggle-field",matchedObject).not(".template .toggle-field");var dropTag=jQuery(".drop-tag",matchedObject).not(".template .drop-tag");var table=jQuery(".table",matchedObject).not(".template .table");var image=jQuery(".image",matchedObject).not(".template .image");var calendar=jQuery(".calendar",matchedObject).not(".template .calendar");var menulink=jQuery(".menu-link",matchedObject).not(".template .menu-link");var slider=jQuery(".slider",matchedObject).not(".template .slider");var scrollList=jQuery(".scroll-list",matchedObject).not(".template .scroll-list");var overlayPanel=jQuery(".overlay-panel",matchedObject).not(".template .overaly-panel");var overlaySearch=jQuery(".overlay-search",matchedObject).not(".template .overaly-search");var window=jQuery(".window",matchedObject).not(".template .window");var wizard=jQuery(".wizard",matchedObject).not(".template .wizard");var panel=jQuery(".panel",matchedObject).not(".template .panel");var tabPanel=jQuery(".tab-panel",matchedObject).not(".template .tab-panel");var panelMore=jQuery(".panel-more",matchedObject).not(".template .panel-more");var panelStack=jQuery(".panel-stack",matchedObject).not(".template .panel-stack");var breadcrumbs=jQuery(".breadcrumbs",matchedObject).not(".template .breadcrumbs");var hightlightBox=jQuery(".hightlight-box",matchedObject).not(".template .hightlight-box");var replacer=jQuery(".replacer",matchedObject).not(".template .replacer");var dataSource=jQuery(".data-source",matchedObject).not(".template .data-source");var filter=jQuery(".filter",matchedObject).not(".template .filter");var hoveringbox=jQuery(".hovering-box",matchedObject).not(".template .hovering-box");var headerNotification=jQuery(".header-notification",matchedObject).not(".template .header-notification");var link=jQuery(".link",matchedObject).not(".template .link");var linkConfirm=jQuery(".link-confirm",matchedObject).not(".template .link-confirm");var list=jQuery(".list",matchedObject).not(".template .list");var selectList=jQuery(".select-list",matchedObject).not(".template .select-list");var sourceList=jQuery(".source-list",matchedObject).not(".template .source-list");var crossList=jQuery(".cross-list",matchedObject).not(".template .cross-list");var progressBar=jQuery(".progress-bar",matchedObject).not(".template .progress-bar");var passwordMeter=jQuery(".password-meter",matchedObject).not(".template .password-meter");var changer=jQuery(".changer",matchedObject).not(".template .changer");var contentChanger=jQuery(".content-changer",matchedObject).not(".template .content-changer");var dateTime=jQuery(".date-time",matchedObject).not(".template .date-time");var enumeration=jQuery(".enumeration",matchedObject).not(".template .enumeration");var number=jQuery(".number",matchedObject).not(".template .number");var timestamp=jQuery(".timestamp",matchedObject).not(".template .timestamp");var slideshow=jQuery(".slideshow",matchedObject).not(".template .slideshow");var chart=jQuery(".chart",matchedObject).not(".template .chart");var video=jQuery(".video",matchedObject).not(".template .video");var uploader=jQuery(".uploader",matchedObject).not(".template .uploader");var transformFlip=jQuery(".transform-flip",matchedObject).not(".template .transform-flip");var fileDrop=jQuery(".file-drop",matchedObject).not(".template .file-drop");var imageUpload=jQuery(".image-upload",matchedObject).not(".template .image-upload");var shortcuts=jQuery(".shortcuts",matchedObject).not(".template .shortcuts");var scan=jQuery(".scan",matchedObject).not(".template .scan");var focus=jQuery(".focus",matchedObject).not(".template .focus");var nameChange=jQuery(".name-change",matchedObject).not(".template .name-change");var _print=jQuery(".print",matchedObject).not(".template .print");var _eval=jQuery(".eval",matchedObject).not(".template .eval");var gatewayPrint=jQuery(".gateway-print",matchedObject).not(".template .gateway-print");var gateway=_body.hasClass("gateway");var waitLoad=_body.hasClass("wait-load");gateway&&_body.uxgateway();source.uxsource();dataWidth.uxdatawidth();scan.uxscan();overlay.uxoverlay();form.uxform();button.uxbutton();buttonGroup.uxbuttongroup();textField.uxtextfield();textArea.uxtextfield();dropField.uxdropfield();selectField.uxselectfield();checkField.uxcheckfield();radioField.uxradiofield();tagField.uxtagfield();incrementalField.uxincrementalfield();toggleField.uxtogglefield();dropTag.uxdroptag();table.uxtable();image.uximage();calendar.uxcalendar();menulink.uxmenulink();slider.uxslider();scrollList.uxscrolllist();overlayPanel.uxoverlaypanel();overlaySearch.uxoverlaysearch();window.uxwindow();wizard.uxwizard();panel.uxpanel();tabPanel.uxtabpanel();panelMore.uxpanelmore();panelStack.uxpanelstack();breadcrumbs.uxbreadcrumbs();hightlightBox.uxhightlightbox();replacer.uxreplacer();dataSource.uxdatasource();filter.uxfilter();hoveringbox.uxhoveringbox();headerNotification.uxheadernotification();link.uxlink();linkConfirm.uxlinkconfirm();list.uxlist();selectList.uxselectlist();sourceList.uxsourcelist();crossList.uxcrosslist();progressBar.uxprogressbar();passwordMeter.uxpasswordmeter();changer.uxchanger();contentChanger.uxcontentchanger();dateTime.uxdatetime();enumeration.uxenumeration();number.uxnumber();timestamp.uxtimestamp();slideshow.uxslideshow();chart.uxchart();video.uxvideo();transformFlip.uxtransformflip();fileDrop.uxfiledrop();imageUpload.uximageupload();shortcuts.uxshortcuts();focus.uxfocus();nameChange.uxnamechange();textField.uxerror();textArea.uxerror();table.uxerror();uploader.uxuploader();_print.uxprint();_body.uxbrowser();_eval.uxeval();gatewayPrint.uxgprint();dataDisabled.uxdisable();waitLoad&&_body.show();};var _registerHandlers=function(){var _body=jQuery("body");try{alert=function(message,callback){_body.uxalert(message,callback);return null;};confirm=function(message,callback){_body.uxconfirm(message,callback);return null;};}catch(exception){}};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxdatawidth=function(query,callback,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var width=_element.attr("data-width");_element.css("min-width",width+"px");_element.css("width",width+"px");_element.css("max-width",width+"px");});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.uxclone=function(value){if(value==null||typeof value!=="object"){return value;}
var copy=value.constructor();for(var name in value){if(!value.hasOwnProperty(name)){continue;}
copy[name]=value[name];}
return copy;};})(jQuery);(function($){jQuery.uxequals=function(first,second){var element;var valueF;var valueS;var type;var valid;for(element in first){valueS=second[element];if(valueS!==undefined){continue;}
return false;}
for(element in second){valueF=first[element];if(valueF!==undefined){continue;}
return false;}
for(element in first){valueF=first[element];valueS=second[element];type=typeof(valueF);valid=true;switch(type){case"object":valid=jQuery.uxequals(valueF,valueS);break;default:valid=valueF===valueS;break;}
if(valid){continue;}
return false;}
return true;};})(jQuery);(function($){jQuery.uxruntimeerror=function(message){return{message:message}};})(jQuery);(function($){jQuery.uxexception=function(message){return{message:message}};})(jQuery);(function($){jQuery.uxround=function(value,decimalPlaces){var rounder=Math.pow(10,decimalPlaces);return Math.round(value*rounder)/rounder;};})(jQuery);(function($){jQuery.fn.uxdataqueryjson=function(query,callback,options){var DEFAULT_TIMEOUT=250;var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_getResults(_element,query,callback);});};var _getResults=function(element,query,callback){var id=query["id"];var filterString=query["filterString"];var sort=query["sort"]||["default","descending"];var filters=query["filters"]||[];var startRecord=query["startRecord"];var numberRecords=query["numberRecords"];var sortValue=sort?sort[0]:null;var sortOrder=sort?sort[1]:null;var sortString=sort?sortValue+":"+sortOrder:null;var _filters=[];for(var index=0;index<filters.length;index++){var filter=filters[index];var attribute=filter[0];var operation=filter[1];var value=filter[2];var isSequence=typeof value=="object";if(isSequence){value=value.join(";")}
var _filter=attribute+":"+operation+":"+value;_filters.push(_filter);}
var filter=false;if(startRecord!=null&&numberRecords!=null){filter=true;}
var url=element.data("url");var data=element.data("data");var cacheD=element.data("cache_d");url+=id?"/"+id+".json":""
numberRecords=numberRecords?numberRecords+1:numberRecords;var isDirty=matchedObject.data("is_dirty");matchedObject.data("is_dirty",true);var timeout=matchedObject.attr("data-timeout");timeout=!isDirty?0:timeout?parseInt(timeout):DEFAULT_TIMEOUT;var query={filter_string:filterString,sort:sortString,filters:_filters,start_record:startRecord,number_records:numberRecords}
var queryHash=_queryHash(query);var identifier=new Date().getTime();matchedObject.data("current",identifier)
var cache=matchedObject.data("cache");var cacheItem=cache[queryHash];if(cacheItem){callback(cacheItem.validItems,cacheItem.moreItems,cacheItem.extraItems);return;}
setTimeout(function(){var current=matchedObject.data("current");if(current!=identifier){return;}
for(var key in data){query[key]=data[key];}
jQuery.ajax({url:url,dataType:"text",data:query,error:function(request,status,error){var current=matchedObject.data("current");if(current!=identifier){return;}
var _body=jQuery("body");_body.uxinfo("There was an error retrieving json data","Warning","warning");callback(null,null);},success:function(data){var validItems=jQuery.parseJSON(data);var extraItems=validItems;if(!(validItems.constructor==Array)){var baseValue=validItems._base;validItems=baseValue?validItems[baseValue]:[validItems];}
var validItemsLength=validItems.length;var moreItems=validItemsLength==numberRecords;var endSlice=numberRecords?numberRecords
-1:1;validItems=validItems.slice(0,endSlice);var cache=matchedObject.data("cache");cache[queryHash]=cacheD?null:{validItems:validItems,moreItems:moreItems,extraItems:extraItems};var current=matchedObject.data("current");if(current!=identifier){return;}
callback(validItems,moreItems,extraItems);}});},timeout);};var _queryHash=function(query){var filterString=query.filter_string;var sort=query.sort;var filters=query.filters;var startRecord=query.start_record;var numberRecords=query.number_records;var _filters=filters.join();var queryString=filterString+sort+_filters
+String(startRecord)+String(numberRecords);var hash=Md5.digest(queryString);return hash;};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxdataquerylocal=function(query,callback,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_getResults(_element,query,callback);});};var _getResults=function(element,query,callback){var id=query["id"];var filterString=query["filterString"];var filterAttributes=query["filterAttributes"];var startRecord=query["startRecord"];var numberRecords=query["numberRecords"];var filter=false;if(startRecord!=null&&numberRecords!=null){filter=true;}
var items=element.data("items");var validItems=[];if(id){var itemsId=[];for(var index=0;index<items.length;index++){var item=items[index];var itemId=parseInt(item["id"]);if(isNaN(itemId)){continue;}
if(itemId==id){itemsId.push(item);}}
items=itemsId;}
for(var index=0;index<items.length;index++){var currentItem=items[index];if(filterAttributes){var compareStrings=[];for(var _index=0;_index<filterAttributes.length;_index++){var filterAttribute=filterAttributes[_index];var compareString=currentItem[filterAttribute];compareStrings.push(compareString);}}
else if(typeof currentItem=="object"){var name=currentItem["name"];var compareStrings=[name];}
else{var compareStrings=[currentItem];}
for(var _index=0;_index<compareStrings.length;_index++){var compareString=compareStrings[_index];if(compareString.indexOf(filterString)==0){validItems.push(currentItem);break;}}}
var validItemsLength=validItems.length;var moreItems=validItemsLength>startRecord+numberRecords;var validItems=filter?validItems.slice(startRecord,startRecord
+numberRecords):validItems;callback(validItems,moreItems);};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxdataquery=function(query,callback,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_getResults(_element,query,callback);});};var _getResults=function(element,query,callback){var elementType=element.data("type");var dataQueryMethodName="uxdataquery"+elementType;element[dataQueryMethodName](query,callback);};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxdatasourcecountries=function(options){var COUNTRIES=["Afghanistan","Albania","Algeria","Andorra","Angola","Antigua & Deps","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bhutan","Bolivia","Bosnia Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Rep","Chad","Chile","China","Colombia","Comoros","Congo","Congo {Democratic Rep}","Costa Rica","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland {Republic}","Israel","Italy","Ivory Coast","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea North","Korea South","Kosovo","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Morocco","Mozambique","Myanmar, {Burma}","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Palau","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russian Federation","Rwanda","St Kitts & Nevis","St Lucia","Saint Vincent & the Grenadines","Samoa","San Marino","Sao Tome & Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad & Tobago","Tunisia","Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Vatican City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"];var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_element.data("items",COUNTRIES);_element.uxdatasourceitems();});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxdatasourcegenders=function(options){var GENDERS=["Male","Female"];var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_element.data("items",GENDERS);_element.uxdatasourceitems();});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxdatasourceitems=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var items=_element.data("items");_element.attr("data-type","local");for(var index=0;index<items.length;index++){var item=items[index];var isString=typeof item=="string";if(isString){_element.append("<li>"+item+"</li>");}else{var _string="<li>";for(key in item){var value=item[key];_string+="<span name=\""+key+"\">"
+value+"</span>";}
_string+="</li>";_element.append(_string);}}
_element.uxdatasourcelocal();});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxdatasourcejson=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_updateQueryElement(_element,options);});};var _registerHandlers=function(){};var _updateQueryElement=function(element,options){var url=element.attr("data-url")
var cacheDisabled=element.attr("data-cache_disabled")
element.data("type","json");element.data("url",url);element.data("cache_d",cacheDisabled);element.data("data",{});element.data("cache",{});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxdatasourcelocal=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_updateQueryElement(_element,options);});};var _registerHandlers=function(){};var _getElements=function(element){var elementChildren=element.children();var nameAttribute=elementChildren.attr("name");var isList=nameAttribute===undefined;var dataStructure=isList?[]:{};elementChildren.each(function(index,element){var _element=jQuery(element);var children=_element.children();var containsChildren=children.length>0;if(containsChildren){var elementValue=_getElements(_element);}
else{var elementValue=_element.html();}
if(isList){dataStructure.push(elementValue);}
else{var elementName=_element.attr("name");dataStructure[elementName]=elementValue;}});return dataStructure;};var _updateQueryElement=function(element,options){var items=_getElements(element);var noRemove=element.hasClass("no-remove");!noRemove&&element.empty();element.data("type","local");element.data("items",items);};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxdatasource=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_updateQueryElement(_element,options);_element.trigger("data_ready");});};var _registerHandlers=function(){};var _updateQueryElement=function(element){var type=element.attr("data-type");var dataSourceMethodName="uxdatasource"+type;element[dataSourceMethodName]();var queryAttribute=element.attr("data-query_attribute");element.data("query_attribute",queryAttribute);};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxsource=function(query,callback,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(this);var name=_element.attr("data-name");var items=jQuery("> li",_element);var _items=[];items.each(function(index,element){var item=jQuery(this);var name=item.attr("data-name")||item.html();var value=item.html();_item={"name":name,"value":value};_items.push(_item);});jQuery.fn["uxdatasource"+name]=_dataSource(_items);});};var _registerHandlers=function(){};var _dataSource=function(items){var _function=function(options){var matchedObject=this;matchedObject.each(function(index,element){var _element=jQuery(this);_element.data("items",items);_element.uxdatasourceitems();});};return _function;};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxerror=function(method,options){var STRING_CHARACTER_REGEX=new RegExp("'","g");var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var error=_element.attr("data-error");if(!error){return;}
var noError=_element.hasClass("no-error");if(noError){return;}
var form=_element.parents("form");var errorBox=jQuery(".error-box");errorBox.show();var error=error.replace(STRING_CHARACTER_REGEX,"\"");var listJoinCharacter=new RegExp("\\]\\[","g");var error=error.replace(listJoinCharacter,", ");try{var errorStructure=jQuery.parseJSON(error);}catch(exception){var errorStructure=[]}
for(var index=0;index<errorStructure.length;index++){var errorMessage=errorStructure[index];var errorDescriptionHtml="<div class=\"error-description\">"
+errorMessage+"</div>";var errorDescription=jQuery(errorDescriptionHtml);jQuery(errorDescriptionHtml).insertAfter(_element);}});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);jQuery.expr[":"].parents=function(a,i,m){return jQuery(a).parents(m[3]).length>0;};(function($){jQuery.fn.uxvideo=function(options){var YOUTUBE_MAP={"youtube.com":true,"www.youtube.com":true};var VIMEO_MAP={"vimeo.com":true,"www.vimeo.com":true};var DAILY_MOTION_MAP={"dailymotion.com":true,"www.dailymotion.com":true};var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var url=_element.html();url=url.trim();var urlInformation=parseUrl(url);var baseName=urlInformation["baseName"];if(YOUTUBE_MAP[baseName]){updateYoutube(_element,options,urlInformation);}
else if(VIMEO_MAP[baseName]){updateVimeo(_element,options,urlInformation);}
else if(DAILY_MOTION_MAP[baseName]){updateDailyMotion(_element,options,urlInformation);}});};var updateYoutube=function(matchedObject,options,urlInformation){var optionsMap=urlInformation["optionsMap"];var videoId=optionsMap["v"];var width=matchedObject.attr("data-width");var height=matchedObject.attr("data-height");var hd=matchedObject.attr("data-hd");var info=matchedObject.attr("data-info");var chromeless=matchedObject.attr("data-chromeless");var autoPlay=matchedObject.attr("data-auto_play");width=width?width:560;height=height?height:315;var hdValue=hd?"hd=1":"hd=0";var infoValue=info?"showinfo=1":"showinfo=0";var controlsValue=chromeless?"controls=0":"controls=1";var autoPlayValue=autoPlay?"autoplay=1":"autoplay=0";matchedObject.html("<iframe width=\""
+width
+"\" height=\""
+height
+"\" src=\"http://www.youtube.com/embed/"
+videoId
+"?"
+hdValue
+"&"
+infoValue
+"&"
+controlsValue
+"&"
+autoPlayValue
+"\" frameborder=\"0\" webkitAllowFullScreen allowfullscreen></iframe>");};var updateVimeo=function(matchedObject,options,urlInformation){var resourceReference=urlInformation["resourceReference"];var width=matchedObject.attr("data-width");var height=matchedObject.attr("data-height");var info=matchedObject.attr("data-info");var autoPlay=matchedObject.attr("data-auto_play");width=width?width:560;height=height?height:315;var infoValue=autoPlay?"title=1&byline=1&portrait=1":"title=0&byline=0&portrait=0";var autoPlayValue=autoPlay?"autoplay=1":"autoplay=0";matchedObject.html("<iframe src=\"http://player.vimeo.com/video"
+resourceReference
+"?"
+infoValue
+"&"
+autoPlayValue
+"\" width=\""
+width
+"\" height=\""
+height
+"\" frameborder=\"0\" webkitAllowFullScreen allowFullScreen></iframe>");};var updateDailyMotion=function(matchedObject,options,urlInformation){var resourceReference=urlInformation["resourceReference"];var width=matchedObject.attr("data-width");var height=matchedObject.attr("data-height");var chromeless=matchedObject.attr("data-chromeless");var autoPlay=matchedObject.attr("data-auto_play");width=width?width:560;height=height?height:315;var chromelessValue=chromeless?"chromeless=1":"chromeless=0";var autoPlayValue=autoPlay?"autoplay=1":"autoplay=0";matchedObject.html("<iframe src=\"http://www.dailymotion.com/embed"
+resourceReference
+"?"
+chromelessValue
+"&"
+autoPlayValue
+"\" width=\""
+width
+"\" height=\""
+height
+"\" frameborder=\"0\" webkitAllowFullScreen allowfullscreen></iframe>");};var parseUrl=function(url){var urlRegex=/(\w+\:\/\/)?([^\:\/\?#]+)(\:\d+)?((\/[^\?#]+)*)\/?(\?(([^#])*))?(#(.*))?/g;var match=urlRegex.exec(url);var protocol=match[1]?match[1].slice(0,-3):null;var baseName=match[2]?match[2]:null;var port=match[3]?match[3].slice(1):null;var resourceReference=match[4]?match[4]:null;var options=match[7]?match[7]:null;var location=match[9]?match[9]:null;var optionsSplit=options?options.split("&"):[];var optionsMap={};for(var index=0;index<optionsSplit.length;index++){var option=optionsSplit[0];var optionSplit=option.split("=");if(optionSplit.length>1){var optionName=optionSplit[0];var optionValue=optionSplit[1];}else{var optionName=optionSplit[0];var optionValue=null;}
optionsMap[optionName]=optionValue;}
var urlInformation={protocol:protocol,baseName:baseName,port:port,resourceReference:resourceReference,options:options,location:location,optionsMap:optionsMap}
return urlInformation;};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxg=function(strict){var GATEWAY_PLUGIN_NAME="Colony Gateway Plugin";strict=strict?strict:false;var matchedObject=this;var _hasPlugin=function(name){if(!navigator||!navigator.plugins){return false;}
var pluginsCount=navigator.plugins.length;for(var index=0;index<pluginsCount;index++){var currentPlugin=navigator.plugins[index];if(currentPlugin.name==name){return true;}}
return false;};var hasPlugin=strict?_hasPlugin(GATEWAY_PLUGIN_NAME):true;if(!hasPlugin){return null;}
var gateway=jQuery("#colony-gateway",matchedObject);var gatewayElement=gateway.length>0?gateway.get(0):null;gatewayElement=gatewayElement&&gatewayElement.status?gatewayElement:null;return gatewayElement;};})(jQuery);(function($){jQuery.fn.uxgateway=function(options){var GATEWAY_PLUGIN_NAME="Colony Gateway Plugin";var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var gateway=jQuery("#colony-gateway",matchedObject);if(gateway.length>0){return;}
var hasPlugin=_hasPlugin(GATEWAY_PLUGIN_NAME);hasPlugin&&matchedObject.append("<object id=\"colony-gateway\" type=\"application/x-colony-gateway\" width=\"0\" height=\"0\"></object>")};var _registerHandlers=function(){};var _hasPlugin=function(name){if(!navigator||!navigator.plugins){return false;}
var pluginsCount=navigator.plugins.length;for(var index=0;index<pluginsCount;index++){var currentPlugin=navigator.plugins[index];if(currentPlugin.name==name){return true;}}
return false;};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxgprint=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){matchedObject.click(function(){var element=jQuery(this);_print(element,options);});};var _print=function(matchedObject,options){var element=matchedObject;var binieUrl=element.attr("data-binie")||options["binie"];var _document=jQuery(document);var gateway=_document.uxg();if(gateway){var format=gateway.pformat();var data={base_64:1,format:format};var method=matchedObject["uxgprint"+format];method&&method(gateway,data);jQuery.ajax({url:binieUrl,data:data,success:function(data,asdasd,aswefwegew){gateway.print(false,data);}});}
else{var fallbackUrl=element.attr("data-fallback")||options["fallback"];var target=element.attr("data-target")||options["target"];if(!fallbackUrl){return;}
if(target){window.open(fallbackUrl,target);}
else{document.location=fallbackUrl;}}};switch(method){case"print":_print(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxgprintpdf=function(gateway,data){var devices=gateway.pdevices();var defaultDevice=null;for(var index=0;index<devices.length;index++){var device=devices[index];if(!device.isDefault){continue;}
defaultDevice=device;break;}
if(!defaultDevice){return;}
data["width"]=defaultDevice["width"];data["height"]=defaultDevice["length"];};})(jQuery);(function($){jQuery.fn.uxchart=function(query,callback,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var bars=jQuery(".bar",matchedObject);bars.wrap("<div class=\"bar-container\"></div>");bars.each(function(index,element){var _element=jQuery(element);var percentage=_element.attr("data-percentage");percentage=parseFloat(percentage);var linear=_element.attr("data-linear");if(linear){var ratio=percentage;}
else{var ratio=(Math.log(percentage+1)/Math.log(101.0))*100.0;ratio=percentage>0?ratio:0.0;}
var ratio=ratio.toFixed(0);_element.width(ratio+"%");});bars.each(function(index,element){var _element=jQuery(element);var contents=jQuery("span",element);var barWidth=_element.width();var contentsWidth=contents.outerWidth();if(contentsWidth<=barWidth){return;}
var transparentBar=jQuery("<div class=\"bar bar-transparent\"></div>");_element.after(transparentBar);transparentBar.append(contents);});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);jQuery.uxctrl=function(keycode,callback,arguments){var _document=jQuery(document);_document.keydown(function(event){var keyValue=event.keyCode?event.keyCode:event.charCode?event.charCode:event.which;var arguments=arguments?arguments:[];if(event.ctrlKey&&keyValue==keycode){callback.apply(this,arguments);return false;}});};(function($){jQuery.fn.uxkey=function(element,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){var global=options["global"]?options["global"]:true;matchedObject.each(function(index,element){var _element=jQuery(element);var key=_element.attr("data-key");var url=_element.attr("data-url");var keyInteger=parseInt(key);if(isNaN(keyInteger)){return;}
var targetObject=global?jQuery(document):_element;targetObject.keyup(function(event){var keyValue=event.keyCode?event.keyCode:event.charCode?event.charCode:event.which;if(event.ctrlKey||event.altKey){return;}
switch(keyValue){case keyInteger:document.location=url;break;default:break;}});});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxscan=function(element,options){var LETTER_INTERVAL=80;var WORD_RATIO=0.8;var SCAN_INTERVAL=400;var MINIMUM_LENGTH=6;var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){var global=options["global"]?options["global"]:true;matchedObject.each(function(index,element){var _element=jQuery(element);var targetObject=global?jQuery(document):_element;targetObject.keydown(function(event){_verifyPropagation(targetObject,event);});targetObject.keypress(function(event){_verifyPropagation(targetObject,event);});targetObject.keyup(function(event){var currentDate=new Date();var currentTime=currentDate.getTime();var sequence=targetObject.data("sequence")||"";var previousTime=targetObject.data("previous_time")||currentTime;var initialTime=targetObject.data("initial_time")||currentTime;var ignoring=targetObject.data("ignoring")||false;var delta=currentTime-previousTime;var keyValue=event.keyCode?event.keyCode:event.charCode?event.charCode:event.which;if(ignoring){if(delta<SCAN_INTERVAL){if(keyValue==13){targetObject.trigger("scan_error",[sequence]);}
targetObject.data("previous_time",currentTime);return;}
else{targetObject.data("ignoring",false);}}
if(delta>LETTER_INTERVAL){if(delta<SCAN_INTERVAL){if(keyValue==13){targetObject.trigger("scan_error",[sequence]);}
targetObject.data("sequence",null);targetObject.data("previous_time",currentTime);targetObject.data("initial_time",null);targetObject.data("ignoring",true);return;}
else{sequence="";initialTime=currentTime;}}
if(keyValue==13){var sequenceLength=sequence?sequence.length:0;var deltaTotal=currentTime-initialTime;var deltaValid=deltaTotal<sequenceLength*WORD_RATIO*LETTER_INTERVAL;var isValid=sequence&&sequence.length>=MINIMUM_LENGTH&&deltaValid;isValid&&targetObject.trigger("scan",[sequence])
targetObject.data("sequence",null);targetObject.data("previous_time",null);targetObject.data("initial_time",null);if(!isValid){return}
event.stopPropagation();event.stopImmediatePropagation();event.preventDefault();}else{sequence+=String.fromCharCode(keyValue);targetObject.data("sequence",sequence);targetObject.data("previous_time",currentTime);targetObject.data("initial_time",initialTime);}});});};var _verifyPropagation=function(targetObject,event){var currentDate=new Date();var currentTime=currentDate.getTime();var sequence=targetObject.data("sequence")||"";var previousTime=targetObject.data("previous_time")||currentTime;var initialTime=targetObject.data("initial_time")||currentTime;var ignoring=targetObject.data("ignoring")||false;var delta=currentTime-previousTime;var keyValue=event.keyCode?event.keyCode:event.charCode?event.charCode:event.which;if(keyValue!=13){return;}
var sequenceLength=sequence?sequence.length:0;var deltaTotal=currentTime-initialTime;var deltaValid=deltaTotal<sequenceLength*WORD_RATIO*LETTER_INTERVAL;var isValid=sequence&&sequence.length>=MINIMUM_LENGTH&&deltaValid;if(!isValid){return}
event.stopPropagation();event.stopImmediatePropagation();event.preventDefault();};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxshortcuts=function(element,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var key=jQuery(".key",matchedObject).not(".template .key");key.uxkey();};var _registerHandlers=function(){var global=options["global"]?options["global"]:true;matchedObject.each(function(index,element){var _element=jQuery(element);var targetObject=global?jQuery(document):_element;targetObject.keyup(function(event){var keyValue=event.keyCode?event.keyCode:event.charCode?event.charCode:event.which;switch(keyValue){case 74:matchedObject.uxnext();break;case 75:matchedObject.uxprevious();break;default:break;}});});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxcenter=function(topOffset,leftOffset,useMargin,avoidTop,avoidLeft){var matchedObject=this;var topOffset=topOffset?topOffset:0;var leftOffset=leftOffset?leftOffset:0;var useMargin=useMargin?useMargin:false;var avoidTop=avoidTop?avoidTop:false;var avoidLeft=avoidLeft?avoidLeft:false;var _window=jQuery(window);var windowHeight=_window.height();var windowWidth=_window.width();var windowSrollTop=_window.scrollTop();var windowSrollLeft=_window.scrollLeft();var matchedObjectHeight=matchedObject.outerHeight();var matchedObjectWidth=matchedObject.outerWidth();var topPosition=((windowHeight-matchedObjectHeight)/2);var leftPosition=((windowWidth-matchedObjectWidth)/2);topPosition-=topOffset*topPosition;leftPosition-=leftOffset*leftPosition;topPosition+=windowSrollTop;leftPosition+=windowSrollLeft;if(useMargin){!avoidTop&&matchedObject.css("margin-top",topPosition+"px");!avoidLeft&&matchedObject.css("margin-left",leftPosition+"px");}
else{!avoidTop&&matchedObject.css("top",topPosition+"px");!avoidLeft&&matchedObject.css("left",leftPosition+"px");}
return this;}})(jQuery);(function($){jQuery.fn.uxreplacer=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var replacer=jQuery(element);var targetSelector=replacer.attr("data-target");var target=jQuery(targetSelector);var value=target.uxvalue();value&&_replace(replacer,options,false);});};var _registerHandlers=function(){matchedObject.click(function(){var element=jQuery(this);_replace(element,options,true);});};var _replace=function(matchedObject,options,focus){var targetSelector=matchedObject.attr("data-target");var target=jQuery(targetSelector);var isTextField=target.hasClass("text-field")||target.hasClass("text-area");focusTarget=isTextField?target:jQuery(".text-field, .text-area",target);matchedObject.hide();target.show();focus&&focusTarget.focus();};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxcursor=function(position){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var firstElement=matchedObject.get(0);if(firstElement.setSelectionRange){firstElement.setSelectionRange(position,position);}
else if(firstElement.createTextRange){var range=firstElement.createTextRange();range.collapse(true);range.moveEnd("character",position);range.moveStart("character",position);range.select();}
return this;};})(jQuery);(function($){jQuery.fn.uxfocus=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){if(!matchedObject||matchedObject.length==0){return;}
var focused=jQuery(":focus");focused.blur();matchedObject.each(function(index,element){var _element=jQuery(element);_element.focus();var dataValue=_element.attr("data-value");var dataValueLength=dataValue?dataValue.length:0;_element.uxcursor(dataValueLength);});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxnext=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var nextUrl=jQuery(".next-url",matchedObject);var nextUrlValue=nextUrl.text();nextUrlValue=nextUrlValue.trim();if(!nextUrlValue){return;}
document.location=nextUrlValue;};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxprevious=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var previousUrl=jQuery(".previous-url",matchedObject);var previousUrlValue=previousUrl.text();previousUrlValue=previousUrlValue.trim();if(!previousUrlValue){return;}
document.location=previousUrlValue;};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function(jQuery){var uxscrollto=jQuery.uxscrollto=function(target,duration,settings){jQuery(window).uxscrollto(target,duration,settings);};uxscrollto.defaults={axis:"xy",duration:parseFloat($.fn.jquery)>=1.3?0:1};uxscrollto.window=function(scope){return jQuery(window)._scrollable();};jQuery.fn._scrollable=function(){return this.map(function(){var element=this
var isWindow=!element.nodeName||jQuery.inArray(element.nodeName.toLowerCase(),["iframe","#document","html","body"])!=-1;if(!isWindow){return element;}
var _document=(element.contentWindow||element).document||element.ownerDocument||element;return jQuery.browser.safari||_document.compatMode=="BackCompat"?_document.body:_document.documentElement;});};jQuery.fn.uxscrollto=function(target,duration,settings){if(!target||target.length==0){return;}
if(typeof duration=="object"){settings=duration;duration=0;}
if(typeof settings=="function"){settings={onAfter:settings};}
if(target=="max"){target=9e9;}
settings=jQuery.extend({},uxscrollto.defaults,settings);duration=duration||settings.speed||settings.duration;settings.queue=settings.queue&&settings.axis.length>1;if(settings.queue){duration/=2;}
settings.offset=both(settings.offset);settings.over=both(settings.over);return this._scrollable().each(function(){var element=this;var _element=jQuery(element)
var _target=target;var targetOffset;var attributes={}
var win=_element.is("html, body");switch(typeof _target){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(_target)){_target=both(_target);break;}
_target=jQuery(_target,this);case"object":if(_target.is||_target.style){targetOffset=(_target=jQuery(_target)).offset();}}
jQuery.each(settings.axis.split(""),function(i,axis){var position=axis=="x"?"Left":"Top";var positionLower=position.toLowerCase();var key="scroll"+position;var old=element[key];var max=uxscrollto.max(element,axis);if(targetOffset){attributes[key]=targetOffset[positionLower]
+(win?0:old-_element.offset()[positionLower]);if(settings.margin){attributes[key]-=parseInt(_target.css("margin"
+position))||0;attributes[key]-=parseInt(_target.css("border"
+position+"Width"))||0;}
attributes[key]+=settings.offset[positionLower]||0;if(settings.over[positionLower])
attributes[key]+=_target[axis=="x"?"width":"height"]()*settings.over[positionLower];}
else{var value=_target[positionLower];attributes[key]=value.slice&&value.slice(-1)=="%"?parseFloat(value)/100*max:value;}
if(/^\d+$/.test(attributes[key])){attributes[key]=attributes[key]<=0?0:Math.min(attributes[key],max);}
if(!i&&settings.queue){if(old!=attributes[key]){animate(settings.onAfterFirst);}
delete attributes[key];}});var animate=function(callback){_element.animate(attributes,duration,settings.easing,callback&&function(){callback.call(this,target,settings);});};animate(settings.onAfter);}).end();};uxscrollto.max=function(element,axis){var dimensions=axis=="x"?"Width":"Height";var scroll="scroll"+dimensions;if(!jQuery(element).is("html, body")){return element[scroll]
-jQuery(element)[dimensions.toLowerCase()]();}
var size="client"+dimensions;var html=element.ownerDocument.documentElement;var body=element.ownerDocument.body;return Math.max(html[scroll],body[scroll])
-Math.min(html[size],body[size]);};var both=function(value){return typeof value=="object"?value:{top:value,left:value};};})(jQuery);jQuery.uxvisible=function(element,offset,delta,parent){offset=offset?offset:0;delta=delta?delta:0;parent=parent?parent:window;var _parent=jQuery(parent);var element=jQuery(element);var elementHeight=element.outerHeight();var viewOffset=_parent.offset();var viewOffsetTop=viewOffset?viewOffset.top:0;var viewHeight=_parent[0]==window?_parent.height():_parent.outerHeight();var viewScrollTop=_parent.scrollTop();var elementOffsetTop=_parent[0]==window?element.offset().top:element.offset().top+viewScrollTop;var viewTop=viewOffsetTop+viewScrollTop+offset;var viewBottom=viewOffsetTop+viewScrollTop+viewHeight;var elementTop=elementOffsetTop+delta;var elementBottom=elementTop+element.outerHeight();return((elementBottom>=viewTop)&&(elementTop<=viewBottom)&&(elementBottom<=viewBottom)&&(elementTop>=viewTop));};(function($){jQuery.fn.uxscroll=function(options){var defaults={offset:0,padding:0,parent:window};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){if(!matchedObject||matchedObject.length==0){return;}
var offset=options["offset"];var padding=options["padding"];var parent=options["parent"];var height=matchedObject.outerHeight();var _offset=matchedObject.offset();var offsetTop=_offset.top;var topElements=jQuery("html, body");var htmlElement=jQuery("html");var _body=jQuery("body");var htmlScrollTop=htmlElement.scrollTop();var bodyTop=_body.scrollTop();var scrollTop=htmlScrollTop>bodyTop?htmlScrollTop:bodyTop;var _parent=jQuery(parent);scrollTop=_parent[0]==window?scrollTop:_parent.scrollTop();var parentHeight=_parent[0]==window?_parent.height():_parent.outerHeight();var parentOffset=_parent.offset();var parentOffsetTop=parentOffset?parentOffset.top-scrollTop:0;var bottomPosition=offsetTop-parentOffsetTop
+matchedObject.outerHeight();var isBelow=scrollTop+parentHeight<bottomPosition;var scrollTop=isBelow?offsetTop-parentOffsetTop
-parentHeight+height+padding:offsetTop
-parentOffsetTop-offset-padding;_parent.scrollTop(scrollTop);};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxattr=function(attrName,attrNameTarget){var matchedObject=this;var attributeSelector="["+attrName+"]";var attributeElements=jQuery(attributeSelector,matchedObject);attributeElements.each(function(index,element){var attributeElement=jQuery(element);var attribute=attributeElement.attr(attrName);attributeElement.attr(attrNameTarget,attribute);});}})(jQuery);(function($){jQuery.fn.uxbrowser=function(options){var DATA_BROWSER=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}];var DATA_OS=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var browserName=_searchString(DATA_BROWSER)||"Unknown browser";var browserVersion=_searchVersion(navigator.userAgent)||_searchVersion(navigator.appVersion)||"Unknown version";var browserOs=_searchString(DATA_OS)||"Unknown OS";browserName=browserName.toLowerCase();browserOs=browserOs.toLowerCase();matchedObject.addClass(browserName);matchedObject.addClass(browserName+"-"+browserVersion);matchedObject.addClass(browserOs);};var _registerHandlers=function(){};var _searchString=function(data){for(var index=0;index<data.length;index++){var dataString=data[index].string;var dataProp=data[index].prop;jQuery.fn.uxbrowser.versionSearchString=data[index].versionSearch||data[index].identity;if(dataString){if(dataString.indexOf(data[index].subString)!=-1){return data[index].identity;}}else if(dataProp){return data[index].identity;}}};var _searchVersion=function(dataString){var index=dataString.indexOf(jQuery.fn.uxbrowser.versionSearchString);if(index==-1){return;}
return parseFloat(dataString.substring(index
+jQuery.fn.uxbrowser.versionSearchString.length+1));};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxdisable=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_element.addClass("disabled");var isInput=_element.is("input, textarea");isInput&&_element.attr("disabled","1");_element.triggerHandler("disabled");});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxenable=function(method,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_element.removeClass("disabled");var isInput=_element.is("input, textarea");isInput&&_element.removeAttr("disabled");_element.triggerHandler("enabled");});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxfields=function(nested){var fields=jQuery("[data-object]",this);fields=nested?fields:fields.not(":parents([data-object])");return fields;}})(jQuery);(function($){jQuery.fn.uxfloat=function(){var matchedObject=this;var value=matchedObject.uxvalue();var valueF=parseFloat(value);valueF=isNaN(valueF)?0.0:valueF;return valueF;}})(jQuery);(function($){jQuery.fn.uxint=function(){var matchedObject=this;var value=matchedObject.uxvalue();var valueI=parseInt(value);valueI=isNaN(valueI)?0:valueI;return valueI;}})(jQuery);(function($){jQuery.fn.uxprint=function(method,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){if(matchedObject.length==0){return;}
window.print();};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxreset=function(){var matchedObject=this;matchedObject.each(function(index,element){var _element=jQuery(this);var object=_element.attr("data-object");var method=_element["ux"+object]
method&&method.call(_element,"reset");});}})(jQuery);(function($){jQuery.fn.uxvalue=function(){var matchedObject=this;var options=arguments.length>0?{value:arguments[0]}:{};var _arguments=["value",options];var valueF=matchedObject.is("input, textarea")?matchedObject.val:matchedObject.text;var object=matchedObject.attr("data-object");var method=matchedObject["ux"+object]
var value=method?method.apply(matchedObject,_arguments):valueF.apply(matchedObject,arguments);return value;}})(jQuery);(function($){jQuery.fn.uxdatetime=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var form=_element.parents(".form");var utc=_element.hasClass("utc");form.submit(function(){var date=jQuery(".date",_element);var time=jQuery(".time",_element);var dateString=date.val()+" "
+time.val();var currentTimestamp=utc?(Date.parse(dateString+" UTC")/1000):Date.parseUtc(dateString)/1000;var name=date.attr("name");date.removeAttr("name");time.removeAttr("name");time.after("<input type=\"hidden\" name=\""
+name+"\" value=\""
+String(currentTimestamp)
+"\" />");});});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxenumeration=function(options){var STRING_CHARACTER_REGEX=new RegExp("'","g");var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var _enum=_element.attr("data-enum");var _enum=_enum.replace(STRING_CHARACTER_REGEX,"\"");var enumList=jQuery.parseJSON(_enum);var value=_element.html();var valueInteger=parseInt(value);valueInteger=isNaN(valueInteger)?1:valueInteger;var enumValue=enumList[valueInteger-1];var enumValueString=String(enumValue);_element.html(enumValueString);_element.addClass("processed");});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxnumber=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var places=_element.attr("data-places");var separator=_element.attr("data-separator");var magnitudeSeparator=_element.attr("data-magnitude_separator");var value=_element.html();var placesInteger=parseInt(places);placesInteger=isNaN(placesInteger)?0:placesInteger;var valueFloat=parseFloat(value);var valueString=valueFloat.toFixed(placesInteger);var invalid=isNaN(valueFloat);if(invalid){_element.addClass("processed");return;}
valueString=separator?valueString.replace(".",separator):valueString;if(magnitudeSeparator){separator=separator?separator:".";var valueStringSplit=valueString.split(separator);var integerPart=valueStringSplit[0];if(valueStringSplit.length>1){var decimalPart=valueStringSplit[1];}
else{var decimalPart=null;}
var initialIndex=integerPart.length%3?integerPart.length%3:3;var _integerPart=integerPart.slice(0,initialIndex);for(var index=initialIndex;index<integerPart.length;index+=3){_integerPart+=magnitudeSeparator
+integerPart.slice(index,index+3);}
integerPart=_integerPart;valueString=decimalPart?integerPart+separator
+decimalPart:integerPart;}
_element.html(valueString);_element.addClass("processed");});};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxtemplate=function(attributes,options){var defaults={};var attributes=attributes?attributes:{};var options=options?options:{apply:true,nullify:true,defaultValue:""};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){};var _applyTemplate=function(element){var apply=options["apply"];var templateElement=element.clone();var templateContents=__applyTemplate(templateElement,attributes);templateElement.html(templateContents);templateElement.removeClass("template");apply&&templateElement.uxapply();templateElement.uxattr("data-name","name");templateElement.uxattr("data-src","src");return templateElement;}
var _applyAttributes=function(templateContents,attributes,nullify,defaultValue,baseKey){var defaultValue=defaultValue?defaultValue:"";var baseKey=baseKey?baseKey:"";var attributesElement=jQuery(attributes);for(var key in attributes){var attributeValue=attributes[key];key=baseKey+key;if(attributeValue==null){attributeValue=nullify?defaultValue:"null";}
var attributeValueType=typeof attributeValue;if(attributeValueType=="object"){var newBaseKey=key+".";templateContents=_applyAttributes(templateContents,attributeValue,nullify,defaultValue,newBaseKey);}
else{var keyRegex=new RegExp("%\\["+key+"\\]","g");templateContents=templateContents.replace(keyRegex,attributeValue);}}
return templateContents;};var __applyTemplate=function(templateElement,attributes){var nullify=options["nullify"];var defaultValue=options["defaultValue"];var foreachElements=jQuery(".template-foreach",templateElement).not(".template-foreach .template-foreach");foreachElements.each(function(index,element){var _element=jQuery(element);var variableName=_element.attr("data-variable");var variable=attributes[variableName];var target=_element.attr("data-target");var forEachBuffer="";for(var variableIndex in variable){var variableItem=variable[variableIndex];var _templateElement=_element.clone();var forEachTemplateElement=__applyTemplate(_templateElement,variableItem);forEachBuffer+="<"+target+">"
+forEachTemplateElement+"</"+target
+">";}
_element.replaceWith(forEachBuffer);});var templateContents=templateElement.html();templateContents=templateContents?_applyAttributes(templateContents,attributes,nullify,defaultValue):templateContents;return templateContents;};initialize();var templateItem=_applyTemplate(matchedObject,attributes);return templateItem;};})(jQuery);(function($){jQuery.fn.uxtimestamp=function(method,options){var YEAR_CHARACTER=new RegExp("%Y","g");var MONTH_CHARACTER=new RegExp("%m","g");var DAY_CHARACTER=new RegExp("%d","g");var HOUR_CHARACTER=new RegExp("%H","g");var MINUTE_CHARACTER=new RegExp("%M","g");var SECOND_CHARACTER=new RegExp("%S","g");var FULL_MONTH_CHARACTER=new RegExp("%B","g");var ABBREVIATED_MONTH_CHARACTER=new RegExp("%b","g");var FULL_MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];var ABBREVIATED_MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var timestampString=_element.html();var timestamp=parseInt(timestampString);if(isNaN(timestamp)){_element.addClass("processed");return;}
var format=_element.attr("data-format");var utc=_element.attr("data-utc");var date=new Date(timestamp*1000);var dateString=_processDate(date,format,utc);_element.html(dateString);_element.addClass("processed");});};var _registerHandlers=function(){};var _processDate=function(date,format,utc){var year=utc?date.getUTCFullYear():date.getFullYear();var month=utc?date.getUTCMonth()+1:date.getMonth()+1;var day=utc?date.getUTCDate():date.getDate();var hours=utc?date.getUTCHours():date.getHours();var minutes=utc?date.getUTCMinutes():date.getMinutes();var seconds=utc?date.getUTCSeconds():date.getSeconds();var fullMonth=FULL_MONTHS[month-1];var abbreviatedMonth=ABBREVIATED_MONTHS[month-1];if(format){format=format.replace(YEAR_CHARACTER,year);format=format.replace(MONTH_CHARACTER,_getStringValue(month,2));format=format.replace(DAY_CHARACTER,_getStringValue(day,2));format=format.replace(HOUR_CHARACTER,_getStringValue(hours,2));format=format.replace(MINUTE_CHARACTER,_getStringValue(minutes,2));format=format.replace(SECOND_CHARACTER,_getStringValue(seconds,2));format=format.replace(FULL_MONTH_CHARACTER,fullMonth);format=format.replace(ABBREVIATED_MONTH_CHARACTER,abbreviatedMonth);var dateString=format;}
else{var dateString=year+"-"+_getStringValue(month,2)+"-"
+_getStringValue(day,2)+" "
+_getStringValue(hours,2)+":"
+_getStringValue(minutes,2)+":"
+_getStringValue(seconds,2)}
return dateString;}
var _getStringValue=function(value,valueLength,padding){var padding=padding?padding:"0";var stringValue=String(value);var stringValueLength=stringValue.length;for(var index=stringValueLength;index<valueLength;index++){stringValue=padding+stringValue;}
return stringValue;};switch(method){case"format":var date=options["date"];var format=options["format"];var utc=options["utc"];return _processDate(date,format,utc);case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxwiki=function(message,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var newlineRegex=RegExp("\\\\n","g");var boldStartRegex=RegExp("\\[","g");var boldEndRegex=RegExp("\\]","g");var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){};var _process=function(message){var message=message.replace(newlineRegex,"<br/>");var message=message.replace(boldStartRegex,"<b>");var message=message.replace(boldEndRegex,"</b>");return message;};initialize();var message=_process(message);return message;};})(jQuery);(function($){jQuery.fn.uxtransformflip=function(element,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){var noClick=matchedObject.hasClass("no-click");!noClick&&matchedObject.click(function(){var element=jQuery(this);if(element.hasClass("flip")){element.removeClass("flip");}
else{element.addClass("flip");}});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxalert=function(message,callback,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var window=jQuery(".window.window-alert",matchedObject);var windowHeader=jQuery("h1",window);var windowContents=jQuery("p",window);var windowButtonCancel=jQuery(".button-cancel",window);message=matchedObject.uxwiki(message);windowHeader.html("Information");windowContents.html(message);windowButtonCancel.hide();window.uxwindow("show");};var _registerHandlers=function(){var window=jQuery(".window.window-alert",matchedObject);var windowButtonConfirm=jQuery(".button-confirm",window);windowButtonConfirm.click(function(){var element=jQuery(this);var window=element.parents(".window");window.uxwindow("hide");callback&&callback(true);});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxbreadcrumbs=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var index=matchedObject.data("index")||0;matchedObject.data("index",index);_update(matchedObject,options);};var _registerHandlers=function(){};var _next=function(matchedObject,options){var breadcrumbs=jQuery("> li",matchedObject);var breadcrumbsLength=breadcrumbs.length;var index=matchedObject.data("index");if(index==breadcrumbsLength-1){return;}
matchedObject.data("index",index+1);_update(matchedObject,options);};var _previous=function(matchedObject,options){var index=matchedObject.data("index");if(index==0){return;}
matchedObject.data("index",index-1);_update(matchedObject,options);};var _set=function(matchedObject,options){var index=options["index"]?options["index"]:0;matchedObject.data("index",index);_update(matchedObject,options);};var _update=function(matchedObject,options){var index=matchedObject.data("index");var breadcrumbs=jQuery("> li",matchedObject);breadcrumbs.removeClass("selected");var currebtBreadcrumb=jQuery("> li:nth("+index+")",matchedObject);currebtBreadcrumb.addClass("selected");};switch(method){case"next":_next(matchedObject,options);break;case"previous":_previous(matchedObject,options);break;case"set":_set(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);(function(jQuery){jQuery.fn.uxcalendar=function(method,options){var WEEK_DAYS=["Su","Mo","Tu","We","Th","Fr","Sa"];var YEAR_MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];var NUMBER_DAYS=42;var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var weekDaysString="<tr>";for(var index=0;index<WEEK_DAYS.length;index++){var weekDay=WEEK_DAYS[index];weekDaysString+="<th><span>"+weekDay+"</span></th>";}
weekDaysString+="</tr>"
matchedObject.append("<div class=\"calendar-header\">"
+"<a class=\"calendar-arrow calendar-arrow-left\"></a>"
+"<span class=\"calendar-title\"></span>"
+"<a class=\"calendar-arrow calendar-arrow-right\"></a>"
+"</div>");matchedObject.append("<table class=\"calendar-content\">"
+"<thead>"+weekDaysString+"</thead>"
+"<tbody></tbody>"+"</table>");var date=new Date();var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();var current={year:year,month:month,day:day};matchedObject.data("year",year);matchedObject.data("month",month);matchedObject.data("current",current);_update(matchedObject,options);};var _registerHandlers=function(){var arrowLeft=jQuery(".calendar-arrow-left",matchedObject);var arrowRight=jQuery(".calendar-arrow-right",matchedObject);arrowLeft.click(function(){var element=jQuery(this);var calendar=element.parents(".calendar");_decrementMonth(calendar,options);});arrowRight.click(function(){var element=jQuery(this);var calendar=element.parents(".calendar");_incrementMonth(calendar,options);});};var _set=function(matchedObject,options){var current=options["current"];var year=current["year"];var month=current["month"]
matchedObject.data("year",year);matchedObject.data("month",month);matchedObject.data("current",current);_update(matchedObject,options);};var _reset=function(matchedObject,options){var current=matchedObject.data("current");var year=current["year"];var month=current["month"]
matchedObject.data("year",year);matchedObject.data("month",month);_update(matchedObject,options);};var _update=function(matchedObject,options){if(matchedObject.length==0){return;}
var year=matchedObject.data("year");var month=matchedObject.data("month")-1;var current=matchedObject.data("current");var currentDayYear=current["year"];var currentDayMonth=current["month"]-1;var currentDayNumber=current["day"];var initialDay=new Date(year,month,1);var finalDay=new Date(year,month+1,0);var finalDayPrevious=new Date(year,month,0);var intialDayNext=new Date(year,month+1,1);var initialDayWeek=initialDay.getDay();var finalDayNumber=finalDay.getDate();var finalDayPreviousNumber=finalDayPrevious.getDate();var previousYear=finalDayPrevious.getFullYear();var previousMonth=finalDayPrevious.getMonth();var nextYear=intialDayNext.getFullYear();var nextMonth=intialDayNext.getMonth();var days=[]
for(var index=0;index<initialDayWeek;index++){var previousDay=finalDayPreviousNumber
-(initialDayWeek-index)+1;if(previousYear==currentDayYear&&previousMonth==currentDayMonth&&previousDay==currentDayNumber){days.push([previousYear,previousMonth,previousDay,"faded active"]);}
else{days.push([previousYear,previousMonth,previousDay,"faded"]);}}
for(var index=0;index<finalDayNumber;index++){var day=index+1;if(year==currentDayYear&&month==currentDayMonth&&day==currentDayNumber){days.push([year,month,day,"active"]);}
else{days.push([year,month,day,""]);}}
var daysLength=days.length;for(var index=daysLength;index<NUMBER_DAYS;index++){var nextDay=index-daysLength+1;if(nextYear==currentDayYear&&nextMonth==currentDayMonth&&nextDay==currentDayNumber){days.push([nextYear,nextMonth,nextDay,"faded active"]);}
else{days.push([nextYear,nextMonth,nextDay,"faded"]);}}
var htmlCode="";var lineOpen=false;for(var index=0;index<days.length;index++){var isStartCell=index%7==0;if(isStartCell){if(lineOpen){htmlCode+="</tr>"}
else{lineOpen=true;}
htmlCode+="<tr>";}
var dayTuple=days[index];var _year=dayTuple[0];var _month=dayTuple[1];var _day=dayTuple[2];var dayClass=dayTuple[3];htmlCode+="<td class=\""+dayClass+"\" data-year=\""
+_year+"\" data-month=\""+_month
+"\" data-day=\""+_day+"\" >"+_day+"</td>";}
if(lineOpen){htmlCode+="</tr>";}
var tableBody=jQuery("tbody",matchedObject);tableBody.empty();tableBody.append(htmlCode);var title=jQuery(".calendar-title",matchedObject);title.html(YEAR_MONTHS[month]+" "+String(year));_updateHandlers(matchedObject,options);};var _incrementMonth=function(matchedObject,options){var calendar=matchedObject;var year=matchedObject.data("year");var month=matchedObject.data("month");if(month==12){year++;month=1;}
else{month++;}
calendar.data("year",year);calendar.data("month",month);_update(calendar,options);};var _decrementMonth=function(matchedObject,options){var calendar=matchedObject;var year=matchedObject.data("year");var month=matchedObject.data("month");if(month==1){year--;month=12;}
else{month--;}
calendar.data("year",year);calendar.data("month",month);_update(calendar,options);};var _updateHandlers=function(matchedObject,options){var cells=jQuery("tbody td",matchedObject)
cells.click(function(){var element=jQuery(this);var calendar=element.parents(".calendar");var cells=jQuery("tbody td",calendar);var year=element.attr("data-year");var month=element.attr("data-month");var day=element.attr("data-day");var yearInteger=parseInt(year);var monthInteger=parseInt(month)+1;var dayInteger=parseInt(day);var current={year:yearInteger,month:monthInteger,day:dayInteger};calendar.data("current",current);cells.removeClass("active");element.addClass("active");calendar.triggerHandler("current_change",[current]);});};switch(method){case"set":_set(matchedObject,options);break;case"reset":_reset(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxchanger=function(path,callback,options){var DEFAULT_TIMEOUT=1000;var DEFAULT_SECTION_COUNT=2;var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.data("index",0);};var _registerHandlers=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var timeout=_element.attr("data-timeout")?parseInt(_element.attr("data-timeout")):DEFAULT_TIMEOUT;setInterval(function(){_update(_element,options);},timeout)});};var _update=function(matchedObject,options){var sectionCount=matchedObject.attr("data-section_count")?parseInt(matchedObject.attr("data-section_count")):DEFAULT_SECTION_COUNT;var index=matchedObject.data("index");matchedObject.fadeOut(500,function(){matchedObject.removeClass("section-"+(index+1));index+=1;index==sectionCount?index=0:index=index;matchedObject.addClass("section-"+(index+1));matchedObject.fadeIn(300);matchedObject.data("index",index);matchedObject.triggerHandler("change");});};initialize();return this;};})(jQuery);(function(jQuery){jQuery.fn.uxcheckfield=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_update(_element,options);});};var _registerHandlers=function(){var checkFieldLabel=matchedObject.next(".check-field-label");checkFieldLabel.click(function(){var element=jQuery(this);var checkField=element.prev(".check-field");_toggle(checkField,options);});};var _toggle=function(matchedObject,options){var checked=matchedObject.attr("checked");var _checked=checked?false:true;matchedObject.attr("checked",_checked);};var _update=function(matchedObject,options){var value=matchedObject.attr("value");var checked=matchedObject.attr("data-checked");if(checked==value){matchedObject.attr("checked",true);}
else{matchedObject.attr("checked",false);}};initialize();return this;};})(jQuery);(function(jQuery){jQuery.fn.uxbuttongroup=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){var buttons=jQuery(".button",matchedObject);buttons.click(function(){var element=jQuery(this);var index=element.index();var buttonGroup=element.parents(".button-group");var continueChange=buttonGroup.triggerHandler("index_changed",[index]);if(continueChange==false){return;}
var buttons=jQuery(".button",buttonGroup);buttons.removeClass("selected");element.addClass("selected");});};switch(method){case"default":initialize();break;}
return this;};})(jQuery);(function(jQuery){jQuery.fn.uxbutton=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var link=_element.attr("data-link");var submit=_element.attr("data-submit");var action=_element.attr("data-action");var window=_element.attr("data-window");var windowOpen=_element.attr("data-window_open");_element.data("link",link);_element.data("submit",submit);_element.data("action",action);_element.data("window",window);_element.data("window_open",windowOpen);});};var _registerHandlers=function(){var _body=jQuery("body");matchedObject.click(function(event){var element=jQuery(this);var isDisabled=element.hasClass("disabled");if(isDisabled){event.stopPropagation();event.stopImmediatePropagation();return;}
var window=event.which==2
options["window"]=window;__trigger(element,options);});matchedObject.mousedown(function(event){var element=jQuery(this);var isDisabled=element.hasClass("disabled");if(isDisabled){return;}
element.addClass("click");var _mouseUpHandler=function(event){var _body=jQuery("body");element.removeClass("click");_body.unbind("mouseup",_mouseUpHandler);};_body.mouseup(_mouseUpHandler);var isMiddle=event.which==2;if(isMiddle){event.stopPropagation();event.preventDefault();}});matchedObject.each(function(index,element){var _element=jQuery(element);var parentForm=_element.parents("form");parentForm.submit(function(){_element.addClass("disabled");});parentForm.bind("unlock",function(){_element.removeClass("disabled");});});};var __trigger=function(matchedObject,options){var element=matchedObject;var isDisabled=element.hasClass("disabled");if(isDisabled){return;}
var link=element.data("link");var action=element.data("action");var submit=element.data("submit");var windowOpen=element.data("window_open");link&&__link(element,options);action&&__action(element,options);submit&&__submit(element,options);windowOpen&&__windowOpen(element,options);};var __submit=function(matchedObject,options){var _window=matchedObject.data("window")||options["window"];if(_window){return;}
var parentForm=matchedObject.parents("form");matchedObject.addClass("disabled");parentForm.submit();};var __action=function(matchedObject,options){var _window=matchedObject.data("window")||options["window"];if(_window){return;}
var parentForm=matchedObject.parents("form");var action=matchedObject.data("action");parentForm.attr("action",action);};var __link=function(matchedObject,options){var link=matchedObject.data("link");var _window=matchedObject.data("window")||options["window"];_window?window.open(link,"_blank"):document.location=link;};var __windowOpen=function(matchedObject,options){var windowOpen=matchedObject.data("window_open");var window=jQuery(windowOpen);window.uxwindow("show");};switch(method){case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxconfirm=function(message,callback,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var window=jQuery(".window.window-alert",matchedObject);var windowHeader=jQuery("h1",window);var windowContents=jQuery("p",window);var windowButtonConfirm=jQuery(".button-confirm",window);var windowButtonCancel=jQuery(".button-cancel",window);message=matchedObject.uxwiki(message);windowHeader.html("Confirm");windowContents.html(message);windowButtonCancel.show();window.uxwindow("show");};var _registerHandlers=function(){var window=jQuery(".window.window-alert",matchedObject);var windowButtonConfirm=jQuery(".button-confirm",window);var windowButtonCancel=jQuery(".button-cancel",window);windowButtonConfirm.click(function(){var element=jQuery(this);var window=element.parents(".window");window.uxwindow("hide");callback&&callback(true);});windowButtonCancel.click(function(){var element=jQuery(this);var window=element.parents(".window");window.uxwindow("hide");callback&&callback(false);});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxcontentchanger=function(path,callback,options){var DEFAULT_TIMEOUT=1000;var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.data("index",0);var firstPanel=jQuery("> .changer-panel:first",matchedObject);firstPanel.show();};var _registerHandlers=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var trigger=_element.attr("data-trigger");var timeout=_element.attr("data-timeout")?parseInt(_element.attr("data-timeout")):DEFAULT_TIMEOUT;if(trigger){var triggerElement=jQuery(trigger);triggerElement.bind("change",function(){_update(_element,options);});}
else{setInterval(function(){_update(_element,options);},timeout);}});};var _update=function(matchedObject,options){var panels=matchedObject.children(".changer-panel");var sectionCount=panels.length;var index=matchedObject.data("index");panels.hide();index+=1;index==sectionCount?index=0:index=index;var panel=panels.get(index)
jQuery(panel).show();matchedObject.data("index",index);};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxcrosslist=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var dataSource=jQuery("> .data-source",_element);var items=jQuery(".items",_element)
var itemsList=jQuery("li",items)||jQuery();var elementName=_element.attr("name");var elementOrder=_element.attr("data-order");var sourceName=_element.attr("data-source");var targetName=_element.attr("data-target");var numberOptions=_element.attr("data-number_options");var duplicates=_element.attr("data-duplicates")||false;var sourceSection=jQuery("<div class=\"section source-section\"></div>");var crossSection=jQuery("<div class=\"section cross-section\"></div>");var targetSection=jQuery("<div class=\"section target-section\"></div>");var sourceTitle=jQuery("<h2>"+sourceName+"</h2>");var targetTitle=jQuery("<h2>"+targetName+"</h2>");var sourceList=jQuery("<div class=\"source-list\"></div>");var targetList=jQuery("<div class=\"source-list\"></div>");var targetSource=jQuery("<ul class=\"data-source\" data-type=\"local\"></ul>");var arrowRight=jQuery("<div class=\"arrow arrow-right\"></div>");var arrowLeft=jQuery("<div class=\"arrow arrow-left\"></div>");var clear=jQuery("<div class=\"clear\"></div>");itemsList.each(function(index,element){var _element=jQuery(this);targetSource.append(_element);});items.remove();dataSource.length&&sourceList.append(dataSource);elementName&&targetList.attr("name",elementName);elementOrder&&targetList.attr("data-order",elementOrder);numberOptions&&sourceList.attr("data-number_options",numberOptions);targetSource.uxdatasource();targetList.append(targetSource);var targetItems=targetSource.data("items");!duplicates&&sourceList.data("exclusion",targetItems);sourceList.uxsourcelist();targetList.uxsourcelist();sourceName&&sourceSection.append(sourceTitle);targetName&&targetSection.append(targetTitle);sourceSection.append(sourceList);targetSection.append(targetList);crossSection.append(arrowRight);crossSection.append(arrowLeft);_element.append(sourceSection);_element.append(crossSection);_element.append(targetSection);_element.append(clear);sourceList.trigger("items_changed");targetList.trigger("items_changed");});};var _registerHandlers=function(){var sourceList=jQuery(".source-section .select-list",matchedObject);var targetList=jQuery(".target-section .select-list",matchedObject);var arrowLeft=jQuery(".arrow-left",matchedObject);var arrowRight=jQuery(".arrow-right",matchedObject);targetList.bind("order_changed",function(event,element){var _element=jQuery(this);var selectList=_element;var crossList=_element.parents(".cross-list");var textField=jQuery(".target-section .text-field",crossList);var textFieldValue=textField.attr("value");if(textFieldValue){return;}
var targetSource=jQuery(".target-section .data-source",crossList);var targetItems=targetSource.data("items");var items=jQuery("li:not(.clone)",selectList);targetItems.splice(0,targetItems.length)
for(var index=0;index<items.length;index++){var item=jQuery(items[index]);var dataValue=item.attr("data-value");var htmlValue=item.html();dataValue=dataValue?dataValue:htmlValue;targetItems.push(dataValue);}});sourceList.bind("selected",function(event,element){var _element=jQuery(this);var crossList=_element.parents(".cross-list");var duplicates=crossList.attr("data-duplicates")||false;var targetList=jQuery(".target-section .select-list",crossList);var targetSource=jQuery(".target-section .data-source",crossList);var targetItems=targetSource.data("items");element.removeClass("selected");var dataValue=element.attr("data-value");var htmlValue=element.html();dataValue=dataValue?dataValue:htmlValue;var exists=targetItems.indexOf(dataValue)!=-1;if(!duplicates&&exists){return;}
element=duplicates?element.clone(true):element;targetItems.push(dataValue);targetList.append(element);targetList.trigger("items_changed");});targetList.bind("selected",function(event,element){var _element=jQuery(this);var crossList=_element.parents(".cross-list");var duplicates=crossList.attr("data-duplicates")||false;var sourceList=jQuery(".source-section .select-list",crossList);var targetSource=jQuery(".target-section .data-source",crossList);var targetItems=targetSource.data("items");var dataValue=element.attr("data-value");var htmlValue=element.html();dataValue=dataValue?dataValue:htmlValue;var index=targetItems.indexOf(dataValue);targetItems.splice(index,1);element.removeClass("selected");duplicates?element.remove():sourceList.append(element)&&sourceList.trigger("items_changed");});arrowLeft.click(function(){var element=jQuery(this);var crossList=element.parents(".cross-list");var duplicates=crossList.attr("data-duplicates")||false;var sourceList=jQuery(".source-section .select-list",crossList);var targetList=jQuery(".target-section .select-list",crossList);var targetSource=jQuery(".target-section .data-source",crossList);var targetItems=targetSource.data("items");var selectedItems=jQuery("li.selected",targetList);for(var index=0;index<selectedItems.length;index++){var selectedItem=selectedItems[index];var _selectedItem=jQuery(selectedItem);var dataValue=_selectedItem.attr("data-value");var htmlValue=_selectedItem.html();dataValue=dataValue?dataValue:htmlValue;var _index=targetItems.indexOf(dataValue);targetItems.splice(_index,1);}
selectedItems.removeClass("selected");duplicates?selectedItems.remove():sourceList.append(selectedItems)&&sourceList.trigger("items_changed");});arrowRight.click(function(){var element=jQuery(this);var crossList=element.parents(".cross-list");var duplicates=crossList.attr("data-duplicates")||false;var sourceList=jQuery(".source-section .select-list",crossList);var targetList=jQuery(".target-section .select-list",crossList);var targetSource=jQuery(".target-section .data-source",crossList);var targetItems=targetSource.data("items");var selectedItems=jQuery("li.selected",sourceList);selectedItems.removeClass("selected");var validItems=[];for(var index=0;index<selectedItems.length;index++){var selectedItem=selectedItems[index];var _selectedItem=jQuery(selectedItem);var dataValue=_selectedItem.attr("data-value");var htmlValue=_selectedItem.html();dataValue=dataValue?dataValue:htmlValue;var exists=targetItems.indexOf(dataValue)!=-1;if(!duplicates&&exists){continue;}
selectedItem=duplicates?_selectedItem.clone(true)[0]:selectedItem;validItems.push(selectedItem);targetItems.push(dataValue);}
var _validItems=jQuery(validItems);targetList.append(_validItems);targetList.trigger("items_changed");});};switch(method){case"default":initialize();break;}
return this;};})(jQuery);(function(jQuery){jQuery.fn.uxdropfield=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{numberOptions:6,filterOptions:true};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.attr("data-object","dropfield");matchedObject.each(function(index,element){var _element=jQuery(element);var dropFieldContents=jQuery(".drop-field-contents",_element);var valueFields=jQuery(".value-field",_element);var numberOptions=options["numberOptions"];var filterOptions=options["filterOptions"];var isSelect=_element.hasClass("drop-field-select");var displayAttribute=_element.attr("data-display_attribute");var extraAttribute=_element.attr("data-extra_attribute");var valueAttribute=_element.attr("data-value_attribute");var linkAttribute=_element.attr("data-link_attribute");var filterAttributes=_element.attr("data-filter_attributes");var filterAttributesList=filterAttributes?filterAttributes.split(","):null;var textField=jQuery(".text-field",_element);if(textField.length==0){var name=_element.attr("name");var value=_element.attr("value");var originalValue=_element.attr("data-original_value");var error=_element.attr("data-error");var type=_element.attr("data-type");var decimalPlaces=_element.attr("data-decimal_places");var textField=jQuery("<input type=\"text\" class=\"text-field\" />");textField.attr("name",name);textField.attr("value",value);textField.attr("data-original_value",originalValue);textField.attr("data-error",error);textField.attr("data-type",type);textField.attr("data-decimal_places",decimalPlaces);_element.append(textField);textField.uxtextfield();}
var textFieldValue=textField.attr("value");var textFieldIsLower=textField.hasClass("lower");textFieldValue=textFieldIsLower?"":textFieldValue;dropFieldContents.length==0&&_element.append("<div class=\"drop-field-clear\"></div>")&&_element.append("<ul class=\"drop-field-contents\"></ul>");var hiddenField=jQuery(".hidden-field",_element);var hiddenFieldValue=hiddenField.attr("value");var _valueFields={};valueFields.each(function(element,index){var _element=jQuery(this);var attribute=_element.attr("data-attribute");_valueFields[attribute]=_element;});hiddenFieldValue&&_element.addClass("drop-field-lock");textField.attr("autocomplete","off");hiddenField.attr("autocomplete","off");isSelect&&textField.attr("readonly","true");textField.data("avoid_escape",true);_element.data("cache",{});_element.data("value",textFieldValue);_element.data("selection",0);_element.data("mouse_control",false);_element.data("display_attribute",displayAttribute);_element.data("extra_attribute",extraAttribute);_element.data("value_attribute",valueAttribute);_element.data("link_attribute",linkAttribute);_element.data("filter_attributes",filterAttributesList);_element.data("number_options",numberOptions);_element.data("filter_options",filterOptions);_element.data("value_fields",_valueFields);});};var _registerHandlers=function(){var _body=jQuery("body");var dropFieldContents=jQuery(".drop-field-contents",matchedObject);var textField=jQuery(".text-field",matchedObject);var isRegistered=_body.data("drop_field_click");_body.data("drop_field_click",true);matchedObject.each(function(index,element){var _element=jQuery(element);if(!_element.hasClass("drop-field-select")){return;}
var dropField=_element;var textField=jQuery(".text-field",dropField);var dropFieldContents=jQuery(".drop-field-contents",dropField);var isSelect=dropField.hasClass("drop-field-select");isSelect&&textField.click(function(event){var isDisabled=dropField.hasClass("disabled");if(isDisabled){return;}
if(dropFieldContents.is(":visible")){dropFieldContents.hide();}
else{var updated=dropField.data("updated");!updated&&_update(dropField,options);dropField.data("updated",true)
dropFieldContents.show();}
event.stopPropagation();event.preventDefault();});});matchedObject.bind("enabled",function(){var element=jQuery(this);var textField=jQuery(".text-field",element);textField.uxenable();});matchedObject.bind("disabled",function(){var element=jQuery(this);var textField=jQuery(".text-field",element);textField.uxdisable();});!isRegistered&&_body.click(function(){var element=jQuery(this);var dropFieldContents=jQuery(".drop-field .drop-field-contents:visible",element);dropFieldContents.hide();});textField.keydown(function(event){var element=jQuery(this);var dropField=element.parents(".drop-field");var dropFieldContents=jQuery(".drop-field-contents",dropField);var isDisabled=dropField.hasClass("disabled");if(isDisabled){return;}
var eventKeyCode=event.keyCode?event.keyCode:event.which;if(eventKeyCode!=27){return;}
if(dropFieldContents.is(":visible")){dropFieldContents.hide();}
else{element.blur();}});matchedObject.focus(function(){var element=jQuery(this);var textField=jQuery(".text-field",element);textField.focus();});matchedObject.blur(function(){var element=jQuery(this);var textField=jQuery(".text-field",element);textField.blur();});textField.focus(function(event){var element=jQuery(this);var dropField=element.parents(".drop-field");dropField.addClass("focus");event.stopPropagation();});textField.blur(function(event){var element=jQuery(this);var dropField=element.parents(".drop-field");var mouseControl=dropField.data("mouse_control");!mouseControl&&dropFieldContents.hide();var isSelect=dropField.hasClass("drop-field-select");!isSelect&&_update(dropField,options);dropField.removeClass("focus");event.stopPropagation();});dropFieldContents.mouseenter(function(){var element=jQuery(this);var dropField=element.parents(".drop-field");dropField.data("mouse_control",true);});dropFieldContents.mouseleave(function(){var element=jQuery(this);var dropField=element.parents(".drop-field");dropField.data("mouse_control",false);});textField.keydown(function(event){var element=jQuery(this);var dropField=element.parents(".drop-field");var hiddenField=jQuery(".hidden-field",dropField);var hiddenTemplate=jQuery(".hidden-template",dropField);var textField=jQuery(".text-field",dropField);var dropFieldContents=jQuery(".drop-field-contents",dropField);var template=jQuery(".template",dropField);var isDisabled=dropField.hasClass("disabled");if(isDisabled){return;}
var eventKeyCode=event.keyCode?event.keyCode:event.which;switch(eventKeyCode){case 9:if(dropFieldContents.is(":visible")){var listItemSelected=jQuery(".drop-field-contents > .selected",dropField);var value=listItemSelected.attr("data-display");var valueLogic=listItemSelected.attr("data-value");var valueLink=listItemSelected.attr("data-link");var valueFields=dropField.data("value_fields");var item=listItemSelected.data("item");var templateItem=template.uxtemplate(item);hiddenTemplate.empty();hiddenTemplate.append(templateItem);hiddenField.attr("value",valueLogic);textField.uxtextfield("value",{value:value});dropField.data("value",value);for(var key in valueFields){var field=valueFields[key];var _value=item[key];field.attr("value",_value);}
hiddenField.length>0&&valueLogic&&dropField.addClass("drop-field-lock");dropField.triggerHandler("value_select",[value,valueLogic,item]);dropFieldContents.hide();event.stopPropagation();event.preventDefault();}
break;case 13:if(dropFieldContents.is(":visible")){event.stopPropagation();event.preventDefault();}
break;case 33:case 34:case 38:case 40:event.stopPropagation();event.preventDefault();break;}});textField.keyup(function(event){var element=jQuery(this);var dropField=element.parents(".drop-field");var hiddenField=jQuery(".hidden-field",dropField);var hiddenTemplate=jQuery(".hidden-template",dropField);var textField=jQuery(".text-field",dropField);var dropFieldContents=jQuery(".drop-field-contents",dropField);var template=jQuery(".template",dropField);var hiddenFieldValue=hiddenField.attr("value");var isDisabled=dropField.hasClass("disabled");if(isDisabled){return;}
var eventKeyCode=event.keyCode?event.keyCode:event.which;switch(eventKeyCode){case 13:if(dropFieldContents.is(":visible")){var listItemSelected=jQuery(".drop-field-contents > .selected",dropField);var value=listItemSelected.attr("data-display");var valueLogic=listItemSelected.attr("data-value");var valueLink=listItemSelected.attr("data-link");var valueFields=dropField.data("value_fields");var item=listItemSelected.data("item");var templateItem=template.uxtemplate(item);hiddenTemplate.empty();hiddenTemplate.append(templateItem);hiddenField.attr("value",valueLogic);textField.uxtextfield("value",{value:value});dropField.data("value",value);for(var key in valueFields){var field=valueFields[key];var _value=item[key];field.attr("value",_value);}
hiddenField.length>0&&valueLogic&&dropField.addClass("drop-field-lock");dropField.triggerHandler("value_select",[value,valueLogic,item]);if(valueLink){var duration=dropField.attr("data-duration");var durationInteger=parseInt(duration);var durationValid=!isNaN(durationInteger);if(durationValid){var offset=dropField.attr("data-offset");var offsetInteger=parseInt(offset);var settings={offset:isNaN(offsetInteger)?0:offsetInteger}
jQuery.uxscrollto(valueLink,durationInteger,settings);}
else{document.location=valueLink;}}
dropFieldContents.hide();}
break;case 27:dropFieldContents.hide();event.stopPropagation();break;case 33:if(dropFieldContents.is(":visible")){_upSelection(dropField,options);}
else{_update(dropField,options);!hiddenFieldValue&&!dropFieldContents.is(":empty")&&dropFieldContents.show();}
break;case 34:if(dropFieldContents.is(":visible")){_downSelection(dropField,options);}
else{_update(dropField,options);!hiddenFieldValue&&!dropFieldContents.is(":empty")&&dropFieldContents.show();}
break;case 38:if(dropFieldContents.is(":visible")){_incrementSelection(dropField,options);}
else{_update(dropField,options);!hiddenFieldValue&&!dropFieldContents.is(":empty")&&dropFieldContents.show();}
break;case 40:if(dropFieldContents.is(":visible")){_decrementSelection(dropField,options);}
else{_update(dropField,options);!hiddenFieldValue&&!dropFieldContents.is(":empty")&&dropFieldContents.show();}
break;default:var isSelect=dropField.hasClass("drop-field-select");!isSelect&&_update(dropField,options);break;}});};var _update=function(matchedObject,options){var dropField=matchedObject;var dataSource=jQuery("> .data-source",dropField);var hiddenField=jQuery(".hidden-field",dropField);var valueFields=jQuery(".value-field",dropField);var hiddenTemplate=jQuery(".hidden-template",dropField);var textField=jQuery(".text-field",dropField);var dropFieldContents=jQuery(".drop-field-contents",dropField);var dropFieldNoResults=jQuery(".drop-field-no-results",dropField);var template=jQuery(".template",dropField);var value=dropField.data("value");var displayAttribute=matchedObject.data("display_attribute");var extraAttribute=matchedObject.data("extra_attribute");var valueAttribute=matchedObject.data("value_attribute");var linkAttribute=matchedObject.data("link_attribute");var filterAttributes=matchedObject.data("filter_attributes");var numberOptions=matchedObject.data("number_options");var filterOptions=matchedObject.data("filter_options");var autoResize=dropField.attr("data-auto_size");var textFieldValue=textField.attr("value");var isSelect=dropField.hasClass("drop-field-select");if(textFieldValue==value&&!isSelect){return;}
if(textFieldValue==""&&!isSelect){dropFieldContents.hide();}
var filterString=isSelect?"":textFieldValue;if(!isSelect){hiddenTemplate.empty();hiddenField.attr("value","");valueFields.attr("value","");dropField.removeClass("drop-field-lock");}
numberOptions=filterOptions?numberOptions:null;dataSource.uxdataquery({filterString:filterString,filterAttributes:filterAttributes,startRecord:0,numberRecords:numberOptions},function(validItems,moreItems){if(!validItems){return;}
if((!isSelect&&dropField.hasClass("drop-field-lock"))||!textField.hasClass("focus")){return;}
dropFieldContents.empty()
if(validItems.length==0){var _dropFieldNoResults=dropFieldNoResults.clone();_dropFieldNoResults.removeClass("drop-field-no-results");dropFieldContents.append(_dropFieldNoResults);}
var cache=dropField.data("cache");for(var index=0;index<validItems.length;index++){var currentItem=validItems[index];dropField.triggerHandler("item",[currentItem]);var uniqueId=currentItem["unique_id"]||currentItem["uid"];var cacheItem=cache[uniqueId];var cachedData=cacheItem?cacheItem.data:null;var cacheValid=cachedData?jQuery.uxequals(cachedData,currentItem):false;if(cacheItem&&cacheValid){cacheItem=cacheItem.item;cacheItem.data("item",currentItem);dropFieldContents.append(cacheItem);continue;}
var currentDisplayAttribute=displayAttribute?currentItem[displayAttribute]:currentItem;var currentExtraAttribute=extraAttribute?currentItem[extraAttribute]:null;var currentValueAttribute=valueAttribute?currentItem[valueAttribute]:currentItem;var currentLinkAttribute=linkAttribute?currentItem[linkAttribute]:null;currentDisplayAttribute=currentDisplayAttribute&&typeof currentDisplayAttribute=="object"?currentDisplayAttribute["name"]:currentDisplayAttribute;currentExtraAttribute=currentExtraAttribute&&typeof currentExtraAttribute=="object"?currentExtraAttribute["value"]:currentExtraAttribute;currentValueAttribute=currentValueAttribute&&typeof currentValueAttribute=="object"?currentValueAttribute["value"]:currentValueAttribute;currentLinkAttribute=currentLinkAttribute&&typeof currentLinkAttribute=="object"?currentLinkAttribute["link"]:currentLinkAttribute;if(template.length>0){var templateItem=template.uxtemplate(currentItem);templateItem.attr("data-display",currentDisplayAttribute);templateItem.attr("data-value",currentValueAttribute);templateItem.data("item",currentItem);}
else{var templateItem=jQuery("<li data-display=\""
+currentDisplayAttribute
+"\" data-value=\""
+currentValueAttribute+"\">"
+currentDisplayAttribute+"</li>");currentExtraAttribute&&templateItem.append("<span class=\"subscript-extra\">"
+currentExtraAttribute
+"</span>");templateItem.data("item",currentItem);}
var linkElement=jQuery("a",templateItem);currentLinkAttribute=linkElement.length?linkElement.attr("href"):currentLinkAttribute;currentLinkAttribute&&templateItem.attr("data-link",currentLinkAttribute);if(uniqueId){cache[uniqueId]={item:templateItem,data:currentItem}}
dropFieldContents.append(templateItem);}
var listItems=jQuery(".drop-field-contents > *",dropField);listItems.mousedown(function(event){event.stopPropagation();event.preventDefault();});listItems.click(function(event){var element=jQuery(this);var index=element.index();options["index"]=index;_index(dropField,options);event.stopPropagation();event.preventDefault();});dropField.triggerHandler("value_unselect",[]);var preSelection=jQuery("li[data-display='"
+textFieldValue+"']",dropFieldContents);var preSelectionIndex=preSelection.length>0?preSelection.index()+1:0;isSelect?dropField.data("selection",preSelectionIndex):dropField.data("selection",1);dropField.data("value",textFieldValue);dropField.removeClass("drop-field-lock");validItems.length>0&&textField.hasClass("focus")&&(textFieldValue!=""||isSelect)?dropFieldContents.show():dropFieldContents.hide();if(autoResize!="false"){var isVisible=dropFieldContents.is(":visible");!isVisible&&dropFieldContents.show();var dropFieldContentsItems=dropFieldContents.children();var textFieldWidth=textField.outerWidth();var dropFieldContentsItemsExtraWidth=dropFieldContentsItems.outerWidth()
-dropFieldContentsItems.width();var dropFieldContentsWidth=textFieldWidth
-dropFieldContentsItemsExtraWidth;!isVisible&&dropFieldContents.hide();dropFieldContents.width(dropFieldContentsWidth);}
_updateSelection(dropField,options);});};var _value=function(matchedObject,options){var textField=jQuery(".text-field",matchedObject);var returnValue=textField.uxtextfield("value",options);return returnValue;};var _incrementSelection=function(matchedObject,options){var selection=matchedObject.data("selection");if(selection>0){matchedObject.data("selection",selection-1);}
_updateSelection(matchedObject,options);};var _decrementSelection=function(matchedObject,options){var selection=matchedObject.data("selection");var listItems=jQuery(".drop-field-contents > *",matchedObject);if(selection<listItems.length){matchedObject.data("selection",selection+1);}
_updateSelection(matchedObject,options);};var _upSelection=function(matchedObject,options){var selection=matchedObject.data("selection");if(selection>1){matchedObject.data("selection",1);}
else{matchedObject.data("selection",0);}
_updateSelection(matchedObject,options);};var _downSelection=function(matchedObject,options){var selection=matchedObject.data("selection");var listItems=jQuery(".drop-field-contents > *",matchedObject);if(selection>0){matchedObject.data("selection",listItems.length);}
else{matchedObject.data("selection",1);}
_updateSelection(matchedObject,options);};var _updateSelection=function(matchedObject,options){var selection=matchedObject.data("selection");var listItems=jQuery(".drop-field-contents > *",matchedObject);listItems.removeClass("selected");var selectedListItem=jQuery(".drop-field-contents > :nth-child("
+selection+")",matchedObject);selectedListItem.addClass("selected");};var _set=function(matchedObject,options){var value=options["value"];var valueLogic=options["valueLogic"];var item=options["item"]||{};var dropField=matchedObject;var hiddenField=jQuery(".hidden-field",dropField);var hiddenTemplate=jQuery(".hidden-template",dropField);var textField=jQuery(".text-field",dropField);var dropFieldContents=jQuery(".drop-field-contents",dropField);var valueFields=dropField.data("value_fields");dropFieldContents.empty();hiddenTemplate.empty();hiddenField.attr("value",valueLogic);textField.uxtextfield("value",{value:value});dropField.data("value",value);dropField.data("selection",1);for(var key in valueFields){var field=valueFields[key];var _value=item[key];field.attr("value",_value);}
dropField.addClass("drop-field-lock")};var _reset=function(matchedObject,options){var dropField=matchedObject;var hiddenField=jQuery(".hidden-field",dropField);var valueFields=jQuery(".value-field",dropField);var hiddenTemplate=jQuery(".hidden-template",dropField);var textField=jQuery(".text-field",dropField);var dropFieldContents=jQuery(".drop-field-contents",dropField);dropFieldContents.empty();hiddenTemplate.empty();hiddenField.attr("value",null);valueFields.attr("value",null);textField.uxtextfield("value",{value:""});dropField.data("value","");dropField.data("selection",1);dropField.removeClass("drop-field-lock");};var _index=function(matchedObject,options){var index=options["index"];var dropField=matchedObject;var hiddenField=jQuery(".hidden-field",dropField);var textField=jQuery(".text-field",dropField);var template=jQuery(".template",dropField);var hiddenTemplate=jQuery(".hidden-template",dropField);var dropFieldContents=jQuery(".drop-field-contents",dropField);var element=jQuery("> li:nth-child("+(index+1)+")",dropFieldContents);var value=element.attr("data-display");var valueLogic=element.attr("data-value");var valueLink=element.attr("data-link");var valueFields=dropField.data("value_fields");var item=element.data("item");var templateItem=template.uxtemplate(item);hiddenTemplate.empty();hiddenTemplate.append(templateItem);hiddenField.attr("value",valueLogic);textField.uxtextfield("value",{value:value});dropField.data("value",value);for(var key in valueFields){var field=valueFields[key];var _value=item[key];field.attr("value",_value);}
hiddenField.length>0&&valueLogic&&dropField.addClass("drop-field-lock");dropField.triggerHandler("value_select",[value,valueLogic,item]);if(valueLink){document.location=valueLink;}
var selectionIndex=element.index()+1
dropField.data("selection",selectionIndex);_updateSelection(dropField,options);dropFieldContents.hide();};switch(method){case"set":_set(matchedObject,options);break
case"reset":_reset(matchedObject,options);break
case"index":_index(matchedObject,options);break
case"value":var value=_value(matchedObject,options);return value;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxdroptag=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(this);var title=_element.attr("data-title");var items=jQuery("> .items",_element);if(items.length==0){_element.append("<ul class=\"items\"></ul>");}
_element.prepend("<div class=\"drop-tag-header\">"
+title+"</div>"
+"<div class=\"drop-tag-tag\">"
+"<span class=\"drop-tag-text\"></span>"
+"<span class=\"drop-tag-close\"></span>"
+"</div>");});};var _registerHandlers=function(){var _body=jQuery("body");var dropTagHeader=jQuery(".drop-tag-header",matchedObject);var dropTagClose=jQuery(".drop-tag-close",matchedObject);var items=jQuery(".items",matchedObject);var listItems=jQuery(".items > li",matchedObject);dropTagHeader.click(function(event){var element=jQuery(this);var dropTag=element.parents(".drop-tag");var tags=dropTag.parent(".tags");var dropTags=jQuery(".drop-tag",tags);var dropTagsItems=jQuery("> .items",dropTags);var items=jQuery("> .items",dropTag);var isDisabled=dropTag.hasClass("disabled");if(isDisabled){return;}
var isOpen=dropTag.hasClass("open");dropTagsItems.hide();dropTags.removeClass("open");if(isOpen){items.hide();dropTag.removeClass("open");}
else{items.show();dropTag.addClass("open");}
event.stopPropagation();event.stopImmediatePropagation();event.preventDefault();});dropTagClose.click(function(){var element=jQuery(this);var dropTag=element.parents(".drop-tag");var listItems=jQuery(".items > li.selected",dropTag);listItems.removeClass("selected");dropTag.removeClass("tag-mode");dropTag.triggerHandler("item_unselected",[])});listItems.click(function(){var element=jQuery(this);var dropTag=element.parents(".drop-tag");var dropTagText=jQuery(".drop-tag-text",dropTag);var name=element.html();dropTagText.html(name);element.addClass("selected");dropTag.addClass("tag-mode");dropTag.triggerHandler("item_selected",[element])});_body.click(function(){matchedObject.removeClass("open");items.hide();});};var update=function(){var listItems=jQuery(".items > li",matchedObject);listItems.click(function(){var element=jQuery(this);var dropTag=element.parents(".drop-tag");var dropTagText=jQuery(".drop-tag-text",dropTag);var name=element.html();dropTagText.html(name);element.addClass("selected");dropTag.addClass("tag-mode");dropTag.triggerHandler("item_selected",[element])});};var release=function(){var dropTag=matchedObject();dropTag.removeClass("tag-mode");};switch(method){case"update":update();break;case"release":release();break;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxfiledrop=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){matchedObject.bind("dragenter",function(event){event.stopPropagation();event.preventDefault();matchedObject.triggerHandler("file_enter",[])});matchedObject.bind("dragleave",function(event){event.stopPropagation();event.preventDefault();matchedObject.triggerHandler("file_leave",[])});matchedObject.bind("dragover",function(event){event.stopPropagation();event.preventDefault();});matchedObject.bind("drop",function(event){event.stopPropagation();event.preventDefault();var dataTransfer=event.originalEvent.dataTransfer;var files=dataTransfer.files;matchedObject.triggerHandler("file_drop",[files])});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxfilter=function(options){var defaults={numberRecords:9};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var numberRecords=options["numberRecords"];var filterInput=jQuery(".filter-input",matchedObject);filterInput.attr("autocomplete","off");matchedObject.data("filter_string","");matchedObject.data("start_record",0);matchedObject.data("selection",[0]);matchedObject.data("pivot",0);matchedObject.data("number_records",numberRecords);matchedObject.data("complete",false);matchedObject.data("pending",false);matchedObject.each(function(index,element){var _element=jQuery(element);var advanced=_element.attr("data-advanced");var noInput=_element.attr("data-no_input");var filterContents=jQuery("> .filter-contents",_element);var filterMore=jQuery("> .filter-more",_element);var textField=jQuery("> .text-field",_element);if(textField.length==0&&!noInput){var name=_element.attr("name");var value=_element.attr("value");var originalValue=_element.attr("data-original_value");var error=_element.attr("data-error");var textField=jQuery("<input type=\"text\" class=\"text-field filter-input\" />");textField.attr("name",name);textField.attr("value",value);textField.attr("data-original_value",originalValue);textField.attr("data-error",error);_element.prepend(textField);textField.uxtextfield();}
var filterButtons=jQuery("<div class=\"filter-input-buttons\">"
+"<div class=\"button filter-input-button filter-input-toggle-advanced filter-input-more\"></div>"
+"<div class=\"button filter-input-button filter-input-toggle-views\"></div>"
+"<div class=\"clear\"></div>"+"</div>");advanced&&filterButtons.insertAfter(textField);var filterAdvanced=jQuery("<div class=\"filter-advanced\">"
+"<div class=\"filter-input-add filter-input-first\"></div>"
+"<div class=\"filter-sort\">"
+"<div class=\"filter-clear\"></div>"
+"</div>"
+"<div class=\"filter-advanced-filters\"></div>"
+"<div class=\"filter-advanced-buttons\">"
+"<div class=\"button small button-grey filter-advanced-select\">Select All</div>"
+"<div class=\"button small button-grey disabled filter-advanced-save\">Save</div>"
+"<div class=\"filter-clear\"></div>"+"</div>"
+"</div>");advanced&&filterAdvanced.insertAfter(filterButtons);var isList=_element.hasClass("list-list");var isTable=_element.hasClass("table-list");var isGallery=_element.hasClass("gallery-list");var toggleViews=jQuery(".filter-input-toggle-views",_element);isList&&toggleViews.addClass("filter-input-list");isTable&&toggleViews.addClass("filter-input-table");isGallery&&toggleViews.addClass("filter-input-gallery");var dataSource=jQuery("> .data-source",_element);var dataOrder=jQuery(".order > li",dataSource);var filterSort=jQuery(".filter-sort",_element);var filterClear=jQuery("> .filter-clear",filterSort);var filterFiltering=jQuery(".filtering > li",dataSource);dataOrder.each(function(index,element){var _element=jQuery(this);var valueHtml=_element.html();var valueName=_element.attr("data-name");var valueOrder=_element.attr("data-order")||"descending";var filterOption=jQuery("<div class=\"filter-sort-option\">"
+valueHtml+"</div>");filterOption.attr("data-name",valueName);filterOption.attr("data-order",valueOrder);filterOption.insertBefore(filterClear);});filterSort.prepend("<div class=\"filter-sort-option selected equals\" data-order=\"equals\">default</div>");var hasFiltering=filterFiltering.length>0?true:false;advanced&&hasFiltering&&_addFilter(_element);!hasFiltering&&_disableFiltering();var filterMoreText=filterMore.html();filterMore.html("<div class=\"text\">"+filterMoreText
+"</div>"+"<div class=\"spinner\"></div>");var filterMoreLength=filterMore.length;if(filterContents.length==0){var filterContents=jQuery("<div class=\"filter-contents\"></div>");var filterClear=jQuery("<div class=\"filter-clear\"></div>");filterMoreLength>0?filterContents.insertBefore(filterMore)&&filterClear.insertBefore(filterMore):_element.append(filterContents);}
_element.data("cache",{});_update(_element,options);});};var _registerHandlers=function(){var _window=jQuery(window);var _document=jQuery(document);var _body=jQuery("body");var filterInput=jQuery("> .filter-input",matchedObject);var filterMore=jQuery("> .filter-more",matchedObject);var textField=jQuery("> .text-field",matchedObject);var filterOptions=jQuery(".filter-sort-option",matchedObject);var toggleAdvanced=jQuery(".filter-input-toggle-advanced",matchedObject);var toggleViews=jQuery(".filter-input-toggle-views",matchedObject);var filterAdd=jQuery(".filter-advanced > .filter-input-add",matchedObject);var filterSelect=jQuery(".filter-advanced-select",matchedObject);var isRegistered=_body.data("filter_click");matchedObject.length>0&&_body.data("filter_click",true);var infinite=matchedObject.attr("data-infinite")||false;textField.focus(function(){var element=jQuery(this);var filter=element.parent(".filter");var filterButtons=jQuery(".filter-input-buttons",filter);filterButtons.addClass("lower");});textField.blur(function(){var element=jQuery(this);var filter=element.parent(".filter");var filterButtons=jQuery(".filter-input-buttons",filter);filterButtons.removeClass("lower");});textField.keydown(function(event){var element=jQuery(this);var eventKeyCode=event.keyCode?event.keyCode:event.which;switch(eventKeyCode){case 33:case 34:case 38:case 40:event.stopPropagation();event.preventDefault();break;}});textField.keyup(function(event){var element=jQuery(this);var filter=element.parents(".filter");var eventKeyCode=event.keyCode?event.keyCode:event.which;switch(eventKeyCode){case 13:var listItemSelected=jQuery(".filter-contents > .selected",filter);_select(listItemSelected,filter,options);break;case 33:if(event.shiftKey){_upRange(filter,options);}
else{_upSelection(filter,options);}
break;case 34:if(event.shiftKey){_downRange(filter,options);}
else{_downSelection(filter,options);}
break;case 38:if(event.shiftKey){_incrementRange(filter,options);}
else{_incrementSelection(filter,options);}
event.stopPropagation();break;case 40:if(event.shiftKey){_decrementRange(filter,options);}
else{_decrementSelection(filter,options);}
event.stopPropagation();break;}});filterOptions.click(function(){var element=jQuery(this);var filter=element.parents(".filter");var selectedOption=jQuery(".filter-sort-option.selected",filter);var isSame=element[0]==selectedOption[0];var order=element.attr("data-order");var isEquals=element.hasClass("equals");if(isEquals){return;}
if(isSame){var isDescending=selectedOption.hasClass("descending");isDescending?selectedOption.removeClass("descending"):selectedOption.removeClass("ascending");isDescending?selectedOption.addClass("ascending"):selectedOption.addClass("descending");}
else{selectedOption.removeClass("selected");selectedOption.removeClass("ascending");selectedOption.removeClass("descending");selectedOption.removeClass("equals");element.addClass("selected");element.addClass(order);}
_update(filter,options,true);});toggleAdvanced.click(function(){var element=jQuery(this);var filter=element.parents(".filter");var filterAdvanced=jQuery(".filter-advanced",filter);var isMore=element.hasClass("filter-input-more");if(isMore){element.removeClass("filter-input-more");element.addClass("filter-input-less");filterAdvanced.show();}else{element.removeClass("filter-input-less");element.addClass("filter-input-more");filterAdvanced.hide();}});toggleViews.click(function(){var element=jQuery(this);var filter=element.parents(".filter");var isList=element.hasClass("filter-input-list");var isTable=element.hasClass("filter-input-table");var hasListView=jQuery(".list-view",filter).length;var hasTableView=jQuery(".table-view",filter).length;var hasGalleryView=jQuery(".gallery-view",filter).length;if(isList){if(!hasTableView&&!hasGalleryView){return;}
element.removeClass("filter-input-list");filter.removeClass("list-list");hasTableView?element.addClass("filter-input-table"):element.addClass("filter-input-gallery");hasTableView?filter.addClass("table-list"):filter.addClass("gallery-list");}else if(isTable){if(!hasGalleryView&&!hasListView){return;}
element.removeClass("filter-input-table");filter.removeClass("table-list");hasGalleryView?element.addClass("filter-input-gallery"):element.addClass("filter-input-list");hasGalleryView?filter.addClass("gallery-list"):filter.addClass("list-list");}else{if(!hasListView&&!hasTableView){return;}
element.removeClass("filter-input-gallery");filter.removeClass("gallery-list");hasListView?element.addClass("filter-input-list"):element.addClass("filter-input-table");hasListView?filter.addClass("list-list"):filter.addClass("table-list");}});filterAdd.click(function(){var element=jQuery(this);var filter=element.parents(".filter");_addFilter(filter);_update(filter,options,true);});filterSelect.click(function(){var element=jQuery(this);var filter=element.parents(".filter");var filterElements=jQuery(".filter-element",filter);var numberElements=filterElements.length;var selection=[]
for(var index=1;index<numberElements+1;index++){selection.push(index);}
filter.data("selection",selection);filter.data("pivot",1);_updateSelection(filter,options);});filterInput.keyup(function(){var element=jQuery(this);var filter=element.parents(".filter");var filterString=filter.data("filter_string");var filterInputValue=filterInput.attr("data-value");if(filterString==filterInputValue){return;}
_update(filter,options);});filterMore.click(function(){var element=jQuery(this);var filter=element.parents(".filter");_update(filter,options);});matchedObject.length>0&&_document.keydown(function(event){var filter=matchedObject;var keyValue=event.keyCode?event.keyCode:event.charCode?event.charCode:event.which;switch(keyValue){case 13:var listItemSelected=jQuery(".filter-contents > .selected",filter);_select(listItemSelected,filter,options);break;case 74:if(event.shiftKey){_decrementRange(filter,options);}
else{_decrementSelection(filter,options);}
break;case 75:if(event.shiftKey){_incrementRange(filter,options);}
else{_incrementSelection(filter,options);}
break;default:break;}});matchedObject.length>0&&matchedObject.click(function(event){matchedObject.data("avoid_next",true);});matchedObject.length>0&&!isRegistered&&_body.click(function(event){var avoidNext=matchedObject.data("avoid_next");matchedObject.data("avoid_next",false);if(avoidNext){return;}
matchedObject.data("selection",[0]);matchedObject.data("pivot",0);_updateSelection(matchedObject,options);});matchedObject.length>0&&infinite&&_window.scroll(function(){var filter=matchedObject;var margin=jQuery(".margin");var marginOffset=margin.offset();var pageOffset=marginOffset?marginOffset.top:0;var delta=filterMore.outerHeight()*-1;var isVisible=filterMore.length?jQuery.uxvisible(filterMore,pageOffset,delta):false;isVisible&&_update(filter,options);});};var _update=function(matchedObject,options,force){var filter=matchedObject;var filterInput=jQuery(".filter-input",filter);var filterContents=jQuery(".filter-contents",filter);var filterNoResults=jQuery(".filter-no-results",filter);var filterMore=jQuery(".filter-more",filter);var dataSource=jQuery("> .data-source",filter);var template=jQuery(".template",filter);var filterString=filter.data("filter_string");var startRecord=filter.data("start_record");var numberRecords=filter.data("number_records");var complete=filter.data("complete");var pending=filter.data("pending");numberRecords=filter.hasClass("table-list")?14:numberRecords;var filterInputValue=filterInput.attr("data-value")||"";var reset=false;if(filterString!=filterInputValue||force){filter.data("selection",[0]);filter.data("pivot",0);filter.data("start_record",0);startRecord=0;reset=true;}
else{if(complete||pending){return;}}
var sortSelected=jQuery(".filter-sort-option.selected",filter);var sortValue=sortSelected.attr("data-name")||sortSelected.html();var isAscending=sortSelected.hasClass("ascending");var sortOrder=isAscending?"ascending":"descending";var sort=sortValue?[sortValue,sortOrder]:null;var filters=jQuery(".filter-advanced-filter",filter);var _filters=[];filters.each(function(){var element=jQuery(this);var dropField=jQuery("> .drop-field:not(.operation-field)",element);var operationField=jQuery("> .operation-field",element);var valueField=jQuery("> .value-field",element);var operationSource=jQuery("> .data-source",operationField);var isDropField=valueField.hasClass("drop-field");if(isDropField){var hiddenField=jQuery(".hidden-field",valueField);var value=hiddenField.val();}else{var value=valueField.uxtextfield("value");}
if(!value){return;}
var attribute=element.data("name")||dropField.uxdropfield("value");var operation=operationField.uxdropfield("value");var items=operationSource.data("items");var operations=operationSource.data("operations");var itemIndex=items.indexOf(operation);var _operation=operations[itemIndex];var filter=[attribute,_operation,value];_filters.push(filter);});filter.data("pending",true);filterMore.addClass("loading");dataSource.uxdataquery({filterString:filterInputValue,sort:sort,filters:_filters,startRecord:startRecord,numberRecords:numberRecords},function(validItems,moreItems){filterMore.removeClass("loading");if(!validItems){filter.data("pending",false);return;}
if(reset){var filterElements=jQuery(".filter-element",filter);filterElements.remove();}
var cache=filter.data("cache");var _validItems=jQuery(validItems);var validItemsLength=validItems.length;_validItems.each(function(index,element){var options={apply:true,nullify:true,defaultValue:"-"};var objectId=element["object_id"]||element["oid"];var uniqueId=element["unique_id"]||element["uid"];var cacheItem=cache[uniqueId];var cachedData=cacheItem?cacheItem.data:null;var cacheValid=cachedData?jQuery.uxequals(cachedData,element):false;if(cacheItem&&cacheValid){cacheItem=cacheItem.item;var templateItem=cacheItem;templateItem.removeClass("selected");templateItem.removeClass("first");templateItem.removeClass("last");}
else{var templateItem=template.uxtemplate(element,options);if(uniqueId){cache[uniqueId]={item:templateItem,data:element}}}
templateItem.data("object_id",objectId);templateItem.addClass("filter-element");filterContents.append(templateItem);templateItem.click(function(event){var templateItemIndex=templateItem.index();if(event.ctrlKey){var selection=filter.data("selection");var isInitial=selection.length==1&&selection[0]==0;isInitial&&selection.pop();selection.length==0&&filter.data("pivot",templateItemIndex+1);var elementIndex=selection.indexOf(templateItemIndex
+1);if(elementIndex==-1){selection.push(templateItemIndex+1);}
else{selection.splice(elementIndex,1);}}
else if(event.shiftKey){var index=templateItemIndex+1;_rangeSelection(index,filter,options);}else{filter.data("selection",[templateItemIndex
+1]);filter.data("pivot",templateItemIndex+1);}
_updateSelection(filter,options);});templateItem.bind("selected",function(){var templateItemIndex=templateItem.index();var selection=filter.data("selection");var elementIndex=selection.indexOf(templateItemIndex
+1);if(elementIndex!=-1){return;}
filter.data("selection",[templateItemIndex+1]);filter.data("pivot",templateItemIndex+1);_updateSelection(filter,options);});templateItem.dblclick(function(){_select(templateItem,filter,options);});});if(validItemsLength>0){filterNoResults.hide();}
else{filterNoResults.show();}
if(moreItems){filterMore.show();}
else{filterMore.hide();}
var listItems=jQuery(".filter-contents > *",matchedObject);listItems.unbind("contextmenu rightclick",_handleContext);listItems.bind("contextmenu rightclick",_handleContext);var menus=jQuery(".menu",listItems);menus.each(function(index,element){var _element=jQuery(element);_initMenu(_element,filter,true);});menus.bind("show",function(){var _element=jQuery(this);var buttons=jQuery(".button:not(.menu-link)",_element);buttons.removeClass("selected");});filter.triggerHandler("update_complete");filter.data("filter_string",filterInputValue);filter.data("start_record",startRecord+numberRecords);filter.data("complete",!moreItems);filter.data("pending",false);});};var _handleContext=function(event){var element=jQuery(this);var _window=jQuery(window);var _document=jQuery(document);var _body=jQuery("body")
var contextMenus=jQuery("> .context-menu",_body);var menu=jQuery(".context-menu",element);var menuContents=jQuery(".context-menu .menu-contents",element);if(menu.length==0){return;}
var _menu=jQuery(".menu.active");var _menuContents=jQuery(".menu-contents:visible");_menu.removeClass("active");_menuContents.hide();menu=menu.clone();menu.uxapply();menu.addClass("drop-menu");var buttons=jQuery(".button:not(.menu-link)",menu);buttons.removeClass("selected");var menuContents=jQuery(".menu-contents:not(.sub-menu)",menu);contextMenus.remove();_body.append(menu);element.trigger("selected");var scrollY=window.scrollY?window.scrollY:document.body.scrollTop;var scrollX=window.scrollX?window.scrollX:document.body.scrollLeft;menuContents.css("position","fixed")
menuContents.css("margin-left",0+"px");menuContents.css("margin-top",0+"px");menuContents.css("top",event.pageY-scrollY+"px");menuContents.css("left",event.pageX-scrollX+"px");menu.addClass("active");menuContents.fadeIn(150);event.stopPropagation();event.preventDefault();var filter=element.parents(".filter");_initMenu(menu,filter);};var _initMenu=function(menu,filter,stay){var menuContents=jQuery("> .menu-contents",menu);var buttons=jQuery(".button:not(.menu-link)",menu);var targetButtons=jQuery(".button[data-target]",menu);var nonTargetButtons=jQuery(":not(.sub-menu) .button:not([data-target])",menu);targetButtons.mouseenter(function(){var element=jQuery(this);element.addClass("hover");setTimeout(function(){if(!element.hasClass("hover")){return;}
_showSubMenu(element,menu);},500);});targetButtons.mouseleave(function(){var element=jQuery(this);element.removeClass("hover");});nonTargetButtons.mouseenter(function(){var element=jQuery(this);targetButtons.removeClass("selected");setTimeout(function(){var subMenu=jQuery(".sub-menu:visible",menu);var isHovered=element.is(":hover");if(!isHovered){return;}
_hideSubMenu(subMenu);},300);});buttons.each(function(index,element){var _element=jQuery(element);_element.data("link",null);var elementIndex=_element.index();_element.click(function(event){var element=jQuery(this);var isSubElement=element.hasClass("sub-element");if(isSubElement){_showSubMenu(element,menu);return;}
var selectedListItem=jQuery(".filter-contents > .selected",filter);var _menuContents=element.parents(".menu-contents");var menuId=_menuContents.attr("data-menu_id");menu.removeClass("active");menuContents.hide();!stay&&menu.remove();selectedListItem.each(function(index,element){var __element=jQuery(element);var button=jQuery(".context-menu > .menu-contents[data-menu_id="
+menuId
+"] > :nth-child("
+String(elementIndex
+1)+")",__element);var isDocument=button.attr("data-document");var link=button.attr("data-link");if(!link){return;}
isDocument&&index==0?document.location=link:window.open(link,"_blank");});var linkBulk=_element.attr("data-link_bulk");if(linkBulk){var identifiersList="";selectedListItem.each(function(index,element){var __element=jQuery(element);var objectId=__element.data("object_id");if(index>0){identifiersList+=",";}
identifiersList+=objectId});document.location=linkBulk+"?object_id="
+identifiersList;}
event.stopPropagation();event.preventDefault();});_element.dblclick(function(event){event.stopPropagation();event.preventDefault();});});};var _incrementSelection=function(matchedObject,options){var selection=matchedObject.data("selection");var _selection=selection[0];if(_selection>0){matchedObject.data("selection",[_selection-1]);matchedObject.data("pivot",_selection-1);}
_updateSelection(matchedObject,options);};var _decrementSelection=function(matchedObject,options){var selection=matchedObject.data("selection");var _selection=selection[selection.length-1];var listItems=jQuery(".filter-contents > *",matchedObject);if(_selection<listItems.length){matchedObject.data("selection",[_selection+1]);matchedObject.data("pivot",_selection+1);}else{_update(matchedObject,options);}
_updateSelection(matchedObject,options);};var _upSelection=function(matchedObject,options){var selection=matchedObject.data("selection");var _selection=selection[0];if(_selection>1){matchedObject.data("selection",[1]);matchedObject.data("pivot",1);}
else{matchedObject.data("selection",[0]);matchedObject.data("pivot",0);}
_updateSelection(matchedObject,options);};var _downSelection=function(matchedObject,options){var selection=matchedObject.data("selection");var _selection=selection[selection.length-1];var listItems=jQuery(".filter-contents > *",matchedObject);if(_selection==listItems.length){_update(matchedObject,options);}
else if(_selection>0){matchedObject.data("selection",[listItems.length]);matchedObject.data("pivot",listItems.length);}
else{matchedObject.data("selection",[1]);matchedObject.data("pivot",1);}
_updateSelection(matchedObject,options);};var _updateSelection=function(matchedObject,options){var selection=matchedObject.data("selection");var listItems=jQuery(".filter-contents > *",matchedObject);listItems.removeClass("selected");listItems.removeClass("first");listItems.removeClass("last");selection.sort(function(first,second){return first-second;});for(var index=0;index<selection.length;index++){var _selection=selection[index];var _previous_selection=selection[index-1];var _next_selection=selection[index+1];var _selectedListItem=jQuery(".filter-contents > :nth-child("
+_selection+")",matchedObject);_selectedListItem.addClass("selected");if(index==0||_previous_selection!=_selection-1){_selectedListItem.addClass("first");}
if(index==selection.length-1||_next_selection!=_selection+1){_selectedListItem.addClass("last");}}
var selectedListItem=jQuery(".filter-contents > .selected",matchedObject);var margin=jQuery(".margin");var marginOffset=margin.offset();var pageOffset=marginOffset?marginOffset.top:0;var _element=selectedListItem.get(0);var isVisible=_element?jQuery.uxvisible(selectedListItem,pageOffset):true;!isVisible&&selectedListItem.length==1&&selectedListItem.uxscroll({offset:pageOffset,padding:10});};var _incrementRange=function(matchedObject,options){var filter=matchedObject;var pivot=filter.data("pivot");var selection=filter.data("selection");pivot=pivot==0?1:pivot;var first=selection[0];var last=selection[selection.length-1];if(first==pivot){var value=last-1;}
else{var value=first-1;}
if(value==0){return;}
_rangeSelection(value,filter,options);_updateSelection(filter,options);var selectedListItem=jQuery(".filter-contents > .selected",matchedObject);var margin=jQuery(".margin");var marginOffset=margin.offset();var pageOffset=marginOffset?marginOffset.top:0;if(first==pivot){var item=jQuery(selectedListItem[selectedListItem.length-1]);}
else{var item=jQuery(selectedListItem[0]);}
var isVisible=item?jQuery.uxvisible(item,pageOffset):true;!isVisible&&item.uxscroll({offset:pageOffset,padding:10});};var _decrementRange=function(matchedObject,options){var filter=matchedObject;var pivot=filter.data("pivot");var selection=filter.data("selection");pivot=pivot==0?1:pivot;var first=selection[0];var last=selection[selection.length-1];if(last==pivot){var value=first+1;}
else{var value=last+1;}
var listItems=jQuery(".filter-contents > *",matchedObject);if(value>listItems.length){_update(matchedObject,options);return;}
_rangeSelection(value,filter,options);_updateSelection(filter,options);var selectedListItem=jQuery(".filter-contents > .selected",matchedObject);var margin=jQuery(".margin");var marginOffset=margin.offset();var pageOffset=marginOffset?marginOffset.top:0;if(last==pivot){var item=jQuery(selectedListItem[0]);}
else{var item=jQuery(selectedListItem[selectedListItem.length-1]);}
var isVisible=item?jQuery.uxvisible(item,pageOffset):true;!isVisible&&item.uxscroll({offset:pageOffset,padding:10});};var _upRange=function(matchedObject,options){var filter=matchedObject;var pivot=filter.data("pivot");var selection=filter.data("selection");_rangeSelection(1,filter,options);_updateSelection(filter,options);var selectedListItem=jQuery(".filter-contents > .selected",matchedObject);var margin=jQuery(".margin");var marginOffset=margin.offset();var pageOffset=marginOffset?marginOffset.top:0;var item=jQuery(selectedListItem[0]);var isVisible=item?jQuery.uxvisible(item,pageOffset):true;!isVisible&&item.uxscroll({offset:pageOffset,padding:10});};var _downRange=function(matchedObject,options){var filter=matchedObject;var pivot=filter.data("pivot");var selection=filter.data("selection");var _selection=selection[selection.length-1];var listItems=jQuery(".filter-contents > *",matchedObject);if(_selection==listItems.length){_update(matchedObject,options);return;}
_rangeSelection(listItems.length,filter,options);_updateSelection(filter,options);var selectedListItem=jQuery(".filter-contents > .selected",matchedObject);var margin=jQuery(".margin");var marginOffset=margin.offset();var pageOffset=marginOffset?marginOffset.top:0;var item=jQuery(selectedListItem[selectedListItem.length-1]);var isVisible=item?jQuery.uxvisible(item,pageOffset):true;!isVisible&&item.uxscroll({offset:pageOffset,padding:10});};var _rangeSelection=function(index,matchedObject,options){var filter=matchedObject;var selection=filter.data("selection");var pivot=filter.data("pivot");pivot=pivot==0?1:pivot;var isInitial=selection.length==1&&selection[0]==0;isInitial&&selection.pop();if(index>=pivot){var _initial=pivot;var _final=index+1;}
else if(index<=pivot){var _initial=index;var _final=pivot+1;}
var _selection=[]
for(var index=_initial;index<_final;index++){_selection.push(index);}
filter.data("selection",_selection);};var _select=function(listItem,matchedObject,options){var filter=matchedObject;listItem.each(function(index,element){var _element=jQuery(element);var _listItem=_element;var valueLink=_listItem.attr("data-link");var linkElement=jQuery("a",_listItem);var valueLink=valueLink?valueLink:linkElement.attr("href");if(valueLink){var duration=filter.attr("data-duration");var durationInteger=parseInt(duration);var durationValid=!isNaN(durationInteger);if(durationValid){var offset=filter.attr("data-offset");var offsetInteger=parseInt(offset);var settings={offset:isNaN(offsetInteger)?0:offsetInteger}
jQuery.uxscrollto(valueLink,durationInteger,settings);}
else{listItem.length<=1?document.location=valueLink:window.open(valueLink,"_blank");}}});};var _showSubMenu=function(element,menu){var target=element.attr("data-target");var subMenu=jQuery(target,menu);var subButtons=jQuery(".button:not(.menu-link)",subMenu);var isVisible=subMenu.is(":visible");if(isVisible){return;}
var showing=subMenu.data("showing");if(showing){return;}
subMenu.data("showing",true);var offset=element.offset();var top=offset["top"];var left=offset["left"];var elementWidth=element.outerWidth();var marginLeft=elementWidth-3;var scrollY=window.scrollY?window.scrollY:document.body.scrollTop;var scrollX=window.scrollX?window.scrollX:document.body.scrollLeft;subMenu.css("position","fixed")
subMenu.css("margin-left",marginLeft+"px");subMenu.css("margin-top",0+"px");subMenu.css("top",(top-scrollY)+"px");subMenu.css("left",(left-scrollX)+"px");element.addClass("selected");var mouseenter=subButtons.data("mouseenter");mouseenter=mouseenter||subButtons.mouseenter(function(){element.addClass("selected");});subButtons.data("mouseenter",mouseenter);subMenu.fadeIn(150,function(){subMenu.data("showing",false);});};var _hideSubMenu=function(subMenu){subMenu.hide();};var _selectFilter=function(filter,value,select){var _filter=filter.parents(".filter");var valueField=jQuery(".value-field",filter);var dropField=jQuery(".drop-field:not(.operation-field)",filter);var operationField=jQuery(".drop-field.operation-field",filter);var dropSource=jQuery("> .data-source",dropField);var operationSource=jQuery("> .data-source",operationField);var items=dropSource.data("items");var types=dropSource.data("types");var names=dropSource.data("names");var elements=dropSource.data("elements");var index=items.indexOf(value);var type=types[index];var name=names[index];var element=elements[index];var disabled=false;filter.data("name",name);valueField.remove();switch(type){case"string":var _items=["contains","matches","begins with","ends with"];var _operations=["like","equals","rlike","llike"];var valueField=jQuery("<input type=\"text\" class=\"text-field small value-field\" />");valueField.insertAfter(operationField);valueField.uxtextfield();break;case"number":var _items=["equals","greater than","less than"];var _operations=["equals","greater","lesser"];var valueField=jQuery("<input type=\"text\" class=\"text-field small value-field\" />");valueField.insertAfter(operationField);valueField.uxtextfield();break;case"date":var _items=["in","after","before"];var _operations=["in_day","greater","lesser"];var valueField=jQuery("<input type=\"text\" class=\"text-field small value-field\" data-type=\"date\" data-original_value=\"yyyy/mm/dd\" />");valueField.insertAfter(operationField);valueField.uxtextfield();break;case"reference":var _items=["search"];var _operations=["equals"];disabled=true
var url=element.attr("data-surl");var _type=element.attr("data-stype");var displayAttribute=element.attr("data-sdisplay_attribute");var valueAttribute=element.attr("data-svalue_attribute");var valueField=jQuery("<div class=\"drop-field small value-field\">"
+"<input type=\"hidden\" class=\"hidden-field\" />"
+"<ul class=\"data-source\"></ul>"+"</div>");var valueSource=jQuery("> .data-source",valueField);valueSource.attr("data-url",url);valueSource.attr("data-type",_type);valueSource.uxdatasource();valueField.attr("data-display_attribute",displayAttribute);valueField.attr("data-value_attribute",valueAttribute);valueField.insertAfter(operationField);valueField.uxdropfield();break;default:var _items=["undefined"];var _operations=[""];break;}
operationSource.data("items",_items);operationSource.data("operations",_operations);operationField.data("updated",null);operationField.uxdropfield("reset");select&&dropField.uxdropfield("set",{value:value});operationField.uxdropfield("set",{value:_items[0]});disabled?operationField.uxdisable():operationField.uxenable();operationField.bind("value_select",function(event,value,valueLogic,item){_update(_filter,options,true);});valueField.bind("value_change",function(event,value,valueLogic,item){_update(_filter,options,true);});valueField.bind("value_select",function(event,value,valueLogic,item){_update(_filter,options,true);});valueField.bind("value_unselect",function(event){_update(_filter,options,true);});};var _addFilter=function(matchedObject,target){var dataSource=jQuery("> .data-source",matchedObject);var dataFiltering=jQuery(".filtering > li",dataSource);var advancedFilters=jQuery(".filter-advanced-filters",matchedObject);var filter=jQuery("<div class=\"filter-advanced-filter\"></div>");var dropField=jQuery("<div class=\"drop-field drop-field-select small\">"
+"<ul class=\"data-source\" data-type=\"local\"></ul>"
+"</div>");var operationField=jQuery("<div class=\"drop-field drop-field-select small operation-field\">"
+"<ul class=\"data-source\" data-type=\"local\"></ul>"
+"</div>");var remove=jQuery("<div class=\"filter-input-remove\"></div>");var add=jQuery("<div class=\"filter-input-add\"></div>");var clear=jQuery("<div class=\"filter-clear\"></div>");var dropSource=jQuery("> .data-source",dropField);var items=[]
var types=[]
var names=[]
var elements=[]
dataFiltering.each(function(index,element){var _element=jQuery(this);var dataHtml=_element.html();var dataType=_element.attr("data-type");var dataName=_element.attr("data-name");items.push(dataHtml);types.push(dataType);names.push(dataName);elements.push(_element);});dropSource.data("items",items);dropSource.data("types",types);dropSource.data("names",names);dropSource.data("elements",elements);dropField.bind("value_select",function(event,value,valueLogic,item){_selectFilter(filter,value);_update(matchedObject,options,true);});remove.click(function(){var element=jQuery(this);var _filter=element.parents(".filter-advanced-filter");_filter.remove();_update(matchedObject,options,true);});add.click(function(){var element=jQuery(this);var _filter=element.parents(".filter-advanced-filter");_addFilter(matchedObject,_filter);_update(matchedObject,options,true);});dropField.uxdropfield("default",{numberOptions:10,filterOptions:true});operationField.uxdropfield("default",{numberOptions:10,filterOptions:true});filter.append(dropField);filter.append(operationField);filter.append(remove);filter.append(add);filter.append(clear);target?filter.insertAfter(target):advancedFilters.prepend(filter);_selectFilter(filter,items[0],true);};var _disableFiltering=function(matchedObject,options){var filterAdd=jQuery(".filter-advanced > .filter-input-add",matchedObject);filterAdd.hide();};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxheadernotification=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var contents=_element.html();!contents&&_element.hide();});};var _registerHandlers=function(){var _window=jQuery(window);var linkClose=jQuery("> .link-close",matchedObject);linkClose.click(function(){var element=jQuery(this);var headerNotification=element.parent(".header-notification");headerNotification.hide();});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxform=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var noKeyboard=_element.hasClass("no-keyboard");!noKeyboard&&_element.append("<input type=\"submit\" class=\"submit-button\" />");});};var _registerHandlers=function(){matchedObject.submit(function(event){var element=jQuery(this);var submited=element.data("submited");element.data("submited",true);if(submited){event.stopPropagation();event.preventDefault();}
var isAjax=element.hasClass("form-ajax");if(isAjax){setTimeout(function(){submitAjax(element,options);},0);event.preventDefault();}});matchedObject.bind("reset",function(event){var element=jQuery(this);resetForm(element,options);});};var submitAjax=function(matchedObject,options){var method=matchedObject.attr("method")||"get";var action=matchedObject.attr("action");var data=matchedObject.serialize();matchedObject.triggerHandler("submit_data");jQuery.ajax({type:method,url:action,data:data,complete:function(request,textStatus){matchedObject.triggerHandler("unlock");},success:function(data){resetForm(matchedObject,options);if(!data){matchedObject.triggerHandler("error");return;}
var formSuccess=jQuery(".form-success",matchedObject);var hasFormSuccess=formSuccess.length;if(hasFormSuccess){var otherItems=jQuery("> :not(.form-success)",matchedObject);var formSuccessItem=formSuccess.uxtemplate(data);formSuccessItem.addClass("item")
matchedObject.append(formSuccessItem);otherItems.hide();formSuccessItem.show();matchedObject.trigger("layout");}
matchedObject.triggerHandler("success");},error:function(request,textStatus,errorThrown){resetForm(matchedObject,options);var jsonData=jQuery.parseJSON(request.response);var exception=jsonData["exception"]||{};var errors=exception["errors"]||{};for(var name in errors){var _errors=errors[name];var _errorsString=JSON.stringify(_errors);var field=jQuery("[name="+name+"]",matchedObject);field.attr("data-error",_errorsString);field.uxerror();field.addClass("invalid");}
matchedObject.trigger("layout");matchedObject.triggerHandler("error",[exception]);}});};var resetForm=function(matchedObject,options){var errorFields=jQuery("[data-error]",matchedObject);errorFields.removeAttr("data-error");errorFields.uxerror();errorFields.removeClass("invalid");var errorDescription=jQuery(".error-description",matchedObject);errorDescription.remove();var formSuccessItem=jQuery(".form-success.item",matchedObject);var otherItems=jQuery("> :not(.form-success)",matchedObject);formSuccessItem.remove();otherItems.show();matchedObject.trigger("layout");var elements=matchedObject.uxfields();elements.uxreset();};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxhightlightbox=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.wrap("<div class=\"highlight-box-container\"></div>");};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxhoveringbox=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){matchedObject.mouseenter(function(){var element=jQuery(this);_scheduleTemplate(element,options);});matchedObject.mouseleave(function(){var element=jQuery(this);_cancelTemplate(element,options);});};var _scheduleTemplate=function(matchedObject,options){var timeoutHandler=matchedObject.data("timeoutHandler");if(timeoutHandler){return;}
var timeoutHandler=setTimeout(function(){_showTemplate(matchedObject,options);matchedObject.data("timeoutHandler",null);},500);matchedObject.data("timeoutHandler",timeoutHandler);};var _cancelTemplate=function(matchedObject,options){var timeoutHandler=matchedObject.data("timeoutHandler");if(timeoutHandler){clearTimeout(timeoutHandler);matchedObject.data("timeoutHandler",null);}
_hideTemplate(matchedObject,options);};var _containsTemplate=function(matchedObject,options){var hoveringBoxTemplate=jQuery(".hovering-box-template",matchedObject);var containsTemplate=hoveringBoxTemplate.length>0;return containsTemplate;};var _createTemplate=function(matchedObject,options){var hoveringBoxId=matchedObject.attr("data-hovering-box-id");var dataSourceId=matchedObject.attr("data-data-source-id");var dataSourceId=parseInt(dataSourceId)
var hoveringBoxTemplate=jQuery("#"+hoveringBoxId);var dataSource=jQuery("> .data-source",hoveringBoxTemplate);var hoveringBoxRight=matchedObject.hasClass("hovering-box-right");dataSource.uxdataquery({id:dataSourceId},function(validItems,moreItems){var currentItem=validItems[0];var templateItem=hoveringBoxTemplate.uxtemplate(currentItem);matchedObject.append(templateItem);if(!hoveringBoxRight){return;}
var matchedObjectWidth=matchedObject.outerWidth()
var templateItemWidth=templateItem.width();var templateItemMarginLeft=(templateItemWidth-matchedObjectWidth)*-1;templateItem.css("margin-left",templateItemMarginLeft
+"px");});};var _showTemplate=function(matchedObject,options){var containsTemplate=_containsTemplate(matchedObject,options);!containsTemplate&&_createTemplate(matchedObject,options);var hoveringBoxTemplate=jQuery(".hovering-box-template",matchedObject);hoveringBoxTemplate.show();};var _hideTemplate=function(matchedObject,options){var hoveringBoxTemplate=jQuery(".hovering-box-template",matchedObject);hoveringBoxTemplate.hide();};initialize();return this;};})(jQuery);(function($){jQuery.fn.uximageupload=function(element,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.uxfiledrop();};var _registerHandlers=function(){matchedObject.bind("file_enter",function(){var element=jQuery(this);element.addClass("drag");});matchedObject.bind("file_leave",function(){var element=jQuery(this);element.removeClass("drag");});matchedObject.bind("file_drop",function(event,files){var element=jQuery(this);var imageUpload=element;var _files=jQuery(files);_files.each(function(index,element){var image=jQuery("<img class=\"image-upload-image\" />");imageUpload.append(image);var fileReader=new FileReader();fileReader.onload=function(event){image.attr("src",event.target.result);};fileReader.readAsDataURL(element);});element.removeClass("drag");});};initialize();return this;};})(jQuery);(function(jQuery){jQuery.fn.uximage=function(method,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){matchedObject.click(function(){var element=jQuery(this);var lightboxPath=element.attr("data-lightbox_path");if(!lightboxPath){return;}
jQuery("body").uxlightbox(lightboxPath);});};initialize();return this;};})(jQuery);(function(jQuery){jQuery.fn.uxincrementalfield=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.wrap("<div class=\"incremental-field\"></div>");var incrementalField=matchedObject.parents(".incremental-field");incrementalField.prepend("<div class=\"button minus\"></div>");incrementalField.append("<div class=\"button plus\"></div>");incrementalField.attr("data-object","incrementalfield");matchedObject.removeClass("incremental-field");matchedObject.addClass("text-field");matchedObject.uxtextfield();};var _registerHandlers=function(){var incrementalField=matchedObject.parents(".incremental-field");var minusButton=jQuery(".button.minus",incrementalField);var plusButton=jQuery(".button.plus",incrementalField);minusButton.click(function(){var element=jQuery(this);var incrementalField=element.parents(".incremental-field");var textField=jQuery(".text-field",incrementalField);textField.focus();__decrement(incrementalField,options);textField.blur();});plusButton.click(function(){var element=jQuery(this);var incrementalField=element.parents(".incremental-field");var textField=jQuery(".text-field",incrementalField);textField.focus();__increment(incrementalField,options);textField.blur();});incrementalField.bind("enabled",function(){var element=jQuery(this);var textField=jQuery(".text-field",element);var buttons=jQuery(".button",element);textField.uxenable();buttons.uxenable();});incrementalField.bind("disabled",function(){var element=jQuery(this);var textField=jQuery(".text-field",element);var buttons=jQuery(".button",element);textField.uxdisable();buttons.uxdisable();});};var __increment=function(incrementalField,options){var textField=jQuery(".text-field",incrementalField);var floatvalue=textField.uxfloat()
var isDisabled=incrementalField.hasClass("disabled");if(isDisabled){return;}
floatvalue+=1;textField.uxtextfield("value",{value:floatvalue});};var __decrement=function(incrementalField,options){var textField=jQuery(".text-field",incrementalField);var floatvalue=textField.uxfloat();var type=textField.attr("data-type");var isDisabled=incrementalField.hasClass("disabled");if(isDisabled){return;}
if((type=="natural"||type=="floatp")&&floatvalue<=0){return;}
floatvalue-=1;textField.uxtextfield("value",{value:floatvalue});};switch(method){case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxinfo=function(message,title,type,callback,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var window=jQuery(".window.window-info",matchedObject);if(window.length==0){window=jQuery("<div class=\"window window-info window-hide\">"
+"<h1></h1>"+"<p class=\"single\"></p>"+"</div>");window.uxwindow();matchedObject.append(window);}
var windowHeader=jQuery("h1",window);var windowContents=jQuery("p",window);windowHeader.removeClass("information");windowHeader.removeClass("warning");windowHeader.addClass(type||"information");message=matchedObject.uxwiki(message);windowHeader.html(title||"Information");windowContents.html(message);window.uxwindow("show");};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxlightbox=function(path,callback,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var window=jQuery(".window.window-lightbox",matchedObject);var windowImage=jQuery("img",window);var currentPath=windowImage.attr("src");var hasChanged=path!=currentPath;hasChanged&&windowImage.hide();hasChanged&&window.addClass("loading");windowImage.attr("src",path);hasChanged&&windowImage.hide();window.uxwindow("show");windowImage.load(function(){window.removeClass("loading");windowImage.show();window.uxcenter();});};var _registerHandlers=function(){var window=jQuery(".window.window-lightbox",matchedObject);var windowButtonConfirm=jQuery(".button-confirm",window);window.click(function(){var element=jQuery(this);var window=element;window.uxwindow("hide");callback&&callback(true);});windowButtonConfirm.click(function(){var element=jQuery(this);var window=element.parents(".window");window.uxwindow("hide");callback&&callback(true);});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxlinkconfirm=function(message,options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){matchedObject.click(function(event){var element=jQuery(this);_call(element,options);event.preventDefault();});};var _call=function(matchedObject,options){var _document=jQuery(document);var message=matchedObject.attr("data-message");_document.uxconfirm(message,function(result){if(!result){return;}
var location=matchedObject.attr("href");document.location=location;});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxlink=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var ajax=_element.attr("data-ajax");var duration=_element.attr("data-duration");var durationInteger=parseInt(duration);var durationValid=!isNaN(durationInteger);ajax&&_element.click(function(event){var element=jQuery(this);var href=element.attr("href");event.preventDefault();jQuery.ajax({type:"get",url:href,success:function(data){element.triggerHandler("success",[data]);},error:function(request,textStatus,errorThrown){element.triggerHandler("error",[request]);}});});durationValid&&_element.click(function(event){var element=jQuery(this);var href=element.attr("href");var offset=element.attr("data-offset");var offsetInteger=parseInt(offset);var settings={offset:isNaN(offsetInteger)?0:offsetInteger}
jQuery.uxscrollto(href,durationInteger,settings);event.preventDefault();});});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxlist=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var selectedLinks=jQuery("> li > a.selected",matchedObject)
var epandedLinks=jQuery("> li > a > .link-expand:contains(+)",matchedObject)
selectedLinks.each(function(){var element=jQuery(this);var list=jQuery(element.parents(".list")[0]);var listItem=list.parents("li");var listItemLink=jQuery("> a",listItem);var listItemLinkExpand=jQuery(".link-expand",listItem);list.show();listItemLinkExpand.html("-");listItemLink.addClass("open");});epandedLinks.each(function(index,element){var _element=jQuery(element);var listItem=jQuery(_element.parents("li")[0])
var subList=jQuery("> .list",listItem);var subListChildren=subList.children();if(subListChildren.length>0){return;}
listItem.remove();});};var _registerHandlers=function(){var links=jQuery("> li > a",matchedObject)
links.click(function(){var element=jQuery(this);var listItem=element.parent("li");var list=jQuery("> .list",listItem)
var parentList=listItem.parent(".list");if(list.length==0){return;}
var listItemLink=jQuery("> a",listItem);var listItemLinkExpand=jQuery(".link-expand",listItem);if(element.hasClass("open")){list.slideUp(350);listItemLinkExpand.html("+");element.removeClass("open");}
else{var subLists=jQuery("> li > .list",parentList);var subListsItems=subLists.parent("li");var subListsLinks=jQuery("a",subListsItems);var subListsLinkExpands=jQuery(".link-expand",subListsLinks);subLists.slideUp(350);subListsLinks.removeClass("open");subListsLinkExpands.html("+");list.slideDown(350);listItemLinkExpand.html("-");listItemLink.addClass("open");}});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxmenulink=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){var _window=jQuery(window);var _body=jQuery("body");var menu=matchedObject.parents(".menu");var menuContents=jQuery(".menu-contents",menu);var isRegistered=_body.data("menu_link_click");_body.data("menu_link_click",true);matchedObject.click(function(event){var element=jQuery(this);var menuSelector=element.attr("data-menu");var menu=menuSelector?jQuery(menuSelector):element.parents(".menu");var menuButton=jQuery("> .menu-button",menu);var menuContents=jQuery("> .menu-contents:not(.sub-menu)",menu);var _menu=jQuery(".menu.active");var _menuContents=jQuery(".menu-contents:visible");var isActive=menu.hasClass("active");_menu.each(function(index,element){var _element=jQuery(this);var owner=_element.data("owner");owner&&owner.removeClass("active");});_menu.removeClass("active");_menuContents.hide();_menuContents.triggerHandler("hidden");if(isActive){var owner=menu.data("owner");owner&&owner.removeClass("active");menu.triggerHandler("hide");menu.removeClass("active");menuContents.hide();menuContents.triggerHandler("hidden");menu.triggerHandler("hidden");}
else{menu.data("owner",element);element.addClass("active");menu.triggerHandler("show");menu.addClass("active");menuContents.show();menuContents.triggerHandler("shown");_reposition(menu,menuButton,element);menu.triggerHandler("shown");}
event.stopPropagation();});matchedObject.dblclick(function(event){event.stopPropagation();});menuContents.click(function(event){event.stopPropagation();});!isRegistered&&_body.click(function(event){var element=jQuery(this);var menu=jQuery(".menu.active",element);var menuContents=jQuery(".menu-contents:visible",menu);var isDrop=menu.hasClass("drop-menu");if(isDrop){menu.remove();}
else{var owner=menu.data("owner");owner&&owner.removeClass("active");menu.removeClass("active");menuContents.hide();menuContents.triggerHandler("hidden");}});!isRegistered&&_window.resize(function(){var menu=jQuery(".drop-menu.active");menu.remove();});!isRegistered&&_window.scroll(function(){var menu=jQuery(".drop-menu.active");menu.remove();});};var _reposition=function(menu,menuButton,menuLink){menuButton=menuButton||jQuery(".menu-button",menu);menuLink=menuLink||jQuery(".menu-link",menu);var menuContents=jQuery(".menu-contents",menu);if(menuLink.length==0){return;}
var buttonWidth=menuButton.outerWidth();var contentsWidth=menuContents.outerWidth();var contentsHeight=menuContents.outerHeight(true);var isReference=menuLink.attr("data-menu");var isTop=menuLink.hasClass("menu-top");var contentsMarginTop=(contentsHeight+8)*-1;isTop&&menuContents.css("margin-top",contentsMarginTop+"px");var contentsMarginLeft=((contentsWidth-buttonWidth)-2)*-1;!isReference&&menuContents.css("margin-left",contentsMarginLeft
+"px");};switch(method){case"reposition":_reposition(matchedObject);break;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxnotification=function(options){var defaults={title:"Title",message:"Message",timeout:5000,fadeTimeout:500};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var title=options["title"];var message=options["message"];var timeout=options["timeout"];var fadeTimeout=options["fadeTimeout"];var messageElement=jQuery("<div class=\"notification\">"
+"<p class=\"notification-title\">"+title+"</p>"
+"<p class=\"notification-text\">"+message+"</p>"
+"</div>");matchedObject.append(messageElement);setTimeout(function(){messageElement.fadeOut(fadeTimeout);},timeout);};var _registerHandlers=function(){};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxoverlaypanel=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var offset=_element.attr("data-offset");var offsetFloat=parseFloat(offset);matchedObject.uxcenter(offsetFloat);});};var _registerHandlers=function(){var _window=jQuery(window);var overlay=jQuery(".overlay");matchedObject.click(function(event){event.stopPropagation();});matchedObject.each(function(index,element){var _element=jQuery(element);var offset=_element.attr("data-offset");var offsetFloat=parseFloat(offset);var key=_element.attr("data-key");var keyInteger=parseInt(key);var keyIsNaN=isNaN(keyInteger);_element.click(function(event){event.stopPropagation();});!keyIsNaN&&jQuery.uxctrl(keyInteger,function(){var elementVisible=_element.is(":visible");if(elementVisible){_hide(_element,options);}
else{_show(_element,options);}});_window.resize(function(event){_element.uxcenter(offsetFloat);});_window.scroll(function(){_element.uxcenter(offsetFloat);});overlay.click(function(){var elementVisible=_element.is(":visible");if(!elementVisible){return;}
_hide(_element,options);});});};var _show=function(matchedObject,options){var textField=jQuery(".text-field",matchedObject);var overlay=jQuery(".overlay");overlay.trigger("resize");overlay.fadeIn(100);matchedObject.fadeIn(100);textField.focus();};var _hide=function(matchedObject,options){var overlay=jQuery(".overlay");overlay.fadeOut(200);matchedObject.fadeOut(200);};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxoverlaysearch=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){var textField=jQuery(".text-field",matchedObject);textField.keydown(function(event){var element=jQuery(this);var overlaySearch=element.parents(".overlay-search");var keyValue=event.keyCode?event.keyCode:event.charCode?event.charCode:event.which;if(keyValue==27){_hide(overlaySearch,options);}});};var _hide=function(matchedObject,options){var overlay=jQuery(".overlay");overlay.fadeOut(200);matchedObject.fadeOut(200);};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxoverlay=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){_resizeOverlay(matchedObject,options);};var _registerHandlers=function(){var _window=jQuery(window);_window.ready(function(event){_resizeOverlay(matchedObject,options);});_window.load(function(event){_resizeOverlay(matchedObject,options);});_window.resize(function(event){_resizeOverlay(matchedObject,options);});matchedObject.click(function(event){event.stopPropagation();});matchedObject.bind("resize",function(){var element=jQuery(this);_resizeOverlay(element,options);});};var _resizeOverlay=function(matchedObject,options){var _document=jQuery(document);var _window=jQuery(window);matchedObject.width(0);matchedObject.height(0);var documentWidth=jQuery.browser.msie?_window.width():_document.width();var documentHeight=_document.height();matchedObject.width(documentWidth);matchedObject.height(documentHeight);};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxpanelmore=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var element=jQuery(this);var moreString=element.attr("data-more");element.wrapInner("<div class=\"panel-more-contents\"></div>");element.append("<div class=\"panel-more-action\">"
+"<li class=\"list-more\">"
+"<span class=\"button\">"+moreString
+"</span>"+"</li>"
+"<li class=\"list-divider\"></li>"+"</div>");});};var _registerHandlers=function(){var moreButton=jQuery("li.list-more .button",matchedObject);moreButton.click(function(){var element=jQuery(this);var panelMore=element.parents(".panel-more");var panelMoreContents=jQuery(".panel-more-contents",panelMore);var moreString=panelMore.attr("data-more");var lessString=panelMore.attr("data-less");var isVisible=panelMoreContents.is(":visible");if(isVisible){panelMoreContents.hide();element.html(moreString);}else{panelMoreContents.show();element.html(lessString);}});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxpanelstack=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var index=matchedObject.data("index")||0;matchedObject.data("index",index);_update(matchedObject,options);};var _registerHandlers=function(){};var _next=function(matchedObject,options){var panels=jQuery("> .panel",matchedObject);var panelsLength=panels.length;var index=matchedObject.data("index");if(index==panelsLength-1){return;}
matchedObject.data("index",index+1);_update(matchedObject,options);};var _previous=function(matchedObject,options){var index=matchedObject.data("index");if(index==0){return;}
matchedObject.data("index",index-1);_update(matchedObject,options);};var _set=function(matchedObject,options){var index=options["index"]?options["index"]:0;matchedObject.data("index",index);_update(matchedObject,options);};var _update=function(matchedObject,options){var index=matchedObject.data("index");var panels=jQuery("> .panel",matchedObject);panels.hide();var currentPanel=jQuery("> .panel:nth("+index+")",matchedObject);currentPanel.show();currentPanel.css("visibility","visible");};switch(method){case"next":_next(matchedObject,options);break;case"previous":_previous(matchedObject,options);break;case"set":_set(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxpanel=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var panels=0;matchedObject.data("panels",panels);};var _registerHandlers=function(){};var _push=function(matchedObject,options){var panel=options["panel"];var panels=matchedObject.data("panels");var panel="<div class=\"panel-item\">"+panel+"</div>";var lastPanel=matchedObject.children(".panel-item:last-child");lastPanel.hide();matchedObject.append(panel);var lastPanel=matchedObject.children(".panel-item:last-child");lastPanel.uxapply();panels++;matchedObject.data("panels",panels);};var _pop=function(matchedObject,options){var panels=matchedObject.data("panels");var lastPanel=matchedObject.children(".panel-item:last-child");lastPanel.remove();var lastPanel=matchedObject.children(".panel-item:last-child");lastPanel.show();panels--;matchedObject.data("panels",panels);};switch(method){case"push":_push(matchedObject,options);break;case"pop":_pop(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxpasswordmeter=function(options){var NUMBER_REGEX=new RegExp("\\d+");var LETTER_LOWER_REGEX=new RegExp("[a-z]");var LETTER_UPPER_REGEX=new RegExp("[A-Z]");var SPECIAL_CHARACTER_REGEX=new RegExp("[.[!,@,#,$,%,^,&,*,?,_,~,-,£,(,)]");var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_element.append("<div class=\"password-meter-contents level-0\"></div>")
_element.data("level",0);});};var _registerHandlers=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var passwordMeterContents=jQuery(".password-meter-contents",_element);var target=_element.attr("data-target");var targetElement=jQuery(target);targetElement.bind("value_change",function(){var targetElementValue=targetElement.attr("data-value");var level=_element.data("level");var passwordStrength=_passwordStrength(targetElementValue);passwordMeterContents.removeClass("level-"+String(level));passwordMeterContents.addClass("level-"
+String(passwordStrength));_element.data("level",passwordStrength);});});};var _passwordStrength=function(password){var strengthValue=0;var passwordLength=password.length;if(passwordLength<1){return strengthValue;}
strengthValue++;if(passwordLength<4){return strengthValue;}
if(passwordLength>=8){strengthValue++}
if(passwordLength>=11){strengthValue++;}
if(NUMBER_REGEX.test(password)){strengthValue++;}
if(LETTER_LOWER_REGEX.test(password)&&LETTER_UPPER_REGEX.test(password)){strengthValue++;}
if(SPECIAL_CHARACTER_REGEX.test(password)){strengthValue++;}
return strengthValue;};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxprogressbar=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var rightBar=matchedObject.attr("data-right_bar");matchedObject.append("<span class=\"progress-bar-bar bar-left\">"
+"<span class=\"progress-bar-percentage\">0%</span>"
+"</span>");rightBar&&matchedObject.append("<span class=\"progress-bar-bar bar-right\">"
+"<span class=\"progress-bar-percentage\">0%</span>"
+"</span>");var percentage=matchedObject.attr("data-percentage");percentage&&_change(matchedObject,{percentage:percentage});};var _registerHandlers=function(){};var _change=function(matchedObject,options){var percentage=options["percentage"]?options["percentage"]:0;var percentageRemaining=100.0-percentage;var progressBarBarLeft=jQuery(".progress-bar-bar.bar-left",matchedObject);var progressBarBarRight=jQuery(".progress-bar-bar.bar-right",matchedObject);var progressBarPercentageLeft=jQuery(".progress-bar-bar.bar-left .progress-bar-percentage",matchedObject);var progressBarPercentageRight=jQuery(".progress-bar-bar.bar-right .progress-bar-percentage",matchedObject);progressBarBarLeft.css("width",percentage+"%");progressBarBarRight.css("width",percentageRemaining+"%");progressBarPercentageLeft.html(percentage+"%");progressBarPercentageRight.html(percentageRemaining+"%");};switch(method){case"change":_change(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);(function(jQuery){jQuery.fn.uxradiofield=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);_update(_element,options);});};var _registerHandlers=function(){var radioFieldLabel=matchedObject.next(".radio-field-label");radioFieldLabel.click(function(){var element=jQuery(this);var radioField=element.prev(".radio-field");_check(radioField,options);});};var _check=function(matchedObject,options){matchedObject.attr("checked",true);};var _update=function(matchedObject,options){var value=matchedObject.attr("value");var checked=matchedObject.attr("data-checked");if(checked==value){matchedObject.attr("checked",true);}
else{matchedObject.attr("checked",false);}};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxscrolllist=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.wrap("<div class=\"scroll-list-container\"></div>");var scrollListContainer=matchedObject.parents(".scroll-list-container");scrollListContainer.prepend("<div class=\"scroll-previous\"></div>"
+"<div class=\"scroll-next\"></div>");matchedObject.each(function(index,element){var _element=jQuery(this);var scrollListContainer=_element.parents(".scroll-list-container");var scrollPrevious=jQuery(".scroll-previous",scrollListContainer);var scrollNext=jQuery(".scroll-next",scrollListContainer);var marginLeft=_element.css("margin-left");var marginRight=_element.css("margin-right");var marginTop=_element.css("margin-top");var marginBottom=_element.css("margin-bottom");scrollListContainer.css("margin-left",marginLeft);scrollListContainer.css("margin-right",marginRight);scrollListContainer.css("margin-top",marginTop);scrollListContainer.css("margin-bottom",marginBottom);_element.css("margin","0px 0px 0px 0px");var children=jQuery("> *:not(.clear)",_element);var count=children.length;var first=jQuery(children[0]);var width=first.outerWidth(true)*count;var scrollWidth=scrollListContainer.width();var isScrolled=scrollWidth<width;if(!isScrolled){scrollPrevious.hide();scrollNext.hide();}
_element.width(width);});};var _registerHandlers=function(){var scrollListContainer=matchedObject.parents(".scroll-list-container");var scrollPrevious=jQuery(".scroll-previous",scrollListContainer);var scrollNext=jQuery(".scroll-next",scrollListContainer);scrollPrevious.click(function(){var element=jQuery(this);var scrollListContainer=element.parents(".scroll-list-container");var scrollWidth=scrollListContainer.width();scrollListContainer.animate({scrollLeft:"-="+scrollWidth},400);});scrollNext.click(function(){var element=jQuery(this);var scrollListContainer=element.parents(".scroll-list-container");var scrollWidth=scrollListContainer.width();scrollListContainer.animate({scrollLeft:"+="+scrollWidth},400);});};initialize();return this;};})(jQuery);(function(jQuery){jQuery.fn.uxselectfield=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){var textField=jQuery(".text-field",matchedObject);var dataSource=jQuery("> .data-source",matchedObject);textField.change(function(){var element=jQuery(this);_update(element);});matchedObject.each(function(index,element){var _element=jQuery(element);var textField=jQuery(".text-field",element);var dataSource=jQuery("> .data-source",element);var value=_element.attr("data-value");var display=_element.attr("data-display")||value;dataSource.bind("data_ready",function(){dataSource.uxdataquery({filterString:"",filterAttributes:[value]},function(validItems,moreItems){if(validItems.length==0){return;}
for(var index=0;index<validItems.length;index++){var validItem=validItems[index];var option=jQuery("<option>"
+validItem[display]+"</option>");option.data("item",validItem);textField.append(option);}
_update(textField,options);});});});};var _update=function(element,options){var selectField=element.parents(".select-field");var template=jQuery(".template",selectField);var option=jQuery(":selected",element);var item=option.data("item");var templateItem=template.uxtemplate(item);templateItem.addClass("element");var element=jQuery(".element",selectField);element.remove();selectField.append(templateItem);};switch(method){case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxselectlist=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(this);_update(_element,options);});};var _registerHandlers=function(){var listItems=jQuery("li",matchedObject);matchedObject.bind("items_changed",function(event){var element=jQuery(this);_update(element,options);event.stopPropagation();});listItems.click(function(event){var element=jQuery(this);var selectList=element.parent(".select-list");var isMoving=element.hasClass("moving");if(isMoving){return;}
if(event.ctrlKey){var action="change";}else if(event.shiftKey){var action="contiguous";}else{var action="normal";}
switch(action){case"change":var isSelected=element.hasClass("selected");isSelected?element.removeClass("selected"):element.addClass("selected");selectList.data("previous",element);break;case"contiguous":var previous=selectList.data("previous");previous=previous.hasClass("selected")?previous:null;var baseIndex=previous?previous.index():0;var targetIndex=element.index();if(targetIndex<baseIndex){var temporary=targetIndex;targetIndex=baseIndex;baseIndex=temporary;}
var listItems=jQuery("li.selected",selectList);listItems.removeClass("selected");for(index=baseIndex;index<targetIndex+1;index++){var _element=jQuery(":nth-child("+(index+1)
+")",selectList);_element.addClass("selected");}
break;case"normal":var listItems=jQuery("li.selected",selectList);listItems.removeClass("selected");element.addClass("selected");selectList.data("previous",element);break;}});listItems.dblclick(function(event){var element=jQuery(this);var selectList=element.parent(".select-list");element.trigger("selected",[element]);});matchedObject.each(function(index,element){var _element=jQuery(element);var parentForm=_element.parents("form");parentForm.submit(function(){var elementName=_element.attr("name");if(!elementName){return;}
_element.remove("input");var listItems=jQuery("li",_element);for(var index=0;index<listItems.length;index++){var listItem=jQuery(listItems[index]);var dataValue=listItem.attr("data-value");var htmlValue=listItem.html();dataValue=dataValue?dataValue:htmlValue;_element.append("<input type=\"hidden\" name=\""
+elementName
+"\" value=\""
+dataValue+"\" />");}});});};var _update=function(matchedObject,options){var _element=matchedObject;var order=_element.attr("data-order");if(!order){var listItems=jQuery("li.order",_element);var orderIcons=jQuery(".order-icon",listItems);listItems.removeClass("order");orderIcons.remove();return;}
var orderIcon=jQuery("<div class=\"order-icon\"></div>");var listItems=jQuery("li:not(.order)",_element);listItems.prepend(orderIcon);listItems.addClass("order");var orderIcons=jQuery(".order-icon",listItems);orderIcons.mousedown(function(){var orderIcon=jQuery(this);var element=orderIcon.parent("li");var selectList=element.parent(".select-list");var order=selectList.attr("data-order")||false;if(!order){return;}
var _body=jQuery("body");var selectListWidth=selectList.width();var cloned=element.clone(true);cloned.addClass("clone");cloned.width(selectListWidth-12);selectList.prepend(cloned);var elementTop=element.offset().top;var elementLeft=element.offset().left;cloned.css("top",elementTop+"px");cloned.css("left",elementLeft+"px");_body.addClass("no-select");_body.addClass("do-moving");var move=function(event){var previousOffsetY=selectList.data("offset_y");var previousY=selectList.data("mouse_y");var previousX=selectList.data("mouse_x");var mouseY=event.pageY||previousY;var mouseX=event.pageX||previousX;var selectListHeight=selectList.outerHeight();var selectListTop=selectList.offset().top;var selectListScrollTop=selectList.scrollTop();var clonedHeight=cloned.outerHeight();var targetY=mouseY-(clonedHeight/2);if(targetY<selectListTop){targetY=selectListTop;}
else if(targetY+clonedHeight>selectListTop
+selectListHeight){targetY=selectListTop+selectListHeight
-clonedHeight;}
var offsetY=targetY+selectListScrollTop-selectListTop;var _index=Math.floor(offsetY/clonedHeight);var listItems=jQuery("li:not(.clone)",selectList);var numberItems=listItems.length;_index=_index<numberItems?_index:numberItems-1;var listElement=jQuery("li:nth-child("+(_index+2)
+")",selectList);var isValid=offsetY>previousOffsetY?_index+1!=element.index():_index+2!=element.index();isValid&&listElement[0]!=element[0]&&listElement.after(element)&&selectList.trigger("order_changed");offsetY==0&&listElement[0]!=element[0]&&cloned.after(element)&&selectList.trigger("order_changed");cloned.css("top",targetY+"px");selectList.data("offset_y",offsetY);selectList.data("mouse_y",mouseY);selectList.data("mouse_x",mouseX);};var remove=function(){var cloned=jQuery("li.clone",selectList);cloned.remove();element.removeClass("moving");_body.removeClass("no-select");_body.removeClass("do-moving");_body.unbind("mouseup",remove);_body.unbind("mousemove",move);selectList.unbind("scroll",move);};_body.mouseup(remove);_body.mousemove(move);selectList.scroll(move);element.addClass("moving");});};switch(method){case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxsliderbar=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){};switch(method){case"default":initialize();break;}
return this;};})(jQuery);(function(jQuery){jQuery.fn.uxslider=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.wrapInner("<div class=\"slider-contents\"></div>");var firstSliderPanel=jQuery(".slider-panel:first-child",matchedObject);firstSliderPanel.addClass("active");matchedObject.data("lock",false);matchedObject.data("offsetLeft",0);_resize(matchedObject,options);_update(matchedObject,options);};var _registerHandlers=function(){var _document=jQuery(document);var _window=jQuery(window);var sliderPanelArrowNext=jQuery(".slider-panel-arrow-next",matchedObject);var sliderPanelArrowPrevious=jQuery(".slider-panel-arrow-previous",matchedObject);sliderPanelArrowNext.click(function(){var element=jQuery(this);var sliderPanel=element.parents(".slider-panel");var isSliderPanelActive=sliderPanel.hasClass("active");if(!isSliderPanelActive){return;}
var slider=element.parents(".slider");_moveNext(slider,options);});sliderPanelArrowPrevious.click(function(){var element=jQuery(this);var sliderPanel=element.parents(".slider-panel");var isSliderPanelActive=sliderPanel.hasClass("active");if(!isSliderPanelActive){return;}
var slider=element.parents(".slider");_movePrevious(slider,options);});_document.keypress(function(event){var keyValue=event.keyCode?event.keyCode:event.charCode?event.charCode:event.which;switch(keyValue){case 37:_movePrevious(matchedObject,options);break;case 39:_moveNext(matchedObject,options);break;}});_window.resize(function(event){_update(matchedObject,options);});};var _show=function(matchedObject,options){var overlay=jQuery(".overlay");overlay.fadeIn(250);matchedObject.fadeIn(250);};var _hide=function(matchedObject,options){var overlay=jQuery(".overlay");overlay.fadeOut(250);matchedObject.fadeOut(250);};var _moveNext=function(matchedObject,options){var slider=matchedObject;var sliderContents=jQuery(".slider-contents",matchedObject);var sliderVisible=slider.is(":visible");if(!sliderVisible){return;}
var lock=slider.data("lock");var offsetLeft=slider.data("offsetLeft");if(lock){return;}
var sliderPanel=jQuery(".slider-panel.active",matchedObject);var sliderPanelWidth=sliderPanel.outerWidth(true);var nextSliderPanel=sliderPanel.next();if(nextSliderPanel.length==0){return;}
var currentMarginLeft=parseInt(sliderContents.css("margin-left"));var targetMarginLeft=currentMarginLeft-sliderPanelWidth;offsetLeft+=sliderPanelWidth;sliderContents.animate({marginLeft:targetMarginLeft},500,"linear",function(){slider.data("lock",false);});sliderPanel.removeClass("active");nextSliderPanel.addClass("active");slider.data("lock",true);slider.data("offsetLeft",offsetLeft);};var _movePrevious=function(matchedObject,options){var slider=matchedObject;var sliderContents=jQuery(".slider-contents",matchedObject);var sliderVisible=slider.is(":visible");if(!sliderVisible){return;}
var lock=slider.data("lock");var offsetLeft=slider.data("offsetLeft");if(lock){return;}
var sliderPanel=jQuery(".slider-panel.active",matchedObject);var sliderPanelWidth=sliderPanel.outerWidth(true);var previousSliderPanel=sliderPanel.prev();if(previousSliderPanel.length==0){return;}
var currentMarginLeft=parseInt(sliderContents.css("margin-left"));var targetMarginLeft=currentMarginLeft+sliderPanelWidth;offsetLeft-=sliderPanelWidth;sliderContents.animate({marginLeft:targetMarginLeft},500,"linear",function(){slider.data("lock",false);});sliderPanel.removeClass("active");previousSliderPanel.addClass("active");slider.data("lock",true);slider.data("offsetLeft",offsetLeft);};var _update=function(matchedObject,options){var slider=matchedObject;var sliderContents=jQuery(".slider-contents",matchedObject);var sliderVisible=slider.is(":visible");!sliderVisible&&slider.show();var offsetLeft=slider.data("offsetLeft");var _window=jQuery(window);var windowHeight=_window.height();var windowWidth=_window.width();var windowSrollLeft=_window.scrollLeft();var firstSliderPanel=jQuery(".slider-panel:first-child",matchedObject);var firstSliderPanelWidth=firstSliderPanel.outerWidth();var leftPosition=((windowWidth-firstSliderPanelWidth)/2)
+windowSrollLeft-offsetLeft;sliderContents.css("margin-left",leftPosition+"px");!sliderVisible&&slider.hide();};var _resize=function(matchedObject,options){var slider=matchedObject;var sliderContents=jQuery(".slider-contents",matchedObject);var sliderPanels=jQuery(".slider-panel",matchedObject);var sliderVisible=slider.is(":visible");!sliderVisible&&slider.show();var sliderPanelsWidth=0;sliderPanels.each(function(index,element){var _element=jQuery(element);var elementWidth=_element.outerWidth(true);sliderPanelsWidth+=elementWidth;});sliderContents.width(sliderPanelsWidth);!sliderVisible&&slider.hide();};switch(method){case"show":_show(matchedObject,options);break;case"hide":_hide(matchedObject,options);break;case"next":_moveNext(matchedObject);break;case"previous":_movePrevious(matchedObject);break;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxslideshow=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(this);_element.prepend("<div class=\"slideshow-image\">"+"<img />"
+"</div>"+"<div class=\"slideshow-controls\">"
+"<ul class=\"slideshow-alternates\"></ul>"+"</div>");var alternates=jQuery(".slideshow-alternates",_element);var items=jQuery("> .items li",_element);var _items=[];items.each(function(index,element){var item=jQuery(this);var elements=jQuery("> *",item);var _item={};_items.push(_item);elements.each(function(index,element){var element=jQuery(this);var name=element.attr("data-name");var value=element.html();_item[name]=value;});});for(var index=0;index<_items.length;index++){alternates.append("<li></li>");}
_element.data("items",_items);__select(_element,options,0);var interval=setInterval(function(){__select(_element,options,null);},5000);_element.data("interval",interval);});};var _registerHandlers=function(){var image=jQuery(".slideshow-image",matchedObject);var details=jQuery(".slideshow-details",matchedObject);var alternates=jQuery(".slideshow-alternates > li",matchedObject);image.click(function(event){var element=jQuery(this);var slideshow=element.parents(".slideshow");var url=slideshow.data("url");if(url){var _window=event.which==2
_window?window.open(url):document.location=url;}});details.click(function(){var element=jQuery(this);var slideshow=element.parents(".slideshow");var url=slideshow.data("url");if(url){var _window=event.which==2
_window?window.open(url):document.location=url;}});alternates.click(function(){var element=jQuery(this);var slideshow=element.parents(".slideshow");var interval=slideshow.data("interval",interval);clearInterval(interval);var index=element.index();__select(slideshow,options,index);});};var __select=function(matchedObject,options,index){var items=matchedObject.data("items");var current=matchedObject.data("index");index=index==null?current+1<items.length?current+1:0:index;if(current===index){return;}
var alternates=jQuery(".slideshow-alternates > li.active",matchedObject);alternates.removeClass("active");var alternate=jQuery(".slideshow-alternates > li:nth-child("
+(index+1)+")",matchedObject);alternate.addClass("active");var image=jQuery(".slideshow-image > img",matchedObject);var source=image.attr("src");var item=items[index];if(source){image.fadeOut(300,function(){image.attr("src",item.image);image.fadeIn(750);});}else{image.attr("src",item["image"]);}
var details=jQuery(".slideshow-details > *",matchedObject);details.each(function(index,element){var _element=jQuery(this);var name=_element.attr("data-name");_element.html(item[name]);});matchedObject.data("url",item.url);matchedObject.data("index",index);};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxsourcelist=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{numberOptions:null,filterOptions:true};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var numberOptions=options["numberOptions"];var filterOptions=options["filterOptions"];var textField=jQuery("<input type=\"text\" class=\"text-field\" />");var selectList=jQuery("<ul class=\"select-list\"></ul>");textField.uxtextfield();selectList.uxselectlist();matchedObject.append(textField);matchedObject.append(selectList);matchedObject.each(function(index,element){var _element=jQuery(element);var selectList=jQuery(".select-list",_element);var elementName=_element.attr("name");elementName&&selectList.attr("name",elementName);var elementOrder=_element.attr("data-order");elementOrder&&selectList.attr("data-order",elementOrder);_element.data("number_options",numberOptions);_element.data("filter_options",filterOptions);_update(_element,options);});};var _registerHandlers=function(){var sourceList=matchedObject;var textField=jQuery(".text-field",sourceList);sourceList.bind("items_changed",function(event){var element=jQuery(this);var selectList=jQuery(".select-list",element);selectList.trigger("items_changed");event.stopPropagation();});textField.keydown(function(event){var element=jQuery(this);var sourceList=element.parent(".source-list");var selectList=jQuery(".select-list",sourceList);var eventKeyCode=event.keyCode?event.keyCode:event.which;var eventKeyCode=event.keyCode?event.keyCode:event.which;switch(eventKeyCode){case 33:_allUp(sourceList,options);event.stopPropagation();event.preventDefault();break;case 34:_allDown(sourceList,options);event.stopPropagation();event.preventDefault();break;case 38:_up(sourceList,options);event.stopPropagation();event.preventDefault();break;case 40:_down(sourceList,options);event.stopPropagation();event.preventDefault();break;}});textField.keyup(function(event){var element=jQuery(this);var sourceList=element.parent(".source-list");var selectList=jQuery(".select-list",sourceList);var eventKeyCode=event.keyCode?event.keyCode:event.which;switch(eventKeyCode){case 13:var selectedItems=jQuery("li.selected",sourceList);selectedItems.length&&selectList.trigger("selected",[selectedItems]);event.stopPropagation();event.preventDefault();break;default:_update(sourceList,options);break;}});};var _update=function(matchedObject,options){var sourceList=matchedObject;var dataSource=jQuery("> .data-source",sourceList);var textField=jQuery(".text-field",sourceList);var selectList=jQuery(".select-list",sourceList);var value=sourceList.data("value");var displayAttribute=matchedObject.attr("data-display_attribute");var valueAttribute=matchedObject.attr("data-value_attribute");var linkAttribute=matchedObject.attr("data-link_attribute");var filterAttributes=matchedObject.data("filter_attributes");var _numberOptions=matchedObject.attr("data-number_options");var numberOptions=matchedObject.data("number_options");var filterOptions=matchedObject.data("filter_options");var textFieldValue=textField.attr("value");if(textFieldValue==value){return;}
numberOptions=filterOptions?numberOptions:null;numberOptions=_numberOptions?parseInt(_numberOptions):numberOptions;dataSource.uxdataquery({filterString:textFieldValue,filterAttributes:filterAttributes,startRecord:0,numberRecords:numberOptions},function(validItems,moreItems){if(!validItems){return;}
var exclusion=sourceList.data("exclusion");selectList.empty()
for(var index=0;index<validItems.length;index++){var currentItem=validItems[index];var currentDisplayAttribute=displayAttribute?currentItem[displayAttribute]:currentItem;var currentValueAttribute=valueAttribute?currentItem[valueAttribute]:currentItem;var currentLinkAttribute=valueAttribute?currentItem[linkAttribute]:null;var templateItem=jQuery("<li data-display=\""
+currentDisplayAttribute
+"\" data-value=\""
+currentValueAttribute+"\">"
+currentDisplayAttribute+"</li>");var invalid=exclusion&&exclusion.indexOf(currentValueAttribute)!=-1;if(invalid){continue;}
templateItem.data("item",currentItem);currentLinkAttribute&&templateItem.attr("data-link",currentLinkAttribute);selectList.append(templateItem);}
selectList.uxselectlist();sourceList.data("value",textFieldValue);selectList.trigger("items_changed");});};var _up=function(matchedObject,options){var sourceList=matchedObject;var selectedItems=jQuery("li.selected",sourceList);selectedItems.removeClass("selected");var index=selectedItems.length?selectedItems.index():0;var _index=index<=0?0:index-1;sourceList.data("index",_index);_updateList(sourceList,options);};var _down=function(matchedObject,options){var sourceList=matchedObject;var selectedItems=jQuery("li.selected",sourceList);selectedItems.removeClass("selected");var items=jQuery("li",sourceList);var index=selectedItems.length?selectedItems.index():-1;var _index=index>=items.length-1?items.length-1:index
+1;sourceList.data("index",_index);_updateList(sourceList,options);};var _allUp=function(matchedObject,options){var sourceList=matchedObject;var selectedItems=jQuery("li.selected",sourceList);selectedItems.removeClass("selected");var index=0;sourceList.data("index",index);_updateList(sourceList,options);};var _allDown=function(matchedObject,options){var sourceList=matchedObject;var selectedItems=jQuery("li.selected",sourceList);selectedItems.removeClass("selected");var items=jQuery("li",sourceList);var index=items.length-1;sourceList.data("index",index);_updateList(sourceList,options);};var _updateList=function(matchedObject,options){var sourceList=matchedObject;var selectList=jQuery(".select-list",sourceList);var index=sourceList.data("index");var targetItem=jQuery("li:nth-child("+(index+1)+")",sourceList);targetItem.addClass("selected");var isVisible=targetItem&&targetItem.length?jQuery.uxvisible(targetItem,0,0,selectList):true;!isVisible&&targetItem.uxscroll({parent:selectList});};switch(method){case"default":initialize();break;}
return this;};})(jQuery);(function(jQuery){jQuery.fn.uxtabpanel=function(options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){var tabSelectors=jQuery(".tab-selector",matchedObject);tabSelectors.click(function(event){var element=jQuery(this);var tabPanel=element.parents(".tab-panel");var tabs=jQuery(".tab",tabPanel);var tabSelectors=jQuery(".tab-selector",tabPanel);tabs.removeClass("active");tabSelectors.removeClass("active");var href=element.attr("href");var targetElement=jQuery(href);element.addClass("active");targetElement.addClass("active");event.stopPropagation();event.preventDefault();})};initialize();return this;};})(jQuery);(function(jQuery){jQuery.fn.uxtable=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var elementReference=jQuery(element);elementReference.attr("data-object","table");var rows=jQuery("tbody > tr:not(.template)",elementReference);var textFields=jQuery("tbody > tr:not(.template) .text-field",elementReference);rows.each(function(index,element){var elementReference=jQuery(element);var lastRow=jQuery(":last-child",elementReference);lastRow.addClass("last");elementReference.attr("data-line_id",index+1);});textFields.each(function(index,element){var elementReference=jQuery(element);if(!elementReference.hasClass("invalid")){return;}
_setInvalid(elementReference,options);});var lastRow=jQuery(rows.get(rows.length-1));lastRow.addClass("last");elementReference.attr("cellpadding","0");elementReference.attr("cellspacing","0");elementReference.data("current_line_id",rows.length+1);});};var _registerHandlers=function(){var newLine=jQuery(".table-new-line",matchedObject);var rows=jQuery("tr",matchedObject).not("thead tr").not("tfoot tr").not(".template");newLine.click(function(){var element=jQuery(this);var table=element.parents(".table");var tableBody=jQuery("tbody",table);_newLine(table,tableBody,options);});rows.each(function(index,element){var row=jQuery(element);_registerLineHandlers(row,options);});matchedObject.each(function(index,element){var elementReference=jQuery(element);var isEdit=elementReference.hasClass("table-edit");var rows=jQuery("tbody > tr:not(.template)",elementReference);var parentForm=elementReference.parents("form");parentForm.submit(function(){var noAutoRemove=elementReference.hasClass("no-auto-remove");if(noAutoRemove){return;}
var rows=jQuery("tbody > tr:not(.template)",elementReference);if(rows.length==0){return;}
var tableEmptyField=jQuery(".table-empty-field",elementReference);var tableDefaultField=jQuery(".table-default-field",elementReference);var defaultInput=jQuery("input",tableDefaultField);defaultInput.removeAttr("name");(rows.length-tableDefaultField.length>0)&&tableEmptyField.remove();});if(isEdit&&rows.length==0){var table=elementReference;var tableBody=jQuery("tbody",table);var _line=_newLine(table,tableBody,options);_line.addClass("table-default-field");jQuery(".text-field",_line).keydown(function(){_line.removeClass("table-default-field");});jQuery(".text-field",_line).keyup(function(){_line.removeClass("table-default-field");});}});};var _registerLineHandlers=function(row,options){var table=row.parents(".table");var isEdit=table.hasClass("table-edit");if(!isEdit){return;}
var addButtonHtml="<td class=\"table-add\">"
+"<div class=\"inline-add\"></div>"+"</td>";var removeButtonHtml="<td class=\"table-remove\">"
+"<div class=\"inline-remove\"></div>"+"</td>";row.append(removeButtonHtml);row.append(addButtonHtml);var addButton=jQuery(".table-add",row);var removeButton=jQuery(".table-remove",row);var textField=jQuery(".text-field",row);var tableWidth=table.outerWidth();var addButtonWidth=addButton.width();var addButtonMarginLeft=tableWidth*-1;addButton.css("margin-left",addButtonMarginLeft+"px");row.mouseover(function(){var element=jQuery(this);var table=element;var addButton=jQuery(".table-add",element);var removeButton=jQuery(".table-remove",element);var tableWidth=table.outerWidth();var addButtonWidth=addButton.width();var addButtonMarginLeft=tableWidth*-1;addButton.css("margin-left",addButtonMarginLeft+"px");addButton.addClass("visible");removeButton.addClass("visible");});row.mouseout(function(){var element=jQuery(this);var addButton=jQuery(".table-add",element);var removeButton=jQuery(".table-remove",element);addButton.removeClass("visible");removeButton.removeClass("visible");});addButton.click(function(){var element=jQuery(this);var table=element.parents(".table");var elementRow=element.parents("tr");_newLine(table,elementRow,options);});removeButton.click(function(){var element=jQuery(this);var table=element.parents(".table");var elementRow=element.parents("tr");elementRow.remove();_updateInvalid(matchedObject,options);isLastRow=elementRow.hasClass("last");if(!isLastRow){table.triggerHandler("removed_line",[elementRow]);table.triggerHandler("value_change",[elementRow]);return;}
var lastRow=jQuery("tbody > tr:not(.template):last",matchedObject);lastRow.addClass("last");table.triggerHandler("removed_line",[elementRow]);table.triggerHandler("value_change",[elementRow]);});textField.focus(function(){var element=jQuery(this);var cell=element.parents("td");var row=element.parents("tr");var nextCell=cell.next();var nextRow=row.next();var cellIndex=cell.index();var nextRowCell=jQuery("td:eq("+cellIndex+")",nextRow);nextCell.addClass("next-horizontal");nextRowCell.addClass("next-vertical");var isLastCell=cell.hasClass("last")&&row.hasClass("last");if(!isLastCell){return;}
var binder=function(event){var element=jQuery(this);var filter=element.parents(".filter");var eventKeyCode=event.keyCode?event.keyCode:event.which;var shiftKey=event.shiftKey;if(shiftKey||eventKeyCode!=9){return;}
var table=element.parents(".table");var tableBody=jQuery("tbody",table);_newLine(table,tableBody,options);};element.keydown(binder);element.blur(function(){element.unbind("keydown",binder);});});textField.blur(function(){var element=jQuery(this);var table=element.parents("table");var cells=jQuery("td",table);cells.removeClass("next-horizontal");cells.removeClass("next-vertical");});textField.bind("invalid_set",function(){var element=jQuery(this);_setInvalid(element,options);});textField.bind("invalid_unset",function(){var element=jQuery(this);_unsetInvalid(element,options);});};var _newLine=function(matchedObject,elementRow,options){var rows=jQuery("tbody > tr:not(.template)",matchedObject);var rowCount=rows.length;var maximumRows=matchedObject.attr("data-maximum_rows");var maximumRowsInteger=parseInt(maximumRows);if(maximumRows&&rowCount>=maximumRowsInteger){return;}
var template=jQuery(".template",matchedObject);var currentLineId=matchedObject.data("current_line_id");var templateItem=template.uxtemplate({line_id:currentLineId},{apply:false});var isEdit=matchedObject.hasClass("table-edit");if(isEdit){var children=templateItem.children();var childrenLength=children.length;var lastChild=jQuery(children.get(childrenLength-1));lastChild.addClass("last");}
templateItem.attr("data-line_id",currentLineId);matchedObject.data("current_line_id",currentLineId+1);var isRow=elementRow.is("tr");if(isRow){templateItem.insertBefore(elementRow);}
else{elementRow.append(templateItem);}
_updateInvalid(matchedObject,options);var rows=jQuery("tbody > tr:not(.template)",matchedObject);var rowCount=rows.length;var index=templateItem.index();var isLastRow=index==rowCount
if(isLastRow){rows.removeClass("last");templateItem.addClass("last");}
templateItem.uxapply();_registerLineHandlers(templateItem,options);matchedObject.triggerHandler("created_line",[templateItem]);matchedObject.triggerHandler("value_change",[templateItem]);return templateItem;};var _setInvalid=function(element,options){var cell=element.parents("td");var row=element.parents("tr");var nextCell=cell.next();var nextRow=row.next();var cellIndex=cell.index();var nextRowCell=jQuery("td:eq("+cellIndex+")",nextRow);nextCell.addClass("next-horizontal-invalid");nextRowCell.addClass("next-vertical-invalid");};var _unsetInvalid=function(element,options){var cell=element.parents("td");var row=element.parents("tr");var nextCell=cell.next();var nextRow=row.next();var cellIndex=cell.index();var nextRowCell=jQuery("td:eq("+cellIndex+")",nextRow);nextCell.removeClass("next-horizontal-invalid");nextRowCell.removeClass("next-vertical-invalid");};var _updateInvalid=function(matchedObject,options){var allHorizontalInvalid=jQuery(".next-horizontal-invalid",matchedObject);var allVerticalInvalid=jQuery(".next-vertical-invalid",matchedObject);allHorizontalInvalid.removeClass("next-horizontal-invalid");allVerticalInvalid.removeClass("next-vertical-invalid");var textFields=jQuery("tbody > tr:not(.template) .text-field",matchedObject);textFields.each(function(index,element){var elementReference=jQuery(element);if(!elementReference.hasClass("invalid")){return;}
_setInvalid(elementReference,options);});};var _clear=function(matchedObject,options){var isEdit=matchedObject.hasClass("table-edit");var rows=jQuery("tbody > tr:not(.template)",matchedObject);rows.remove();if(isEdit){var table=matchedObject;var tableBody=jQuery("tbody",table);var _line=_newLine(table,tableBody,options);_line.addClass("table-default-field");jQuery(".text-field",_line).keydown(function(){_line.removeClass("table-default-field");});}
matchedObject.triggerHandler("cleared");};switch(method){case"clear":_clear(matchedObject,options);break;case"reset":_clear(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxuploader=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var name=_element.attr("data-name");var action=_element.attr("data-action");action&&_element.wrap("<form action=\""
+action
+"\" method=\"post\" enctype=\"multipart/form-data\" class=\"form\"></form>");var form=_element.parent(".form");_element.after("<input name=\""+name
+"\" type=\"file\" class=\"uploader-input\" />");var uploaderInput=jQuery("+ .uploader-input",_element);jQuery.browser.mozilla&&uploaderInput.hide();_updateInputPosition(_element,options);uploaderInput.mouseenter(function(){_element.addClass("selected");});uploaderInput.mouseout(function(){_element.removeClass("selected");});uploaderInput.change(function(){if(action){form.submit();}
else{var inputValue=uploaderInput.attr("value");_element.html(inputValue);_updateInputPosition(_element,options);}});_element.click(function(){uploaderInput.trigger("click");});});};var _registerHandlers=function(){};var _updateInputPosition=function(marchedObject,options){var uploaderInput=jQuery("+ .uploader-input",marchedObject);var width=marchedObject.outerWidth();uploaderInput.css("width",width+"px");uploaderInput.css("margin-left",(width*-1)+"px");};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxtagfield=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.attr("data-object","tagfield");matchedObject.prepend("<div class=\"tag-field-tags\"></div>");matchedObject.each(function(index,element){var _element=jQuery(this);_element.addClass("drop-field");_element.uxdropfield();var tagsContainer=jQuery(".tag-field-tags",_element);var textField=jQuery(".text-field",_element);var textFieldWidth=textField.outerWidth();var textFieldPaddingRight=textField.css("padding-right");textFieldPaddingRight=parseInt(textFieldPaddingRight);var textFieldPaddingLeft=textField.css("padding-left");textFieldPaddingLeft=parseInt(textFieldPaddingLeft);var textFieldPaddingTop=textField.css("padding-top");textFieldPaddingTop=parseInt(textFieldPaddingTop);textField.data("padding_top",textFieldPaddingTop);tagsContainer.css("max-width",(textFieldWidth-textFieldPaddingRight-textFieldPaddingLeft)
+"px");textField.removeAttr("name");var tagsList=jQuery(".tags",_element);var tags=jQuery("li",tagsList);tags.each(function(index,element){var __element=jQuery(this);var dataValue=__element.attr("data-value");var dataHtml=__element.html();_addTag(_element,options,dataHtml,dataValue);});tagsList.remove();var isVisible=_element.is(":visible");!isVisible&&_element.show();_update(_element,options);!isVisible&&_element.hide();});};var _registerHandlers=function(){var tagsContainer=jQuery(".tag-field-tags",matchedObject);var textField=jQuery(".text-field",matchedObject);matchedObject.each(function(index,element){var _element=jQuery(element);var parentForm=_element.parents("form");parentForm.submit(function(){var elementName=_element.attr("name");if(!elementName){return;}
_element.remove("input");var tags=jQuery(".tag-field-tag",_element);for(var index=0;index<tags.length;index++){var tag=jQuery(tags[index]);var dataValue=tag.attr("data-value");var displayValue=tag.attr("data-display");dataValue=dataValue?dataValue:displayValue;_element.append("<input type=\"hidden\" name=\""
+elementName
+"\" value=\""
+dataValue+"\" />");}
var tagEmptyField=jQuery(".tag-empty-field",_element);tags.length&&tagEmptyField.remove();});});matchedObject.bind("value_select",function(event,value,valueLogic,item){var element=jQuery(this);if(!value){return;}
var textField=jQuery(".text-field",element);textField.val("");_addTag(element,options,value,valueLogic);_update(element,options);});tagsContainer.mousedown(function(event){event.stopPropagation();event.stopImmediatePropagation();event.preventDefault();});tagsContainer.click(function(event){var element=jQuery(this);var tagField=element.parent(".tag-field");var textField=jQuery(".text-field",tagField);textField.focus();event.stopPropagation();event.stopImmediatePropagation();event.preventDefault();});tagsContainer.dblclick(function(event){var element=jQuery(this);var tagField=element.parent(".tag-field");var textField=jQuery(".text-field",tagField);textField.select();event.stopPropagation();event.stopImmediatePropagation();event.preventDefault();});textField.focus(function(){var element=jQuery(this);var tagField=element.parents(".tag-field");_update(tagField,options);});};var _addTag=function(matcheObject,options,value,valueLogic){var tagsContainer=jQuery(".tag-field-tags",matcheObject);var tag=jQuery("<div class=\"tag-field-tag\">"
+"<div class=\"tag-field-label\">"+value+"</div>"
+"<div class=\"tag-field-remove\"></div>"
+"<div class=\"tag-field-clear\"></div>"+"</div>");value&&tag.attr("data-display",value);valueLogic&&tag.attr("data-value",valueLogic);var tagRemove=jQuery(".tag-field-remove",tag);tagRemove.click(function(){var element=jQuery(this);var tag=element.parent(".tag-field-tag");var dropField=element.parents(".drop-field");tag.remove();_update(dropField,options);});tagsContainer.append(tag);};var _update=function(matchedObject,options){var tagsContainer=jQuery(".tag-field-tags",matchedObject);var textField=jQuery(".text-field",matchedObject);var tags=jQuery(".tag-field-tag",tagsContainer);var tagsContainerHeight=tagsContainer.outerHeight();var textFieldWidth=textField.outerWidth();var lastTag=tags.length?jQuery(tags[tags.length-1]):null;var referenceTop=lastTag?lastTag.offset().top:0;var lineTags=[];for(var index=tags.length-1;index>=0;index--){var tag=jQuery(tags[index]);var _referenceTop=tag.offset().top;if(_referenceTop!=referenceTop){break;}
lineTags.push(tag);}
lineTags=jQuery(lineTags);var lineWidth=lineTags.uxwidth();var tagsContainerPaddingLeft=tagsContainer.css("padding-left");var tagsContainerPaddingRight=tagsContainer.css("padding-right");tagsContainerPaddingLeft=parseInt(tagsContainerPaddingLeft);tagsContainerPaddingRight=parseInt(tagsContainerPaddingRight);lineWidth=lineWidth+tagsContainerPaddingLeft
+tagsContainerPaddingRight;var lineHeight=lastTag?lastTag.outerHeight(true):0;var numberLines=tagsContainerHeight/lineHeight;var paddingTop=(numberLines-1)*lineHeight;var textFieldPaddingTop=textField.data("padding_top",textFieldPaddingTop);paddingTop+=textFieldPaddingTop;var textFieldMarginTop=textField.css("margin-top");textFieldMarginTop=parseInt(textFieldMarginTop);var textFieldHeight=textField.height();var deltaMarginTop=(textFieldHeight-(lineHeight+2))/2;var textFieldPaddingRight=parseInt(textField.css("padding-right"));var textFieldBorderRight=parseInt(textField.css("border-right-width"));var textFieldBorderLeft=parseInt(textField.css("border-left-width"));var textFieldExtra=lineWidth+textFieldPaddingRight
+textFieldBorderRight+textFieldBorderLeft;var width=textFieldWidth-textFieldExtra>0?textFieldWidth
-textFieldExtra:0;tagsContainer.css("margin-top",(textFieldMarginTop
+textFieldPaddingTop+deltaMarginTop)
+"px");textField.css("padding-top",paddingTop+"px");textField.css("width",width+"px");textField.css("padding-left",lineWidth+"px");};var _value=function(matchedObject,options){var tags=jQuery(".tag-field-tag",matchedObject);var value="";for(var index=0;index<tags.length;index++){var tag=jQuery(tags[index]);var dataValue=tag.attr("data-value");var displayValue=tag.attr("data-display");dataValue=dataValue?dataValue:displayValue;value+=dataValue+","}
return value;};switch(method){case"value":var value=_value(matchedObject,options);return value;case"default":initialize();break;}
return this;};})(jQuery);(function(jQuery){jQuery.fn.uxtextfield=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.attr("data-object","textfield");matchedObject.each(function(index,element){var elementReference=jQuery(element);var type=elementReference.attr("data-type");elementReference.addClass(type);var startMethodName="__start"+type;type&&__callMethod(startMethodName,elementReference,options);__start(elementReference,options);__reset(elementReference,options);});};var _registerHandlers=function(){matchedObject.focus(function(){var element=jQuery(this);_focus(element,options);});matchedObject.blur(function(event){var element=jQuery(this);_blur(element,options);});matchedObject.keypress(function(event){var element=jQuery(this);var value=element.attr("value");var type=element.attr("data-type");var regexString=element.attr("data-regex");var maximumLength=element.attr("data-maximum_length");var decimalPlaces=element.attr("data-decimal_places");var caret=this.selectionStart;var keyValue=event.keyCode?event.keyCode:event.charCode?event.charCode:event.which;var keyCode=event.keyCode;var which=event.which;if(keyCode==8||keyCode==13||keyCode>8&&keyCode<=46&&which==0){return true;}
var lengthValid=__testlength(value,maximumLength);if(!lengthValid){return false;}
var keyValueString=String.fromCharCode(keyValue);var validInput=true;switch(type){case"natural":validInput=/^\d$/.test(keyValueString);break;case"integer":validInput=/^-|\d$/.test(keyValueString);break;case"float":validInput=/^-|\d|\.$/.test(keyValueString);validInput=validInput?__testplaces(value,decimalPlaces,caret):validInput;break;case"floatp":validInput=/^\d|\.$/.test(keyValueString);validInput=validInput?__testplaces(value,decimalPlaces,caret):validInput;break;case"percent":validInput=/^-|\d|\.$/.test(keyValueString);validInput=validInput?__testplaces(value,decimalPlaces,caret):validInput;break;case"regex":var regex=new RegExp(regexString);validInput=regex.test(keyValueString);break;}
return validInput;});matchedObject.keydown(function(event){var element=jQuery(this);var avoidEscape=element.data("avoid_escape");if(avoidEscape){return;}
var keyValue=event.keyCode?event.keyCode:event.charCode?event.charCode:event.which;if(keyValue==27){element.blur();}
if(keyValue>64&&keyValue<91){event.stopImmediatePropagation();}});matchedObject.keyup(function(event){var element=jQuery(this);var isLower=element.hasClass("lower");if(isLower){return;}
__updateValue(element,options);__resetError(element,options);event.stopPropagation();});matchedObject.change(function(){var element=jQuery(this);__resetError(element,options);});matchedObject.each(function(index,element){var elementReference=jQuery(element);var parentForm=elementReference.parents("form");parentForm.submit(function(){var isLower=elementReference.hasClass("lower");if(isLower){var elementName=elementReference.attr("name");var elementClone=jQuery("<input type=\"hidden\" name=\""
+elementName+"\"/>");elementReference.removeAttr("name");var elementValue=elementReference.attr("data-value");elementClone.attr("value",elementValue);elementReference.after(elementClone);}
else{var elementValue=elementReference.attr("data-value");elementReference.attr("value",elementValue);}});parentForm.bind("success",function(){__reset(elementReference,options);});parentForm.bind("error",function(){__reset(elementReference,options);});setInterval(function(){var isLower=elementReference.hasClass("lower");if(isLower){return;}
__updateValue(elementReference,options);},250);});};var _value=function(matchedObject,options){var value=options["value"];if(value===undefined){var elementValue=matchedObject.attr("data-value");var type=matchedObject.attr("data-type");var valueMethodName="__value"+type;var hasMethod=__hasMethod(valueMethodName,matchedObject,options);var elementValue=hasMethod?__callMethod(valueMethodName,matchedObject,options):elementValue;return elementValue;}
else{var type=matchedObject.attr("data-type");var valueMethodName="__fvalue"+type;var hasMethod=__hasMethod(valueMethodName,matchedObject,options);var value=hasMethod&&value!=""?__callMethod(valueMethodName,matchedObject,value):value;matchedObject.attr("value",value);matchedObject.removeClass("lower");__updateValue(matchedObject,options);__reset(matchedObject,options);}};var _reset=function(matchedObject,options){_value(matchedObject,{value:""});};var _focus=function(matchedObject,options){var element=matchedObject;__bluractive(element,options);element.addClass("focus");element.addClass("active");element.removeClass("lower");var type=element.attr("data-type");var showMethodName="__show"+type;type&&__callMethod(showMethodName,element,options);var elementValue=element.attr("data-value");element.attr("value",elementValue);};var _blur=function(matchedObject,options){var element=matchedObject;var avoidNext=element.data("avoid_next");element.data("avoid_next",false);if(avoidNext){element.focus();return;}
var type=element.attr("data-type");var hideMethodName="__hide"+type;type&&__callMethod(hideMethodName,element,options);element.removeClass("active");__updateValue(element,options);__reset(element,options);element.removeClass("focus");};var __start=function(matchedObject,options){var inputFieldValue=matchedObject.attr("value");var elementValue=matchedObject.attr("data-value");var originalValue=matchedObject.attr("data-original_value");var forceComplete=matchedObject.attr("data-force_complete");if(elementValue!=null){return;}!forceComplete&&matchedObject.attr("autocomplete","off");forceComplete&&inputFieldValue==originalValue&&matchedObject.attr("value","");__updateError(matchedObject,options);__updateValue(matchedObject,options);};var __reset=function(matchedObject,options){var elementValue=matchedObject.attr("data-value");if(elementValue!=""){return;}
var originalValue=matchedObject.attr("data-original_value");if(originalValue==null){return;}
matchedObject.attr("value",originalValue);matchedObject.addClass("lower");};var __updateValue=function(matchedObject,options){var isLower=matchedObject.hasClass("lower");if(isLower){return;}
var previousInputFieldValue=matchedObject.attr("data-value");var inputFieldValue=matchedObject.attr("value");matchedObject.attr("data-value",inputFieldValue);inputFieldValue!=previousInputFieldValue&&matchedObject.triggerHandler("value_change",[inputFieldValue]);};var __updateError=function(matchedObject,options){var elementError=matchedObject.attr("data-error");if(elementError){matchedObject.addClass("invalid");matchedObject.triggerHandler("invalid_set");}};var __resetError=function(matchedObject,options){matchedObject.removeClass("invalid");matchedObject.triggerHandler("invalid_unset");};var __callMethod=function(methodName,element,options){var evalString="if(typeof "+methodName
+" != \"undefined\") { var result = "+methodName
+"(element, options)} else { var result = null; }";eval(evalString);return result;};var __hasMethod=function(methodName,element,options){var evalString="var result = typeof "+methodName
+" != \"undefined\";";eval(evalString);return result;};var __startdatetime=function(element,options){var utc=element.hasClass("utc");var currentValue=element.attr("value");var currentTimestamp=parseInt(currentValue);if(!isNaN(currentTimestamp)){var date=new Date(currentTimestamp*1000);var year=utc?date.getUTCFullYear():date.getFullYear();var month=utc?date.getUTCMonth()+1:date.getMonth()+1;var day=utc?date.getUTCDate():date.getDate();var hours=utc?date.getUTCHours():date.getHours();var minutes=utc?date.getUTCMinutes():date.getMinutes();var seconds=utc?date.getUTCSeconds():date.getSeconds();var yearString=String(year);var monthString=month>9?String(month):"0"
+String(month);var dayString=day>9?String(day):"0"+String(day);var hoursString=hours>9?String(hours):"0"
+String(hours);var minutesString=minutes>9?String(minutes):"0"
+String(minutes);var secondsString=seconds>9?String(seconds):"0"
+String(seconds);var dateString=yearString+"/"+monthString+"/"
+dayString+" "+hoursString+":"+minutesString
+":"+secondsString;element.attr("data-value",dateString);element.attr("value",dateString);}
var parentForm=element.parents("form");parentForm.submit(function(){var currentValue=element.attr("value");var currentTimestamp=utc?Date.parse(currentValue
+" UTC")
/ 1000 : Date.parseUtc(currentValue) /1000;var name=element.attr("name");element.removeAttr("name");element.after("<input type=\"hidden\" name=\""+name
+"\" value=\""+String(currentTimestamp)
+"\" />");});};var __startdate=function(element,options){var _window=jQuery(window);var noCalendar=element.hasClass("no-calendar")
if(noCalendar){var calendar=jQuery();}
else{var calendar=jQuery("<div class=\"calendar text-field-calendar\"></div>");element.after(calendar);element.attr("autocomplete","off");}
calendar.uxcalendar();calendar.hide();var offset=element.offset();var height=element.outerHeight();var calendarTop=offset["top"]+height;var calendarLeft=offset["left"];calendar.css("top",calendarTop+"px");calendar.css("left",calendarLeft+"px");var currentValue=element.attr("value");var currentTimestamp=parseInt(currentValue);if(!isNaN(currentTimestamp)){var date=new Date(currentTimestamp*1000);var year=date.getUTCFullYear();var month=date.getUTCMonth()+1;var day=date.getUTCDate();calendar.uxcalendar("set",{current:{year:year,month:month,day:day}});var yearString=String(year);var monthString=month>9?String(month):"0"
+String(month);var dayString=day>9?String(day):"0"+String(day);var dateString=yearString+"/"+monthString+"/"
+dayString;element.attr("data-value",dateString);element.attr("value",dateString);}
calendar.bind("current_change",function(event,current){var year=current["year"];var month=current["month"];var day=current["day"];var yearString=String(year);var monthString=month>9?String(month):"0"
+String(month);var dayString=day>9?String(day):"0"
+String(day);var dateString=yearString+"/"+monthString+"/"
+dayString;element.attr("data-value",dateString);element.attr("value",dateString);element.triggerHandler("value_change",[dateString]);});calendar.mousedown(function(){element.data("avoid_next",true);});calendar.mouseup(function(){element.focus();});element.bind("value_change",function(event,inputFieldValue){var timestamp=Date.parse(inputFieldValue);if(isNaN(timestamp)){return;}
var date=new Date(timestamp);var year=date.getFullYear();var month=date.getMonth()+1;var day=date.getDate();calendar.uxcalendar("set",{current:{year:year,month:month,day:day}});});_window.resize(function(event){var offset=element.offset();var height=element.outerHeight();var calendarTop=offset["top"]+height;var calendarLeft=offset["left"];calendar.css("top",calendarTop+"px");calendar.css("left",calendarLeft+"px");});var parentForm=element.parents("form");parentForm.submit(function(){var currentValue=element.attr("value");var currentTimestamp=Date.parse(currentValue+" UTC")/1000;var name=element.attr("name");element.removeAttr("name");element.after("<input type=\"hidden\" name=\""+name
+"\" value=\""+String(currentTimestamp)+"\" />");});element.data("calendar",calendar);};var __fvaluefloatp=function(element,value){var decimalPlaces=element.attr("data-decimal_places");decimalPlaces=parseInt(decimalPlaces);if(isNaN(decimalPlaces)){return value;}
var valueF=parseFloat(value);return valueF.toFixed(decimalPlaces);};var __fvaluefloat=function(element,value){var decimalPlaces=element.attr("data-decimal_places");decimalPlaces=parseInt(decimalPlaces);if(isNaN(decimalPlaces)){return value;}
var valueF=parseFloat(value);return valueF.toFixed(decimalPlaces);};var __valuedate=function(element,options){var currentValue=element.attr("value");var currentTimestamp=Date.parse(currentValue+" UTC")/1000;return currentTimestamp;};var __showdate=function(element,options){var calendar=element.data("calendar")
if(!calendar){return;}
var isVisible=calendar.is(":visible");if(isVisible){return;}
var offset=element.offset();var height=element.outerHeight();var calendarTop=offset["top"]+height;var calendarLeft=offset["left"];calendar.css("top",calendarTop+"px");calendar.css("left",calendarLeft+"px");calendar.uxcalendar("reset")
calendar.show();};var __hidedate=function(element,options){var calendar=element.data("calendar");calendar&&calendar.hide();};var __testlength=function(stringValue,length){var lengthInteger=parseInt(length);var isValid=!isNaN(lengthInteger);if(!isValid){return true;}
valid=stringValue.length<=lengthInteger-1;return valid;};var __testplaces=function(stringValue,decimalPlaces,caret){var decimalPlacesInteger=parseInt(decimalPlaces);var isValid=!isNaN(decimalPlacesInteger);if(!isValid){return true;}
var separatorIndex=stringValue.indexOf(".");var valid=separatorIndex>=stringValue.length
-decimalPlacesInteger||separatorIndex==-1;if(valid){return valid;}
valid=caret<stringValue.length-2;return valid;};var __bluractive=function(matchedObject,options){var active=jQuery(".text-field.active");active.each(function(index,element){var _element=jQuery(element);if(_element.get(0)==matchedObject.get(0)){return;}
_blur(_element,options);});};switch(method){case"value":var value=_value(matchedObject,options);return value;case"reset":_reset(matchedObject,options);break;case"focus":_focus(matchedObject,options);break;case"blur":_blur(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);(function(jQuery){jQuery.fn.uxtogglefield=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.wrap("<div class=\"toggle-field\"></div>");var toggleField=matchedObject.parents(".toggle-field");toggleField.prepend("<div class=\"button\"></div>");toggleField.attr("data-object","togglefield");matchedObject.removeClass("toggle-field");matchedObject.addClass("text-field");matchedObject.uxtextfield();matchedObject.each(function(index,element){var _element=jQuery(this);var toggleField=_element.parents(".toggle-field");var isLeft=_element.hasClass("toggle-left");isLeft&&toggleField.addClass("toggle-left");var modesS=_element.attr("data-modes");if(!modesS){modesS="percent";}
modesS=modesS.trim();var modes=modesS.split(",");toggleField.data("modes",modes);_setMode(toggleField,options,0);});};var _registerHandlers=function(){var toggleField=matchedObject.parents(".toggle-field");var button=jQuery(".button",toggleField);button.click(function(){var element=jQuery(this);var toggleField=element.parents(".toggle-field");var textField=jQuery(".text-field",toggleField);var isDisabled=textField.hasClass("disabled");isDisabled=isDisabled||element.hasClass("disabled");if(isDisabled){return;}
var modes=toggleField.data("modes");var index=toggleField.data("index");var _index=index==modes.length-1?0:index+1;textField.focus();_setMode(toggleField,options,_index);textField.blur();});toggleField.bind("enabled",function(){var element=jQuery(this);var textField=jQuery(".text-field",element);var buttons=jQuery(".button",element);textField.uxenable();buttons.uxenable();});toggleField.bind("disabled",function(){var element=jQuery(this);var textField=jQuery(".text-field",element);var buttons=jQuery(".button",element);textField.uxdisable();buttons.uxdisable();});};var _reset=function(matchedObject,options){_setMode(matchedObject,options,0);};var _setMode=function(matchedObject,options,index){var modes=matchedObject.data("modes",modes);if(!modes){return;}
var textField=jQuery(".text-field",matchedObject);var button=jQuery(".button",matchedObject);for(var _index=0;_index<modes.length;_index++){var mode=modes[_index];button.removeClass(mode);}
var mode=modes[index];button.addClass(mode);matchedObject.data("index",index);matchedObject.data("mode",mode);textField.data("mode",mode);matchedObject.triggerHandler("mode_change",[mode,index]);textField.triggerHandler("mode_change",[mode,index]);};switch(method){case"reset":_reset(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxwindow=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var windowMask=jQuery(".window-mask",matchedObject);var windowMaskExists=windowMask.length>0;!windowMaskExists&&matchedObject.append("<div class=\"window-mask\">"
+"<div class=\"window-mask-contents\">Loading "
+"<span class=\"window-mask-dots\"></span>"
+"</div>"+"</div>");_positionWindow(matchedObject,options);};var _registerHandlers=function(){var _window=jQuery(window);var closeButton=jQuery(".close-button",matchedObject);var acceptButton=jQuery(".accept-button",matchedObject);closeButton.click(function(event){var element=jQuery(this);var window=element.parents(".window");_hide(window,options,false);});acceptButton.click(function(event){var element=jQuery(this);var window=element.parents(".window");_hide(window,options,true);});matchedObject.click(function(event){event.stopPropagation();});matchedObject.each(function(index,element){var _element=jQuery(element);_window.resize(function(event){_positionWindow(_element,options);});_window.scroll(function(){_positionWindow(_element,options);});_element.bind("layout",function(){_positionWindow(_element,options);});});};var _show=function(matchedObject,options){var overlay=jQuery(".overlay");overlay.trigger("resize");var pending=__ensureModal(matchedObject,options);if(pending){return;}
overlay.fadeIn(250);matchedObject.fadeIn(250);__registerClick(matchedObject,options);__registerKey(matchedObject,options);_positionWindow(matchedObject,options);_startForm(matchedObject,options);matchedObject.triggerHandler("show");};var _hide=function(matchedObject,options,success){var overlay=jQuery(".overlay");__unregisterClick(matchedObject,options);__unregisterKey(matchedObject,options);overlay.fadeOut(250);matchedObject.fadeOut(250);var name=success?"success":"cancel";matchedObject.triggerHandler("hide");matchedObject.triggerHandler(name);};var _showMask=function(matchedObject,options){var mask=jQuery(".window-mask",matchedObject);_resizeMask(matchedObject,options);var intervalHandler=setInterval(function(){__updateDots(matchedObject,options);},500);mask.fadeIn(250);mask.data("interval_handler",intervalHandler)};var _hideMask=function(matchedObject,options){var mask=jQuery(".window-mask",matchedObject);var intervalHandler=mask.data("interval_handler");window.clearInterval(intervalHandler);mask.fadeOut(250);};var _positionWindow=function(matchedObject,options){matchedObject.uxcenter();};var _resizeMask=function(matchedObject,options){var mask=jQuery(".window-mask",matchedObject);var matchedObjectWidth=matchedObject.width();var matchedObjectHeight=matchedObject.height();mask.width(matchedObjectWidth);mask.height(matchedObjectHeight);};var _startForm=function(matchedObject,options){var fields=matchedObject.uxfields()
var first=jQuery(fields[0]);fields.uxreset();first.uxfocus();};var __updateDots=function(matchedObject,options){var windowMaskDots=jQuery(".window-mask-dots",matchedObject);var windowMaskDotsContents=windowMaskDots.html();windowMaskDotsContentsLength=windowMaskDotsContents.length;if(windowMaskDotsContentsLength==3){windowMaskDotsContentsLength=0;}
else{windowMaskDotsContentsLength++;}
var windowMaskDotsContents="";for(index=0;index<windowMaskDotsContentsLength;index++){windowMaskDotsContents+="."}
windowMaskDots.html(windowMaskDotsContents)};var __registerClick=function(matchedObject,options){var overlay=jQuery(".overlay");var handler=function(){var isHiddable=matchedObject.hasClass("window-hide");if(!isHiddable){return;}
matchedObject.uxwindow("hide");};overlay.click(handler);matchedObject.data("click_handler",handler);};var __unregisterClick=function(matchedObject,options){var overlay=jQuery(".overlay");var handle=matchedObject.data("click_handler");overlay.unbind("click",handle);};var __registerKey=function(matchedObject,options){var _document=jQuery(document);var handler=_document.keydown(function(event){var keyValue=event.keyCode?event.keyCode:event.charCode?event.charCode:event.which;switch(keyValue){case 27:_hide(matchedObject,options);break;}});matchedObject.data("key_handler",handler);};var __unregisterKey=function(matchedObject,options){var _document=jQuery(document);var handle=matchedObject.data("key_handler");_document.unbind("keydown",handle);};var __ensureModal=function(matchedObject,options){var visibleWindow=jQuery(".window:visible");if(visibleWindow.length==0){return false;}
visibleWindow.fadeOut(150,function(){matchedObject.uxwindow("show");});return true;};switch(method){case"show":_show(matchedObject,options);break;case"hide":_hide(matchedObject,options);break;case"show_mask":_showMask(matchedObject,options);break;case"hide_mask":_hideMask(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxwizard=function(method,options){var defaults={};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){var selectedPanel=jQuery(".panel-stack > .panel.selected",matchedObject);var index=selectedPanel.length>0?selectedPanel.index():0;index=parseInt(matchedObject.attr("data-index"))||index;matchedObject.data("index",index);_update(matchedObject,options);};var _registerHandlers=function(){var buttonNext=jQuery(".button-next",matchedObject);var buttonPrevious=jQuery(".button-previous",matchedObject);buttonNext.click(function(){var element=jQuery(this);var wizard=element.parents(".wizard");_next(wizard,options);});buttonPrevious.click(function(){var element=jQuery(this);var wizard=element.parents(".wizard");_previous(wizard,options);});};var _next=function(matchedObject,options){var panels=jQuery(".panel-stack > .panel",matchedObject);var panelsLength=panels.length;var lastIndex=parseInt(matchedObject.attr("data-last_index"))||panels.length-1;var index=matchedObject.data("index");if(index==lastIndex){return;}
matchedObject.data("index",index+1);_update(matchedObject,options);};var _previous=function(matchedObject,options){var index=matchedObject.data("index");var firstIndex=parseInt(matchedObject.attr("data-first_index"))||0;if(index==firstIndex){return;}
matchedObject.data("index",index-1);_update(matchedObject,options);};var _set=function(matchedObject,options){var index=options["index"];var panels=jQuery(".panel-stack > .panel",matchedObject);var firstIndex=parseInt(matchedObject.attr("data-first_index"))||0;var lastIndex=parseInt(matchedObject.attr("data-last_index"))||panels.length-1;if(index<firstIndex||index>lastIndex){return;}
matchedObject.data("index",index);_update(matchedObject,options);};var _update=function(matchedObject,options){var index=matchedObject.data("index");var panels=jQuery(".panel-stack > .panel",matchedObject);var firstIndex=parseInt(matchedObject.attr("data-first_index"))||0;var lastIndex=parseInt(matchedObject.attr("data-last_index"))||panels.length-1;var buttonFinish=jQuery(".button-finish",matchedObject);var buttonNext=jQuery(".button-next",matchedObject);var buttonPrevious=jQuery(".button-previous",matchedObject);if(index==lastIndex){if(buttonFinish.length>0){buttonFinish.show();buttonNext.hide();}
else{buttonNext.uxdisable();}}
else{if(buttonFinish.length>0){buttonFinish.hide();buttonNext.show();}
else{buttonNext.uxenable();}}
if(index==firstIndex){buttonPrevious.uxdisable();}
else{buttonPrevious.uxenable();}
var breadcrumbs=jQuery(".breadcrumbs",matchedObject);var panelStack=jQuery(".panel-stack",matchedObject);breadcrumbs.uxbreadcrumbs("set",{index:index});panelStack.uxpanelstack("set",{index:index});matchedObject.triggerHandler("index_changed",[index]);};switch(method){case"next":_next(matchedObject,options);break;case"previous":_previous(matchedObject,options);break;case"set":_set(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);(function($){jQuery.fn.uxeval=function(element,options){var DEFAULT_TIMEOUT=1000;var defaults={timeout:DEFAULT_TIMEOUT};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var evalString=_element.attr("data-eval")?_element.attr("data-eval"):_element.html();if(!evalString){return;}
evalString=evalString.trim();_element.data("eval_string",evalString);_eval(_element,options);});};var _registerHandlers=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var timeout=_element.attr("data-timeout");var timeoutInteger=parseInt(timeout);var _timeout=isNaN(timeoutInteger)?options["timeout"]:timeoutInteger;var continuous=_element.attr("data-continuous");var selector=_element.attr("data-selector");continuous&&!selector&&setInterval(function(){_eval(_element,options);},_timeout);selector=selector?selector:"body";var triggerElement=jQuery(selector);var keyUpHandler=_element.data("evalKeyUpHandler");var changeHandler=_element.data("evalChangeHandler");var valueChangedHandler=_element.data("evalValueChangedHandler");keyUpHandler&&triggerElement.unbind("keyup",keyUpHandler);changeHandler&&triggerElement.unbind("change",changeHandler);valueChangedHandler&&triggerElement.unbind("value_change",valueChangedHandler);continuous&&triggerElement.keyup(keyUpHandler=function(){_eval(_element,options);});continuous&&triggerElement.change(changeHandler=function(){_eval(_element,options);});continuous&&triggerElement.bind(valueChangedHandler="value_change",function(){_eval(_element,options);});_element.data("evalKeyUpHandler",keyUpHandler);_element.data("evalChangeHandler",changeHandler);_element.data("evalValueChangedHandler",valueChangedHandler);});};var _eval=function(matchedObject,options){var evalString=matchedObject.data("eval_string");var evalResult=eval(evalString);var isInput=matchedObject.is("input");var isTextField=matchedObject.hasClass("text-field");var current=isInput?matchedObject.attr("value"):matchedObject.html();var different=evalResult!=current;var hasFocus=matchedObject.hasClass("focus");if(!different||hasFocus){return;}
if(isTextField){matchedObject.uxtextfield("value",{value:evalResult});}
else if(isInput){matchedObject.attr("value",evalResult);}
else{matchedObject.html(evalResult);}};switch(method){case"eval":_eval(matchedObject,options);return value;case"default":initialize();break;}
initialize();return this;};})(jQuery);(function($){jQuery.fn.uxnamechange=function(options){var defaults={};var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){matchedObject.each(function(index,element){var _element=jQuery(element);var form=_element.parents("form");form.submit(function(){var value=_element.attr("value");if(!value){var name=_element.attr("name",nameEmpty);var nameEmpty=_element.attr("data-name_empty");_element.attr("name",nameEmpty);_element.attr("data-name_old",name);}});setInterval(function(){var nameOld=_element.attr("data-name_old");if(!nameOld){return;}
_element.attr("name",nameOld);_element.removeAttr("data-name_old");},250);});};initialize();return this;};})(jQuery);(function($){jQuery.fn.uxwidth=function(){var matchedObject=this;var width=0;matchedObject.each(function(index,element){var _element=jQuery(this);width+=_element.outerWidth(true);});return width;}})(jQuery);jQuery(document).ready(function(){var elements=jQuery(".ux");elements.uxapply();});var Select=Select||{};Select.map=function(list,_function){var result=[];for(var index=0;index<list.length;index++){var item=list[index];var _item=_function(item);result.push(_item);}
return result;}
Select.reduce=function(list,_function){var accumulator=list[0];for(var index=1;index<list.length;index++){var item=list[index];accumulator=_function(accumulator,item);}
return accumulator;}
Select.floatValue=function(selector,zerify,defaultValue){var element=jQuery(selector);var valueFloat=Select._floatValue(element,zerify,defaultValue);return valueFloat;}
Select.floatValues=function(selector,zerify,defaultValue){var element=jQuery(selector);var valueFloats=[];element.each(function(index,element){var _element=jQuery(element);var valueFloat=Select._floatValue(_element,zerify,defaultValue);valueFloats.push(valueFloat);});return valueFloats;}
Select.sum=function(firstSelector,secondSelector,decimalPlaces,defaultValue){var firstValue=Select.floatValue(firstSelector,true);var secondValue=Select.floatValue(secondSelector,true);var value=firstValue+secondValue;value=Select._normalizeValue(value,decimalPlaces,defaultValue);return value;}
Select.sums=function(selector,decimalPlaces,defaultValue){var value=Select.reduce(Select.floatValues(selector),function(accumulator,item){item=isNaN(item)?0:item;return accumulator+item;});value=Select._normalizeValue(value,decimalPlaces,defaultValue);return value;}
Select.subtract=function(firstSelector,secondSelector,decimalPlaces,defaultValue){var firstValue=Select.floatValue(firstSelector,true);var secondValue=Select.floatValue(secondSelector,true);var value=firstValue-secondValue;value=Select._normalizeValue(value,decimalPlaces,defaultValue);return value;}
Select.subtracts=function(selector,decimalPlaces,defaultValue){var value=Select.reduce(Select.floatValues(selector),function(accumulator,item){item=isNaN(item)?0:item;return accumulator-item;});value=Select._normalizeValue(value,decimalPlaces,defaultValue);return value;}
Select.multiply=function(firstSelector,secondSelector,decimalPlaces,defaultValue){var firstValue=Select.floatValue(firstSelector,true,0);var secondValue=Select.floatValue(secondSelector,true,0);var value=firstValue*secondValue;value=Select._normalizeValue(value,decimalPlaces,defaultValue);return value;}
Select.multiplys=function(selector,decimalPlaces,defaultValue){var value=Select.reduce(Select.floatValues(selector),function(accumulator,item){item=isNaN(item)?1:item;return accumulator*item;});value=Select._normalizeValue(value,decimalPlaces,defaultValue);return value;}
Select.divide=function(firstSelector,secondSelector,decimalPlaces,defaultValue){var firstValue=Select.floatValue(firstSelector,true,0);var secondValue=Select.floatValue(secondSelector,true,1);var value=firstValue/secondValue;value=Select._normalizeValue(value,decimalPlaces,defaultValue);return value;}
Select.divides=function(selector,decimalPlaces,defaultValue){var value=Select.reduce(Select.floatValues(selector),function(accumulator,item){item=isNaN(item)?1:item;return accumulator/item;});value=Select._normalizeValue(value,decimalPlaces,defaultValue);return value;}
Select._floatValue=function(element,zerify,defaultValue){if(element.length==1&&!isNaN(element[0])){return element[0];}
var value=element.attr("value");var valueFloat=parseFloat(value);if(!isNaN(valueFloat)){return valueFloat;}
var value=element.html();var valueFloat=parseFloat(value);if(zerify){valueFloat=isNaN(valueFloat)?(defaultValue===undefined?0:defaultValue):valueFloat;}
return valueFloat;}
Select._normalizeValue=function(value,decimalPlaces,defaultValue){var rounder=decimalPlaces?Math.pow(10,decimalPlaces):0;value=decimalPlaces?(Math.round(value*rounder)/rounder).toFixed(decimalPlaces):value;if(isNaN(value)){value=defaultValue?defaultValue:"N/A";}
return value;}
var Date=Date||{};Date.parseUtc=function(dateString){var date=new Date(dateString);var dateTimeZoneStructure=date.getTimeZoneStructure();var timeZoneName=dateTimeZoneStructure["time_zone_name"];var dateString=dateString?dateString+" "+timeZoneName:date;var timestamp=Date.parse(dateString);return timestamp;}
Date.prototype.getTimeZoneStructure=function(){var javascriptUtcOffset=this.getTimezoneOffset()*-1;var utcOffset=javascriptUtcOffset*60;var absoluteJavascriptUtcOffset=Math.abs(javascriptUtcOffset);var utcOffsetHours=Math.floor(absoluteJavascriptUtcOffset/60);var utcOffsetMinutes=absoluteJavascriptUtcOffset%60;var utcOffsetHoursString=utcOffsetHours.toString();var utcOffsetMinutesString=utcOffsetMinutes.toString();var utcOffsetHoursStringLength=utcOffsetHoursString.length;var utcOffsetMinutesStringLength=utcOffsetMinutesString.length;for(var index=utcOffsetHoursStringLength;index<2;index++){utcOffsetHoursString="0"+utcOffsetHoursString;}
for(var index=utcOffsetMinutesStringLength;index<2;index++){utcOffsetMinutesString="0"+utcOffsetMinutesString;}
if(utcOffset>=0){utcOffsetHoursString="+"+utcOffsetHoursString;}else{utcOffsetHoursString="-"+utcOffsetHoursString;}
var timeZoneName="GMT"+utcOffsetHoursString+utcOffsetMinutesString;var timeZoneStructure={};timeZoneStructure["utc_offset"]=utcOffset;timeZoneStructure["time_zone_name"]=timeZoneName;return timeZoneStructure;}
var Md5=Md5||{};Md5.HEXADECIMAL_CHARACTERS=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];Md5.digest=function(stringValue){var digest=Md5._md5(stringValue);var digestHex=Md5.hex(digest);return digestHex;}
Md5.hex=function(stringList){var hexStringList=[];for(var index=0;index<stringList.length;index++){hexStringList[index]=Md5.rhex(stringList[index]);}
return hexStringList.join("");}
Md5.rhex=function(number){var stringValue="";for(var index=0;index<4;index++){stringValue+=Md5.HEXADECIMAL_CHARACTERS[(number>>(index*8+4))&0x0f]
+Md5.HEXADECIMAL_CHARACTERS[(number>>(index*8))&0x0f];}
return stringValue;}
Md5.add32=function(a,b){return(a+b)&0xffffffff;}
Md5.md5Block=function(stringValue){var md5Blocks=[];for(var index=0;index<64;index+=4){md5Blocks[index>>2]=stringValue.charCodeAt(index)
+(stringValue.charCodeAt(index+1)<<8)
+(stringValue.charCodeAt(index+2)<<16)
+(stringValue.charCodeAt(index+3)<<24);}
return md5Blocks;}
Md5._md5Cycle=function(x,k){var a=x[0];var b=x[1];var c=x[2];var d=x[3];a=Md5._ff(a,b,c,d,k[0],7,-680876936);d=Md5._ff(d,a,b,c,k[1],12,-389564586);c=Md5._ff(c,d,a,b,k[2],17,606105819);b=Md5._ff(b,c,d,a,k[3],22,-1044525330);a=Md5._ff(a,b,c,d,k[4],7,-176418897);d=Md5._ff(d,a,b,c,k[5],12,1200080426);c=Md5._ff(c,d,a,b,k[6],17,-1473231341);b=Md5._ff(b,c,d,a,k[7],22,-45705983);a=Md5._ff(a,b,c,d,k[8],7,1770035416);d=Md5._ff(d,a,b,c,k[9],12,-1958414417);c=Md5._ff(c,d,a,b,k[10],17,-42063);b=Md5._ff(b,c,d,a,k[11],22,-1990404162);a=Md5._ff(a,b,c,d,k[12],7,1804603682);d=Md5._ff(d,a,b,c,k[13],12,-40341101);c=Md5._ff(c,d,a,b,k[14],17,-1502002290);b=Md5._ff(b,c,d,a,k[15],22,1236535329);a=Md5._gg(a,b,c,d,k[1],5,-165796510);d=Md5._gg(d,a,b,c,k[6],9,-1069501632);c=Md5._gg(c,d,a,b,k[11],14,643717713);b=Md5._gg(b,c,d,a,k[0],20,-373897302);a=Md5._gg(a,b,c,d,k[5],5,-701558691);d=Md5._gg(d,a,b,c,k[10],9,38016083);c=Md5._gg(c,d,a,b,k[15],14,-660478335);b=Md5._gg(b,c,d,a,k[4],20,-405537848);a=Md5._gg(a,b,c,d,k[9],5,568446438);d=Md5._gg(d,a,b,c,k[14],9,-1019803690);c=Md5._gg(c,d,a,b,k[3],14,-187363961);b=Md5._gg(b,c,d,a,k[8],20,1163531501);a=Md5._gg(a,b,c,d,k[13],5,-1444681467);d=Md5._gg(d,a,b,c,k[2],9,-51403784);c=Md5._gg(c,d,a,b,k[7],14,1735328473);b=Md5._gg(b,c,d,a,k[12],20,-1926607734);a=Md5._hh(a,b,c,d,k[5],4,-378558);d=Md5._hh(d,a,b,c,k[8],11,-2022574463);c=Md5._hh(c,d,a,b,k[11],16,1839030562);b=Md5._hh(b,c,d,a,k[14],23,-35309556);a=Md5._hh(a,b,c,d,k[1],4,-1530992060);d=Md5._hh(d,a,b,c,k[4],11,1272893353);c=Md5._hh(c,d,a,b,k[7],16,-155497632);b=Md5._hh(b,c,d,a,k[10],23,-1094730640);a=Md5._hh(a,b,c,d,k[13],4,681279174);d=Md5._hh(d,a,b,c,k[0],11,-358537222);c=Md5._hh(c,d,a,b,k[3],16,-722521979);b=Md5._hh(b,c,d,a,k[6],23,76029189);a=Md5._hh(a,b,c,d,k[9],4,-640364487);d=Md5._hh(d,a,b,c,k[12],11,-421815835);c=Md5._hh(c,d,a,b,k[15],16,530742520);b=Md5._hh(b,c,d,a,k[2],23,-995338651);a=Md5._ii(a,b,c,d,k[0],6,-198630844);d=Md5._ii(d,a,b,c,k[7],10,1126891415);c=Md5._ii(c,d,a,b,k[14],15,-1416354905);b=Md5._ii(b,c,d,a,k[5],21,-57434055);a=Md5._ii(a,b,c,d,k[12],6,1700485571);d=Md5._ii(d,a,b,c,k[3],10,-1894986606);c=Md5._ii(c,d,a,b,k[10],15,-1051523);b=Md5._ii(b,c,d,a,k[1],21,-2054922799);a=Md5._ii(a,b,c,d,k[8],6,1873313359);d=Md5._ii(d,a,b,c,k[15],10,-30611744);c=Md5._ii(c,d,a,b,k[6],15,-1560198380);b=Md5._ii(b,c,d,a,k[13],21,1309151649);a=Md5._ii(a,b,c,d,k[4],6,-145523070);d=Md5._ii(d,a,b,c,k[11],10,-1120210379);c=Md5._ii(c,d,a,b,k[2],15,718787259);b=Md5._ii(b,c,d,a,k[9],21,-343485551);x[0]=Md5.add32(a,x[0]);x[1]=Md5.add32(b,x[1]);x[2]=Md5.add32(c,x[2]);x[3]=Md5.add32(d,x[3]);}
Md5._cmn=function(q,a,b,x,s,t){a=Md5.add32(Md5.add32(a,q),Md5.add32(x,t));return Md5.add32((a<<s)|(a>>>(32-s)),b);}
Md5._ff=function(a,b,c,d,x,s,t){return Md5._cmn((b&c)|((~b)&d),a,b,x,s,t);}
Md5._gg=function(a,b,c,d,x,s,t){return Md5._cmn((b&d)|(c&(~d)),a,b,x,s,t);}
Md5._hh=function(a,b,c,d,x,s,t){return Md5._cmn(b^c^d,a,b,x,s,t);}
Md5._ii=function(a,b,c,d,x,s,t){return Md5._cmn(c^(b|(~d)),a,b,x,s,t);}
Md5._md5=function(stringValue){var number=stringValue.length;var state=[1732584193,-271733879,-1732584194,271733878];var tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var index=64;index<=stringValue.length;index+=64){Md5._md5Cycle(state,Md5.md5Block(stringValue.substring(index-64,index)));}
stringValue=stringValue.substring(index-64);for(var index=0;index<stringValue.length;index++){tail[index>>2]|=stringValue.charCodeAt(index)<<((index%4)<<3);}
tail[index>>2]|=0x80<<((index%4)<<3);if(index>55){Md5._md5Cycle(state,tail);for(var index=0;index<16;index++){tail[index]=0;}}
tail[14]=number*8;Md5._md5Cycle(state,tail);return state;}
var Template=Template||{};var TEMPLATE_ENGINE_NORMAL=1;var TEMPLATE_ENGINE_DOLLAR=2;var TEMPLATE_ENGINE_OPEN=3;var TEMPLATE_ENGINE_PARAMETERS=4;var TEMPLATE_ENGINE_PARAMETER=5;var TEMPLATE_ENGINE_PARAMETER_VALUE=6;var TEMPLATE_ENGINE_PARAMETER_VALUE_STRING=7;var TEMPLATE_NODE_ROOT=1;var TEMPLATE_NODE_TEXT=2;var TEMPLATE_NODE_SINGLE=3;var TEMPLATE_NODE_OPEN=4;var TEMPLATE_NODE_CLOSE=5;var TEMPLATE_NODE_UNDEFINED=6;var TEMPLATE_PARAMETER_STRING=1;var TEMPLATE_PARAMETER_REFERENCE=2;var TEMPLATE_PARAMETER_INTEGER=3;var TEMPLATE_PARAMETER_FLOAT=4;var DEFAULT_CALLBACKS={textEnd:function(data,start,end){console.info("textEnd :: '"+data+"'");},parameter:function(data,start,end){console.info("parameter :: '"+data+"'");},parameterValue:function(data,start,end){console.info("parameterValue :: '"+data+"'");},tagEnd:function(data,start,end){console.info("tagEnd :: '"+data+"'");}};var TemplateEngine=function(){};TemplateEngine.prototype.getc=function(){var buffer=this.buffer;var position=this.position;if(position==buffer.length){return null;}
var value=buffer[position];this.position++;return value;};TemplateEngine.prototype.mark=function(value){this.markN(value,0);};TemplateEngine.prototype.markBack=function(value){this.markN(value,1);}
TemplateEngine.prototype.markN=function(value,offset){this.marks[value]=this.position-offset;};TemplateEngine.prototype.callbackData=function(value){this.callbackDataN(value,0);};TemplateEngine.prototype.callbackDataBack=function(value){this.callbackDataN(value,1);};TemplateEngine.prototype.callbackDataN=function(value,offset){var callback=this.callbacks[value];if(!callback){return;}
var start=this.marks[value]||0;var end=this.position-offset;var data=this.buffer.slice(start,end);callback.call(this.context,data,start,end);};TemplateEngine.prototype.callback=function(value){var callback=this.callbacks[value];if(!callback){return;}
callback.call(this.context);};TemplateEngine.prototype.process=function(template,options){options=options||{}
this.buffer=template;this.position=0;this.marks={};this.callbacks=options.callbacks||DEFAULT_CALLBACKS;this.context=options.context||this;var ahead;var current;var aheadSet=0;var state=TEMPLATE_ENGINE_NORMAL;while(true){if(aheadSet){current=ahead;aheadSet=0;}
else{current=this.getc();}
if(current==null){break;}
switch(state){case TEMPLATE_ENGINE_NORMAL:if(current=='$'){state=TEMPLATE_ENGINE_DOLLAR;}
break;case TEMPLATE_ENGINE_DOLLAR:if(current=='{'){this.mark("tagName");this.markN("tagEnd",2);this.callbackDataN("textEnd",2);this.callback("tagBegin");state=TEMPLATE_ENGINE_OPEN;ahead=this.getc();aheadSet=1;if(ahead=='/'){this.callback("tagCloseBegin");aheadSet=0;}}else{state=TEMPLATE_ENGINE_NORMAL;}
break;case TEMPLATE_ENGINE_OPEN:if(current=='/'){ahead=this.getc();aheadSet=1;if(ahead=='}'){state=TEMPLATE_ENGINE_NORMAL;aheadSet=0;this.mark("textEnd");this.callbackData("tagEnd");this.callback("textBegin");break;}}
if(current=='}'){state=TEMPLATE_ENGINE_NORMAL;this.mark("textEnd");this.callbackData("tagEnd");this.callback("textBegin");break;}
if(current==' '){this.callbackDataBack("tagName");state=TEMPLATE_ENGINE_PARAMETERS;}
break;case TEMPLATE_ENGINE_PARAMETERS:if(current=='/'){ahead=this.getc();aheadSet=1;if(ahead=='}'){state=TEMPLATE_ENGINE_NORMAL;aheadSet=0;this.mark("textEnd");this.callbackData("tagEnd");this.callback("textBegin");break;}}
if(current=='}'){state=TEMPLATE_ENGINE_NORMAL;this.mark("textEnd");this.callbackData("tagEnd");this.callback("textBegin");break;}
if(current!=' '){this.markBack("parameter");state=TEMPLATE_ENGINE_PARAMETER;}
break;case TEMPLATE_ENGINE_PARAMETER:if(current=='/'){ahead=this.getc();aheadSet=1;if(ahead=='}'){state=TEMPLATE_ENGINE_NORMAL;aheadSet=0;this.mark("textEnd");this.callbackData("tagEnd");this.callback("textBegin");break;}}
if(current=='}'){state=TEMPLATE_ENGINE_NORMAL;this.mark("textEnd");this.callbackData("tagEnd");this.callback("textBegin");break;}
if(current=='='){this.callbackDataBack("parameter");this.mark("parameterValue");state=TEMPLATE_ENGINE_PARAMETER_VALUE;}
break;case TEMPLATE_ENGINE_PARAMETER_VALUE:if(current=='/'){ahead=this.getc();aheadSet=1;if(ahead=='}'){state=TEMPLATE_ENGINE_NORMAL;aheadSet=0;this.mark("textEnd");this.callbackData("tagEnd");this.callback("textBegin");break;}}
if(current=='}'){state=TEMPLATE_ENGINE_NORMAL;this.mark("textEnd");this.callbackDataBack("parameterValue");this.callbackData("tagEnd");this.callback("textBegin");break;}
if(current=='\"'){state=TEMPLATE_ENGINE_PARAMETER_VALUE_STRING;}else if(current==' '){this.callbackDataBack("parameterValue");state=TEMPLATE_ENGINE_PARAMETERS;}
break;case TEMPLATE_ENGINE_PARAMETER_VALUE_STRING:if(current=='\"'){this.callbackData("parameterValue");state=TEMPLATE_ENGINE_PARAMETERS;}
break;}}
if(state==TEMPLATE_ENGINE_NORMAL){this.callbackData("textEnd");}};var TemplateHandler=function(){this.names={}};TemplateHandler.prototype.getValue=function(){return this.stringValue;};TemplateHandler.prototype.assign=function(name,value){this.names[name]=value;};TemplateHandler.prototype.resolve=function(parameter){var value=parameter.value;switch(parameter.type){case TEMPLATE_PARAMETER_REFERENCE:value=this._get(value);break;};return value;};TemplateHandler.prototype._get=function(name){var names=name.split(".");var current=this.names;for(var index=0;index<names.length;index++){var _name=names[index];current=current[_name];}
return current;};TemplateHandler.prototype.eval=function(item,value,operator){var result=false;switch(operator.value){case"eq":result=item===value;break;case"neq":result=item!==value;break;}
return result;};TemplateHandler.prototype.process=function(template){this.stringBuffer=[];this.nodes=[];this.contexts=[];var rootNode=new TemplateNode(TEMPLATE_NODE_ROOT);this.currentNode=rootNode;var configuration={callbacks:{textBegin:this.onTextBegin,textEnd:this.onTextEnd,tagBegin:this.onTagBegin,tagCloseBegin:this.onTagCloseBegin,tagEnd:this.onTagEnd,tagName:this.onTagName,parameter:this.onParameter,parameterValue:this.onParameterValue},context:this};var engine=new TemplateEngine();engine.process(template,configuration);this.traverseNode(rootNode);this.stringValue=this.stringBuffer.join("");};TemplateHandler.prototype.openContext=function(){this.contexts.push(this.currentNode);this.currentNode=this.temporaryNode;};TemplateHandler.prototype.closeContext=function(){this.currentNode=this.contexts.pop();};TemplateHandler.prototype.onTextBegin=function(){};TemplateHandler.prototype.onTextEnd=function(data,start,end){var node=new TemplateNode(TEMPLATE_NODE_TEXT);this.temporaryNode=node;node.name=data;this.nodes.push(node);this.currentNode.children.push(node);};TemplateHandler.prototype.onTagBegin=function(){var node=new TemplateNode(TEMPLATE_NODE_OPEN);this.temporaryNode=node;};TemplateHandler.prototype.onTagCloseBegin=function(){this.temporaryNode.type=TEMPLATE_NODE_CLOSE;};TemplateHandler.prototype.onTagEnd=function(data,start,end){var currentNode=this.currentNode;if(data[data.length-2]=='/'){this.temporaryNode.type=TEMPLATE_NODE_SINGLE;}
switch(this.temporaryNode.type){case TEMPLATE_NODE_OPEN:this.openContext();break;case TEMPLATE_NODE_CLOSE:this.closeContext();break;}
if(this.temporaryNode.type==TEMPLATE_NODE_CLOSE){return;}
currentNode.children.push(this.temporaryNode);this.nodes.push(this.temporaryNode);};TemplateHandler.prototype.onTagName=function(data,start,end){this.temporaryNode.name=data;};TemplateHandler.prototype.onParameter=function(data,start,end){var parameter={name:data,value:null,type:null}
this.temporaryNode.temporaryParameter=parameter;this.temporaryNode.parameters.push(parameter);this.temporaryNode.parametersMap[data]=parameter;};TemplateHandler.prototype.onParameterValue=function(data,start,end){var temporaryParameter=this.temporaryNode.temporaryParameter;var first=data[0];var code=first.charCodeAt(0);if(first=='"'){temporaryParameter.value=data.slice(1,data.length-1);temporaryParameter.type=TEMPLATE_PARAMETER_STRING;}else if(code>0x2f&&code<0x58){temporaryParameter.value=parseInt(data);temporaryParameter.type=TEMPLATE_PARAMETER_INTEGER;}else{temporaryParameter.value=data;temporaryParameter.type=TEMPLATE_PARAMETER_REFERENCE;}};TemplateHandler.prototype.traverseNode=function(node){switch(node.type){case TEMPLATE_NODE_ROOT:this.traverseNodes(node);break;case TEMPLATE_NODE_TEXT:this.stringBuffer.push(node.name);break;case TEMPLATE_NODE_SINGLE:case TEMPLATE_NODE_OPEN:var method=this["traverse_"+node.name];method.call(this,node);break;}};TemplateHandler.prototype.traverseNodes=function(node){for(var index=0;index<node.children.length;index++){var child=node.children[index];this.traverseNode(child);}};TemplateHandler.prototype.traverse_out=function(node){var value=node.getParameter("value");var _value=value.value;switch(value.type){case TEMPLATE_PARAMETER_STRING:this.stringBuffer.push(_value);break;case TEMPLATE_PARAMETER_REFERENCE:_value=this._get(_value);var valueS=String(_value);this.stringBuffer.push(valueS);break;case TEMPLATE_PARAMETER_INTEGER:case TEMPLATE_PARAMETER_FLOAT:var valueS=String(_value);this.stringBuffer.push(valueS);break;}};TemplateHandler.prototype.traverse_foreach=function(node){var item=node.getParameter("item");var from=node.getParameter("from");var value=this.resolve(from);for(index=0;index<value.length;index++){var _value=value[index];this.assign(item.value,_value);this.traverseNodes(node);}};TemplateHandler.prototype.traverse_if=function(node){var item=node.getParameter("item");var value=node.getParameter("value");var operator=node.getParameter("operator");var _item=this.resolve(item);var _value=this.resolve(value);var result=this.eval(_item,_value,operator)
this.assign("if_result",result);for(var index=0;index<node.children.length;index++){var child=node.children[index];var _break=false;result=this._get("if_result");switch(child.type){case TEMPLATE_NODE_TEXT:result&&this.stringBuffer.push(child.name);break;case TEMPLATE_NODE_SINGLE:case TEMPLATE_NODE_OPEN:_break=result;var method=this["traverse_"+child.name];!result&&method.call(this,child);break;}
if(_break){break;}}};TemplateHandler.prototype.traverse_elif=function(node){var item=node.getParameter("item");var value=node.getParameter("value");var operator=node.getParameter("operator");var _item=this.resolve(item);var _value=this.resolve(value);var result=this.eval(_item,_value,operator)
this.assign("if_result",result);};TemplateHandler.prototype.traverse_else=function(node){this.assign("if_result",true);};var TemplateNode=function(type){this.type=type;this.children=[];this.parameters=[];this.parametersMap={}};TemplateNode.prototype.getParameter=function(name){return this.parametersMap[name];};(function(jQuery){jQuery.fn.message=function(options){var options=jQuery.extend({delay:1000},options);var callback=function(){};options.complete=options.complete||callback;options.success=options.success||callback;options.error=options.error||callback;jQuery.ajax({type:options.type||"get",url:options.url,data:options.data||{},complete:function(request,textStatus){options.complete();},success:function(data){try{if(!data){throw"Empty message received";}
try{data=typeof data=="object"?data:jQuery.parseJSON(data);}catch(exception){throw"No valid json data received";}
var result=data["result"];if(result=="success"){options.success(data);}
else{options.error(data);}}catch(message){options.error({result:"error",message:message});return;}},error:function(request,textStatus,errorThrown){try{var data=textStatus?jQuery.parseJSON(textStatus):null;}catch(exception){var data=null;}
if(data){options.error(data);}
else{setTimeout(function(){options.error({});},options.delay);}}});};})(jQuery);(function(jQuery){jQuery.fn.communication=function(method,options){var CONNECTED_STATUS="connected";var DISCONNECTED_STATUS="disconnected";var ERROR_STATUS="error";var defaults={timeout:1000,pollTimeout:50};var method=method?method:"default";var options=options?options:{};var options=jQuery.extend(defaults,options);var matchedObject=this;var initialize=function(){_appendHtml();_registerHandlers();};var _appendHtml=function(){};var _registerHandlers=function(){var url=options["url"];var channels=options["channels"];var timeout=options["timeout"];var pollTimeout=options["pollTimeout"];var callbacks=options["callbacks"];matchedObject.data("status",DISCONNECTED_STATUS);matchedObject.data("url",url);matchedObject.data("channels",channels);matchedObject.data("timeout",timeout);matchedObject.data("poll_timeout",pollTimeout);matchedObject.data("callbacks",callbacks);_connect(matchedObject,options);};var _connect=function(matchedObject,options){var url=matchedObject.data("url");var channels=matchedObject.data("channels");var channelsS=channels.join(",")
matchedObject.message({type:"post",url:url,data:{command:"connect",channels:channelsS},success:function(data){var connectionId=data["id"];matchedObject.data("id",connectionId);_update(matchedObject,options);_status(matchedObject,CONNECTED_STATUS);},error:function(data){var timeout=matchedObject.data("timeout");var timeoutHandler=setTimeout(function(){_connect(matchedObject,options);},timeout);matchedObject.data("timeout_handler",timeoutHandler);_status(matchedObject,DISCONNECTED_STATUS);}});};var _disconnect=function(matchedObject,options){var url=matchedObject.data("url");var connectionId=matchedObject.data("id");matchedObject.message({type:"post",url:url,data:{id:connectionId,command:"disconnect"},success:function(data){_status(matchedObject,DISCONNECTED_STATUS);},error:function(data){_status(matchedObject,ERROR_STATUS);}});};var _data=function(matchedObject,options){var data=options["data"];var url=matchedObject.data("url");var connectionId=matchedObject.data("id");matchedObject.message({type:"post",url:url,data:{id:connectionId,command:"data",data:data},complete:function(){options.complete&&options.complete();},success:function(data){options.success&&options.complete(data);},error:function(data){options.error&&options.error(data);}});};var _channel=function(matchedObject,options){var channel=options["channel"];var url=matchedObject.data("url");var connectionId=matchedObject.data("id");matchedObject.message({type:"post",url:url,data:{id:connectionId,command:"channel",channel:channel},complete:function(){options.complete&&options.complete(channel);},success:function(data){options.success&&options.success(channel);},error:function(data){options.error&&options.error(channel);}});};var _update=function(matchedObject,options){var url=matchedObject.data("url");var connectionId=matchedObject.data("id");matchedObject.message({type:"post",url:url,data:{id:connectionId,command:"update"},complete:function(){var status=matchedObject.data("status");var timeout=matchedObject.data("timeout");var method=status==DISCONNECTED_STATUS?_connect:_update;var timeoutHandler=setTimeout(function(){method(matchedObject,options);},timeout);matchedObject.data("timeout_handler",timeoutHandler);},success:function(data){var _data=data["data"];var dataElement=jQuery(_data);dataElement.each(function(index,element){_callbacks(matchedObject,options,element);});_status(matchedObject,CONNECTED_STATUS);},error:function(data){_status(matchedObject,DISCONNECTED_STATUS);}});};var _callbacks=function(matchedObject,options,data){var callbacks=matchedObject.data("callbacks");callbacks=callbacks?callbacks:[];jQuery(callbacks).each(function(index,element){element(data);});};var _status=function(matchedObject,status,parameters){var currentStatus=matchedObject.data("status");if(currentStatus==status){return;}
switch(status){case CONNECTED_STATUS:matchedObject.triggerHandler("stream_connected",parameters);break;case DISCONNECTED_STATUS:matchedObject.triggerHandler("stream_disconnected",parameters);break;case ERROR_STATUS:matchedObject.triggerHandler("stream_error",parameters);break;}
matchedObject.data("status",status);};switch(method){case"disconnect":_disconnect(matchedObject,options);break;case"data":_data(matchedObject,options);break;case"channel":_channel(matchedObject,options);break;case"default":initialize();break;}
return this;};})(jQuery);
